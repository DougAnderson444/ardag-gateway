import{c as commonjsGlobal,g as getDefaultExportFromCjs}from"./_commonjsHelpers-e864563f.js";var Vn=Object.create,vt$1=Object.defineProperty,jn=Object.getOwnPropertyDescriptor,qn$1=Object.getOwnPropertyNames,Gn=Object.getPrototypeOf,Hn$1=Object.prototype.hasOwnProperty,Wn$1=(e,t)=>()=>(e&&(t=e(e=0)),t),ce$1=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Xn$1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qn$1(t))!Hn$1.call(e,o)&&o!==r&&vt$1(e,o,{get:()=>t[o],enumerable:!(n=jn(t,o))||n.enumerable});return e},Yn$1=(e,t,r)=>(r=e!=null?Vn(Gn(e)):{},Xn$1(t||!e||!e.__esModule?vt$1(r,"default",{value:e,enumerable:!0}):r,e)),Ot$1=ce$1(e=>{d$1(),e.byteLength=T,e.toByteArray=V,e.fromByteArray=q;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(y=0,E=o.length;y<E;++y)t[y]=o[y],r[o.charCodeAt(y)]=y;var y,E;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function g(L){var I=L.length;if(I%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ee=L.indexOf("=");ee===-1&&(ee=I);var ie=ee===I?0:4-ee%4;return[ee,ie]}function T(L){var I=g(L),ee=I[0],ie=I[1];return(ee+ie)*3/4-ie}function P(L,I,ee){return(I+ee)*3/4-ee}function V(L){var I,ee=g(L),ie=ee[0],le=ee[1],ye=new n(P(L,ie,le)),ot=0,qe=le>0?ie-4:ie,Ee;for(Ee=0;Ee<qe;Ee+=4)I=r[L.charCodeAt(Ee)]<<18|r[L.charCodeAt(Ee+1)]<<12|r[L.charCodeAt(Ee+2)]<<6|r[L.charCodeAt(Ee+3)],ye[ot++]=I>>16&255,ye[ot++]=I>>8&255,ye[ot++]=I&255;return le===2&&(I=r[L.charCodeAt(Ee)]<<2|r[L.charCodeAt(Ee+1)]>>4,ye[ot++]=I&255),le===1&&(I=r[L.charCodeAt(Ee)]<<10|r[L.charCodeAt(Ee+1)]<<4|r[L.charCodeAt(Ee+2)]>>2,ye[ot++]=I>>8&255,ye[ot++]=I&255),ye}function X(L){return t[L>>18&63]+t[L>>12&63]+t[L>>6&63]+t[L&63]}function re(L,I,ee){for(var ie,le=[],ye=I;ye<ee;ye+=3)ie=(L[ye]<<16&16711680)+(L[ye+1]<<8&65280)+(L[ye+2]&255),le.push(X(ie));return le.join("")}function q(L){for(var I,ee=L.length,ie=ee%3,le=[],ye=16383,ot=0,qe=ee-ie;ot<qe;ot+=ye)le.push(re(L,ot,ot+ye>qe?qe:ot+ye));return ie===1?(I=L[ee-1],le.push(t[I>>2]+t[I<<4&63]+"==")):ie===2&&(I=(L[ee-2]<<8)+L[ee-1],le.push(t[I>>10]+t[I>>4&63]+t[I<<2&63]+"=")),le.join("")}}),zt$1=ce$1(e=>{d$1(),e.read=function(t,r,n,o,y){var E,g,T=y*8-o-1,P=(1<<T)-1,V=P>>1,X=-7,re=n?y-1:0,q=n?-1:1,L=t[r+re];for(re+=q,E=L&(1<<-X)-1,L>>=-X,X+=T;X>0;E=E*256+t[r+re],re+=q,X-=8);for(g=E&(1<<-X)-1,E>>=-X,X+=o;X>0;g=g*256+t[r+re],re+=q,X-=8);if(E===0)E=1-V;else{if(E===P)return g?NaN:(L?-1:1)*(1/0);g=g+Math.pow(2,o),E=E-V}return(L?-1:1)*g*Math.pow(2,E-o)},e.write=function(t,r,n,o,y,E){var g,T,P,V=E*8-y-1,X=(1<<V)-1,re=X>>1,q=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,L=o?0:E-1,I=o?1:-1,ee=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(T=isNaN(r)?1:0,g=X):(g=Math.floor(Math.log(r)/Math.LN2),r*(P=Math.pow(2,-g))<1&&(g--,P*=2),g+re>=1?r+=q/P:r+=q*Math.pow(2,1-re),r*P>=2&&(g++,P/=2),g+re>=X?(T=0,g=X):g+re>=1?(T=(r*P-1)*Math.pow(2,y),g=g+re):(T=r*Math.pow(2,re-1)*Math.pow(2,y),g=0));y>=8;t[n+L]=T&255,L+=I,T/=256,y-=8);for(g=g<<y|T,V+=y;V>0;t[n+L]=g&255,L+=I,g/=256,V-=8);t[n+L-I]|=ee*128}}),nr$1=ce$1(e=>{d$1();var t=Ot$1(),r=zt$1(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=g,e.SlowBuffer=le,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,g.TYPED_ARRAY_SUPPORT=y(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function y(){try{let s=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(s,w),s.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function E(s){if(s>o)throw new RangeError('The value "'+s+'" is invalid for option "size"');let w=new Uint8Array(s);return Object.setPrototypeOf(w,g.prototype),w}function g(s,w,k){if(typeof s=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return X(s)}return T(s,w,k)}g.poolSize=8192;function T(s,w,k){if(typeof s=="string")return re(s,w);if(ArrayBuffer.isView(s))return L(s);if(s==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s);if(Qr(s,ArrayBuffer)||s&&Qr(s.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Qr(s,SharedArrayBuffer)||s&&Qr(s.buffer,SharedArrayBuffer)))return I(s,w,k);if(typeof s=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let he=s.valueOf&&s.valueOf();if(he!=null&&he!==s)return g.from(he,w,k);let we=ee(s);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof s[Symbol.toPrimitive]=="function")return g.from(s[Symbol.toPrimitive]("string"),w,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s)}g.from=function(s,w,k){return T(s,w,k)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array);function P(s){if(typeof s!="number")throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function V(s,w,k){return P(s),s<=0?E(s):w!==void 0?typeof k=="string"?E(s).fill(w,k):E(s).fill(w):E(s)}g.alloc=function(s,w,k){return V(s,w,k)};function X(s){return P(s),E(s<0?0:ie(s)|0)}g.allocUnsafe=function(s){return X(s)},g.allocUnsafeSlow=function(s){return X(s)};function re(s,w){if((typeof w!="string"||w==="")&&(w="utf8"),!g.isEncoding(w))throw new TypeError("Unknown encoding: "+w);let k=ye(s,w)|0,he=E(k),we=he.write(s,w);return we!==k&&(he=he.slice(0,we)),he}function q(s){let w=s.length<0?0:ie(s.length)|0,k=E(w);for(let he=0;he<w;he+=1)k[he]=s[he]&255;return k}function L(s){if(Qr(s,Uint8Array)){let w=new Uint8Array(s);return I(w.buffer,w.byteOffset,w.byteLength)}return q(s)}function I(s,w,k){if(w<0||s.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<w+(k||0))throw new RangeError('"length" is outside of buffer bounds');let he;return w===void 0&&k===void 0?he=new Uint8Array(s):k===void 0?he=new Uint8Array(s,w):he=new Uint8Array(s,w,k),Object.setPrototypeOf(he,g.prototype),he}function ee(s){if(g.isBuffer(s)){let w=ie(s.length)|0,k=E(w);return k.length===0||s.copy(k,0,0,w),k}if(s.length!==void 0)return typeof s.length!="number"||ei(s.length)?E(0):q(s);if(s.type==="Buffer"&&Array.isArray(s.data))return q(s.data)}function ie(s){if(s>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return s|0}function le(s){return+s!=s&&(s=0),g.alloc(+s)}g.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==g.prototype},g.compare=function(s,w){if(Qr(s,Uint8Array)&&(s=g.from(s,s.offset,s.byteLength)),Qr(w,Uint8Array)&&(w=g.from(w,w.offset,w.byteLength)),!g.isBuffer(s)||!g.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===w)return 0;let k=s.length,he=w.length;for(let we=0,at=Math.min(k,he);we<at;++we)if(s[we]!==w[we]){k=s[we],he=w[we];break}return k<he?-1:he<k?1:0},g.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(s,w){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return g.alloc(0);let k;if(w===void 0)for(w=0,k=0;k<s.length;++k)w+=s[k].length;let he=g.allocUnsafe(w),we=0;for(k=0;k<s.length;++k){let at=s[k];if(Qr(at,Uint8Array))we+at.length>he.length?(g.isBuffer(at)||(at=g.from(at)),at.copy(he,we)):Uint8Array.prototype.set.call(he,at,we);else if(g.isBuffer(at))at.copy(he,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=at.length}return he};function ye(s,w){if(g.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||Qr(s,ArrayBuffer))return s.byteLength;if(typeof s!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof s);let k=s.length,he=arguments.length>2&&arguments[2]===!0;if(!he&&k===0)return 0;let we=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return vr(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return qr(s).length;default:if(we)return he?-1:vr(s).length;w=(""+w).toLowerCase(),we=!0}}g.byteLength=ye;function ot(s,w,k){let he=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,w>>>=0,k<=w))return"";for(s||(s="utf8");;)switch(s){case"hex":return ni(this,w,k);case"utf8":case"utf-8":return Hr(this,w,k);case"ascii":return wo(this,w,k);case"latin1":case"binary":return Gr(this,w,k);case"base64":return zr(this,w,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ki(this,w,k);default:if(he)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),he=!0}}g.prototype._isBuffer=!0;function qe(s,w,k){let he=s[w];s[w]=s[k],s[k]=he}g.prototype.swap16=function(){let s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<s;w+=2)qe(this,w,w+1);return this},g.prototype.swap32=function(){let s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<s;w+=4)qe(this,w,w+3),qe(this,w+1,w+2);return this},g.prototype.swap64=function(){let s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<s;w+=8)qe(this,w,w+7),qe(this,w+1,w+6),qe(this,w+2,w+5),qe(this,w+3,w+4);return this},g.prototype.toString=function(){let s=this.length;return s===0?"":arguments.length===0?Hr(this,0,s):ot.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(s){if(!g.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:g.compare(this,s)===0},g.prototype.inspect=function(){let s="",w=e.INSPECT_MAX_BYTES;return s=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(s+=" ... "),"<Buffer "+s+">"},n&&(g.prototype[n]=g.prototype.inspect),g.prototype.compare=function(s,w,k,he,we){if(Qr(s,Uint8Array)&&(s=g.from(s,s.offset,s.byteLength)),!g.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(w===void 0&&(w=0),k===void 0&&(k=s?s.length:0),he===void 0&&(he=0),we===void 0&&(we=this.length),w<0||k>s.length||he<0||we>this.length)throw new RangeError("out of range index");if(he>=we&&w>=k)return 0;if(he>=we)return-1;if(w>=k)return 1;if(w>>>=0,k>>>=0,he>>>=0,we>>>=0,this===s)return 0;let at=we-he,er=k-w,tn=Math.min(at,er),ri=this.slice(he,we),Zr=s.slice(w,k);for(let Yr=0;Yr<tn;++Yr)if(ri[Yr]!==Zr[Yr]){at=ri[Yr],er=Zr[Yr];break}return at<er?-1:er<at?1:0};function Ee(s,w,k,he,we){if(s.length===0)return-1;if(typeof k=="string"?(he=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,ei(k)&&(k=we?0:s.length-1),k<0&&(k=s.length+k),k>=s.length){if(we)return-1;k=s.length-1}else if(k<0)if(we)k=0;else return-1;if(typeof w=="string"&&(w=g.from(w,he)),g.isBuffer(w))return w.length===0?-1:it(s,w,k,he,we);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(s,w,k):Uint8Array.prototype.lastIndexOf.call(s,w,k):it(s,[w],k,he,we);throw new TypeError("val must be string, number or Buffer")}function it(s,w,k,he,we){let at=1,er=s.length,tn=w.length;if(he!==void 0&&(he=String(he).toLowerCase(),he==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(s.length<2||w.length<2)return-1;at=2,er/=2,tn/=2,k/=2}function ri(Yr,Ei){return at===1?Yr[Ei]:Yr.readUInt16BE(Ei*at)}let Zr;if(we){let Yr=-1;for(Zr=k;Zr<er;Zr++)if(ri(s,Zr)===ri(w,Yr===-1?0:Zr-Yr)){if(Yr===-1&&(Yr=Zr),Zr-Yr+1===tn)return Yr*at}else Yr!==-1&&(Zr-=Zr-Yr),Yr=-1}else for(k+tn>er&&(k=er-tn),Zr=k;Zr>=0;Zr--){let Yr=!0;for(let Ei=0;Ei<tn;Ei++)if(ri(s,Zr+Ei)!==ri(w,Ei)){Yr=!1;break}if(Yr)return Zr}return-1}g.prototype.includes=function(s,w,k){return this.indexOf(s,w,k)!==-1},g.prototype.indexOf=function(s,w,k){return Ee(this,s,w,k,!0)},g.prototype.lastIndexOf=function(s,w,k){return Ee(this,s,w,k,!1)};function Ie(s,w,k,he){k=Number(k)||0;let we=s.length-k;he?(he=Number(he),he>we&&(he=we)):he=we;let at=w.length;he>at/2&&(he=at/2);let er;for(er=0;er<he;++er){let tn=parseInt(w.substr(er*2,2),16);if(ei(tn))return er;s[k+er]=tn}return er}function jt(s,w,k,he){return Kr(vr(w,s.length-k),s,k,he)}function Qt(s,w,k,he){return Kr(Fr(w),s,k,he)}function sr(s,w,k,he){return Kr(qr(w),s,k,he)}function Pr(s,w,k,he){return Kr(st(w,s.length-k),s,k,he)}g.prototype.write=function(s,w,k,he){if(w===void 0)he="utf8",k=this.length,w=0;else if(k===void 0&&typeof w=="string")he=w,k=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(k)?(k=k>>>0,he===void 0&&(he="utf8")):(he=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let we=this.length-w;if((k===void 0||k>we)&&(k=we),s.length>0&&(k<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");let at=!1;for(;;)switch(he){case"hex":return Ie(this,s,w,k);case"utf8":case"utf-8":return jt(this,s,w,k);case"ascii":case"latin1":case"binary":return Qt(this,s,w,k);case"base64":return sr(this,s,w,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pr(this,s,w,k);default:if(at)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),at=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function zr(s,w,k){return w===0&&k===s.length?t.fromByteArray(s):t.fromByteArray(s.slice(w,k))}function Hr(s,w,k){k=Math.min(s.length,k);let he=[],we=w;for(;we<k;){let at=s[we],er=null,tn=at>239?4:at>223?3:at>191?2:1;if(we+tn<=k){let ri,Zr,Yr,Ei;switch(tn){case 1:at<128&&(er=at);break;case 2:ri=s[we+1],(ri&192)===128&&(Ei=(at&31)<<6|ri&63,Ei>127&&(er=Ei));break;case 3:ri=s[we+1],Zr=s[we+2],(ri&192)===128&&(Zr&192)===128&&(Ei=(at&15)<<12|(ri&63)<<6|Zr&63,Ei>2047&&(Ei<55296||Ei>57343)&&(er=Ei));break;case 4:ri=s[we+1],Zr=s[we+2],Yr=s[we+3],(ri&192)===128&&(Zr&192)===128&&(Yr&192)===128&&(Ei=(at&15)<<18|(ri&63)<<12|(Zr&63)<<6|Yr&63,Ei>65535&&Ei<1114112&&(er=Ei))}}er===null?(er=65533,tn=1):er>65535&&(er-=65536,he.push(er>>>10&1023|55296),er=56320|er&1023),he.push(er),we+=tn}return rn(he)}var en=4096;function rn(s){let w=s.length;if(w<=en)return String.fromCharCode.apply(String,s);let k="",he=0;for(;he<w;)k+=String.fromCharCode.apply(String,s.slice(he,he+=en));return k}function wo(s,w,k){let he="";k=Math.min(s.length,k);for(let we=w;we<k;++we)he+=String.fromCharCode(s[we]&127);return he}function Gr(s,w,k){let he="";k=Math.min(s.length,k);for(let we=w;we<k;++we)he+=String.fromCharCode(s[we]);return he}function ni(s,w,k){let he=s.length;(!w||w<0)&&(w=0),(!k||k<0||k>he)&&(k=he);let we="";for(let at=w;at<k;++at)we+=Bi[s[at]];return we}function ki(s,w,k){let he=s.slice(w,k),we="";for(let at=0;at<he.length-1;at+=2)we+=String.fromCharCode(he[at]+he[at+1]*256);return we}g.prototype.slice=function(s,w){let k=this.length;s=~~s,w=w===void 0?k:~~w,s<0?(s+=k,s<0&&(s=0)):s>k&&(s=k),w<0?(w+=k,w<0&&(w=0)):w>k&&(w=k),w<s&&(w=s);let he=this.subarray(s,w);return Object.setPrototypeOf(he,g.prototype),he};function Xr(s,w,k){if(s%1!==0||s<0)throw new RangeError("offset is not uint");if(s+w>k)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUintLE=g.prototype.readUIntLE=function(s,w,k){s=s>>>0,w=w>>>0,k||Xr(s,w,this.length);let he=this[s],we=1,at=0;for(;++at<w&&(we*=256);)he+=this[s+at]*we;return he},g.prototype.readUintBE=g.prototype.readUIntBE=function(s,w,k){s=s>>>0,w=w>>>0,k||Xr(s,w,this.length);let he=this[s+--w],we=1;for(;w>0&&(we*=256);)he+=this[s+--w]*we;return he},g.prototype.readUint8=g.prototype.readUInt8=function(s,w){return s=s>>>0,w||Xr(s,1,this.length),this[s]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(s,w){return s=s>>>0,w||Xr(s,2,this.length),this[s]|this[s+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(s,w){return s=s>>>0,w||Xr(s,2,this.length),this[s]<<8|this[s+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},g.prototype.readBigUInt64LE=_i(function(s){s=s>>>0,et(s,"offset");let w=this[s],k=this[s+7];(w===void 0||k===void 0)&&_e(s,this.length-8);let he=w+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,we=this[++s]+this[++s]*2**8+this[++s]*2**16+k*2**24;return BigInt(he)+(BigInt(we)<<BigInt(32))}),g.prototype.readBigUInt64BE=_i(function(s){s=s>>>0,et(s,"offset");let w=this[s],k=this[s+7];(w===void 0||k===void 0)&&_e(s,this.length-8);let he=w*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],we=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+k;return(BigInt(he)<<BigInt(32))+BigInt(we)}),g.prototype.readIntLE=function(s,w,k){s=s>>>0,w=w>>>0,k||Xr(s,w,this.length);let he=this[s],we=1,at=0;for(;++at<w&&(we*=256);)he+=this[s+at]*we;return we*=128,he>=we&&(he-=Math.pow(2,8*w)),he},g.prototype.readIntBE=function(s,w,k){s=s>>>0,w=w>>>0,k||Xr(s,w,this.length);let he=w,we=1,at=this[s+--he];for(;he>0&&(we*=256);)at+=this[s+--he]*we;return we*=128,at>=we&&(at-=Math.pow(2,8*w)),at},g.prototype.readInt8=function(s,w){return s=s>>>0,w||Xr(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},g.prototype.readInt16LE=function(s,w){s=s>>>0,w||Xr(s,2,this.length);let k=this[s]|this[s+1]<<8;return k&32768?k|4294901760:k},g.prototype.readInt16BE=function(s,w){s=s>>>0,w||Xr(s,2,this.length);let k=this[s+1]|this[s]<<8;return k&32768?k|4294901760:k},g.prototype.readInt32LE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},g.prototype.readInt32BE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},g.prototype.readBigInt64LE=_i(function(s){s=s>>>0,et(s,"offset");let w=this[s],k=this[s+7];(w===void 0||k===void 0)&&_e(s,this.length-8);let he=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(k<<24);return(BigInt(he)<<BigInt(32))+BigInt(w+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),g.prototype.readBigInt64BE=_i(function(s){s=s>>>0,et(s,"offset");let w=this[s],k=this[s+7];(w===void 0||k===void 0)&&_e(s,this.length-8);let he=(w<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(he)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+k)}),g.prototype.readFloatLE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),r.read(this,s,!0,23,4)},g.prototype.readFloatBE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),r.read(this,s,!1,23,4)},g.prototype.readDoubleLE=function(s,w){return s=s>>>0,w||Xr(s,8,this.length),r.read(this,s,!0,52,8)},g.prototype.readDoubleBE=function(s,w){return s=s>>>0,w||Xr(s,8,this.length),r.read(this,s,!1,52,8)};function Dt(s,w,k,he,we,at){if(!g.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>we||w<at)throw new RangeError('"value" argument is out of bounds');if(k+he>s.length)throw new RangeError("Index out of range")}g.prototype.writeUintLE=g.prototype.writeUIntLE=function(s,w,k,he){if(s=+s,w=w>>>0,k=k>>>0,!he){let er=Math.pow(2,8*k)-1;Dt(this,s,w,k,er,0)}let we=1,at=0;for(this[w]=s&255;++at<k&&(we*=256);)this[w+at]=s/we&255;return w+k},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(s,w,k,he){if(s=+s,w=w>>>0,k=k>>>0,!he){let er=Math.pow(2,8*k)-1;Dt(this,s,w,k,er,0)}let we=k-1,at=1;for(this[w+we]=s&255;--we>=0&&(at*=256);)this[w+we]=s/at&255;return w+k},g.prototype.writeUint8=g.prototype.writeUInt8=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,1,255,0),this[w]=s&255,w+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,2,65535,0),this[w]=s&255,this[w+1]=s>>>8,w+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,2,65535,0),this[w]=s>>>8,this[w+1]=s&255,w+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,4,4294967295,0),this[w+3]=s>>>24,this[w+2]=s>>>16,this[w+1]=s>>>8,this[w]=s&255,w+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,4,4294967295,0),this[w]=s>>>24,this[w+1]=s>>>16,this[w+2]=s>>>8,this[w+3]=s&255,w+4};function tr(s,w,k,he,we){Xt(w,he,we,s,k,7);let at=Number(w&BigInt(4294967295));s[k++]=at,at=at>>8,s[k++]=at,at=at>>8,s[k++]=at,at=at>>8,s[k++]=at;let er=Number(w>>BigInt(32)&BigInt(4294967295));return s[k++]=er,er=er>>8,s[k++]=er,er=er>>8,s[k++]=er,er=er>>8,s[k++]=er,k}function Wt(s,w,k,he,we){Xt(w,he,we,s,k,7);let at=Number(w&BigInt(4294967295));s[k+7]=at,at=at>>8,s[k+6]=at,at=at>>8,s[k+5]=at,at=at>>8,s[k+4]=at;let er=Number(w>>BigInt(32)&BigInt(4294967295));return s[k+3]=er,er=er>>8,s[k+2]=er,er=er>>8,s[k+1]=er,er=er>>8,s[k]=er,k+8}g.prototype.writeBigUInt64LE=_i(function(s,w=0){return tr(this,s,w,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=_i(function(s,w=0){return Wt(this,s,w,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(s,w,k,he){if(s=+s,w=w>>>0,!he){let tn=Math.pow(2,8*k-1);Dt(this,s,w,k,tn-1,-tn)}let we=0,at=1,er=0;for(this[w]=s&255;++we<k&&(at*=256);)s<0&&er===0&&this[w+we-1]!==0&&(er=1),this[w+we]=(s/at>>0)-er&255;return w+k},g.prototype.writeIntBE=function(s,w,k,he){if(s=+s,w=w>>>0,!he){let tn=Math.pow(2,8*k-1);Dt(this,s,w,k,tn-1,-tn)}let we=k-1,at=1,er=0;for(this[w+we]=s&255;--we>=0&&(at*=256);)s<0&&er===0&&this[w+we+1]!==0&&(er=1),this[w+we]=(s/at>>0)-er&255;return w+k},g.prototype.writeInt8=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,1,127,-128),s<0&&(s=255+s+1),this[w]=s&255,w+1},g.prototype.writeInt16LE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,2,32767,-32768),this[w]=s&255,this[w+1]=s>>>8,w+2},g.prototype.writeInt16BE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,2,32767,-32768),this[w]=s>>>8,this[w+1]=s&255,w+2},g.prototype.writeInt32LE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,4,2147483647,-2147483648),this[w]=s&255,this[w+1]=s>>>8,this[w+2]=s>>>16,this[w+3]=s>>>24,w+4},g.prototype.writeInt32BE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[w]=s>>>24,this[w+1]=s>>>16,this[w+2]=s>>>8,this[w+3]=s&255,w+4},g.prototype.writeBigInt64LE=_i(function(s,w=0){return tr(this,s,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=_i(function(s,w=0){return Wt(this,s,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Jr(s,w,k,he,we,at){if(k+he>s.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function ao(s,w,k,he,we){return w=+w,k=k>>>0,we||Jr(s,w,k,4),r.write(s,w,k,he,23,4),k+4}g.prototype.writeFloatLE=function(s,w,k){return ao(this,s,w,!0,k)},g.prototype.writeFloatBE=function(s,w,k){return ao(this,s,w,!1,k)};function yo(s,w,k,he,we){return w=+w,k=k>>>0,we||Jr(s,w,k,8),r.write(s,w,k,he,52,8),k+8}g.prototype.writeDoubleLE=function(s,w,k){return yo(this,s,w,!0,k)},g.prototype.writeDoubleBE=function(s,w,k){return yo(this,s,w,!1,k)},g.prototype.copy=function(s,w,k,he){if(!g.isBuffer(s))throw new TypeError("argument should be a Buffer");if(k||(k=0),!he&&he!==0&&(he=this.length),w>=s.length&&(w=s.length),w||(w=0),he>0&&he<k&&(he=k),he===k||s.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),s.length-w<he-k&&(he=s.length-w+k);let we=he-k;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,k,he):Uint8Array.prototype.set.call(s,this.subarray(k,he),w),we},g.prototype.fill=function(s,w,k,he){if(typeof s=="string"){if(typeof w=="string"?(he=w,w=0,k=this.length):typeof k=="string"&&(he=k,k=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!g.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(s.length===1){let at=s.charCodeAt(0);(he==="utf8"&&at<128||he==="latin1")&&(s=at)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(w<0||this.length<w||this.length<k)throw new RangeError("Out of range index");if(k<=w)return this;w=w>>>0,k=k===void 0?this.length:k>>>0,s||(s=0);let we;if(typeof s=="number")for(we=w;we<k;++we)this[we]=s;else{let at=g.isBuffer(s)?s:g.from(s,he),er=at.length;if(er===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(we=0;we<k-w;++we)this[we+w]=at[we%er]}return this};var rr={};function Br(s,w,k){rr[s]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${s}]`,this.stack,delete this.name}get code(){return s}set code(he){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:he,writable:!0})}toString(){return`${this.name} [${s}]: ${this.message}`}}}Br("ERR_BUFFER_OUT_OF_BOUNDS",function(s){return s?`${s} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Br("ERR_INVALID_ARG_TYPE",function(s,w){return`The "${s}" argument must be of type number. Received type ${typeof w}`},TypeError),Br("ERR_OUT_OF_RANGE",function(s,w,k){let he=`The value of "${s}" is out of range.`,we=k;return Number.isInteger(k)&&Math.abs(k)>2**32?we=je(String(k)):typeof k=="bigint"&&(we=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(we=je(we)),we+="n"),he+=` It must be ${w}. Received ${we}`,he},RangeError);function je(s){let w="",k=s.length,he=s[0]==="-"?1:0;for(;k>=he+4;k-=3)w=`_${s.slice(k-3,k)}${w}`;return`${s.slice(0,k)}${w}`}function Gt(s,w,k){et(w,"offset"),(s[w]===void 0||s[w+k]===void 0)&&_e(w,s.length-(k+1))}function Xt(s,w,k,he,we,at){if(s>k||s<w){let er=typeof w=="bigint"?"n":"",tn;throw at>3?w===0||w===BigInt(0)?tn=`>= 0${er} and < 2${er} ** ${(at+1)*8}${er}`:tn=`>= -(2${er} ** ${(at+1)*8-1}${er}) and < 2 ** ${(at+1)*8-1}${er}`:tn=`>= ${w}${er} and <= ${k}${er}`,new rr.ERR_OUT_OF_RANGE("value",tn,s)}Gt(he,we,at)}function et(s,w){if(typeof s!="number")throw new rr.ERR_INVALID_ARG_TYPE(w,"number",s)}function _e(s,w,k){throw Math.floor(s)!==s?(et(s,k),new rr.ERR_OUT_OF_RANGE(k||"offset","an integer",s)):w<0?new rr.ERR_BUFFER_OUT_OF_BOUNDS:new rr.ERR_OUT_OF_RANGE(k||"offset",`>= ${k?1:0} and <= ${w}`,s)}var ir=/[^+/0-9A-Za-z-_]/g;function Rr(s){if(s=s.split("=")[0],s=s.trim().replace(ir,""),s.length<2)return"";for(;s.length%4!==0;)s=s+"=";return s}function vr(s,w){w=w||1/0;let k,he=s.length,we=null,at=[];for(let er=0;er<he;++er){if(k=s.charCodeAt(er),k>55295&&k<57344){if(!we){if(k>56319){(w-=3)>-1&&at.push(239,191,189);continue}else if(er+1===he){(w-=3)>-1&&at.push(239,191,189);continue}we=k;continue}if(k<56320){(w-=3)>-1&&at.push(239,191,189),we=k;continue}k=(we-55296<<10|k-56320)+65536}else we&&(w-=3)>-1&&at.push(239,191,189);if(we=null,k<128){if((w-=1)<0)break;at.push(k)}else if(k<2048){if((w-=2)<0)break;at.push(k>>6|192,k&63|128)}else if(k<65536){if((w-=3)<0)break;at.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((w-=4)<0)break;at.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return at}function Fr(s){let w=[];for(let k=0;k<s.length;++k)w.push(s.charCodeAt(k)&255);return w}function st(s,w){let k,he,we,at=[];for(let er=0;er<s.length&&!((w-=2)<0);++er)k=s.charCodeAt(er),he=k>>8,we=k%256,at.push(we),at.push(he);return at}function qr(s){return t.toByteArray(Rr(s))}function Kr(s,w,k,he){let we;for(we=0;we<he&&!(we+k>=w.length||we>=s.length);++we)w[we+k]=s[we];return we}function Qr(s,w){return s instanceof w||s!=null&&s.constructor!=null&&s.constructor.name!=null&&s.constructor.name===w.name}function ei(s){return s!==s}var Bi=function(){let s="0123456789abcdef",w=new Array(256);for(let k=0;k<16;++k){let he=k*16;for(let we=0;we<16;++we)w[he+we]=s[k]+s[we]}return w}();function _i(s){return typeof BigInt>"u"?Ii:s}function Ii(){throw new Error("BigInt not supported")}}),ur=ce$1((e,t)=>{d$1();var r=t.exports={},n,o;function y(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=y}catch{n=y}try{typeof clearTimeout=="function"?o=clearTimeout:o=E}catch{o=E}})();function g(ie){if(n===setTimeout)return setTimeout(ie,0);if((n===y||!n)&&setTimeout)return n=setTimeout,setTimeout(ie,0);try{return n(ie,0)}catch{try{return n.call(null,ie,0)}catch{return n.call(this,ie,0)}}}function T(ie){if(o===clearTimeout)return clearTimeout(ie);if((o===E||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(ie);try{return o(ie)}catch{try{return o.call(null,ie)}catch{return o.call(this,ie)}}}var P=[],V=!1,X,re=-1;function q(){!V||!X||(V=!1,X.length?P=X.concat(P):re=-1,P.length&&L())}function L(){if(!V){var ie=g(q);V=!0;for(var le=P.length;le;){for(X=P,P=[];++re<le;)X&&X[re].run();re=-1,le=P.length}X=null,V=!1,T(ie)}}r.nextTick=function(ie){var le=new Array(arguments.length-1);if(arguments.length>1)for(var ye=1;ye<arguments.length;ye++)le[ye-1]=arguments[ye];P.push(new I(ie,le)),P.length===1&&!V&&g(L)};function I(ie,le){this.fun=ie,this.array=le}I.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function ee(){}r.on=ee,r.addListener=ee,r.once=ee,r.off=ee,r.removeListener=ee,r.removeAllListeners=ee,r.emit=ee,r.prependListener=ee,r.prependOnceListener=ee,r.listeners=function(ie){return[]},r.binding=function(ie){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(ie){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),d$1=Wn$1(()=>{nr$1().Buffer,ur(),globalThis&&globalThis.process&&globalThis.process.env&&(globalThis.process.env.LIBP2P_FORCE_PNET=!1)}),hr=ce$1((e,t)=>{d$1(),t.exports=E;var r=128,n=127,o=~n,y=Math.pow(2,31);function E(g,T,P){if(Number.MAX_SAFE_INTEGER&&g>Number.MAX_SAFE_INTEGER)throw E.bytes=0,new RangeError("Could not encode varint");T=T||[],P=P||0;for(var V=P;g>=y;)T[P++]=g&255|r,g/=128;for(;g&o;)T[P++]=g&255|r,g>>>=7;return T[P]=g|0,E.bytes=P-V+1,T}}),pr$1=ce$1((e,t)=>{d$1(),t.exports=o;var r=128,n=127;function o(y,T){var g=0,T=T||0,P=0,V=T,X,re=y.length;do{if(V>=re||P>49)throw o.bytes=0,new RangeError("Could not decode varint");X=y[V++],g+=P<28?(X&n)<<P:(X&n)*Math.pow(2,P),P+=7}while(X>=r);return o.bytes=V-T,g}}),wr$2=ce$1((e,t)=>{d$1();var r=Math.pow(2,7),n=Math.pow(2,14),o=Math.pow(2,21),y=Math.pow(2,28),E=Math.pow(2,35),g=Math.pow(2,42),T=Math.pow(2,49),P=Math.pow(2,56),V=Math.pow(2,63);t.exports=function(X){return X<r?1:X<n?2:X<o?3:X<y?4:X<E?5:X<g?6:X<T?7:X<P?8:X<V?9:10}}),mr$1=ce$1((e,t)=>{d$1(),t.exports={encode:hr(),decode:pr$1(),encodingLength:wr$2()}});d$1();var Pe$1=Yn$1(mr$1(),1);d$1();d$1();d$1();var ji=["string","number","bigint","symbol"],qi=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function xr$2(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;return ji.includes(t)?t:t==="function"?"Function":Array.isArray(e)?"Array":Gi$1(e)?"Buffer":Hi(e)||"Object"}function Gi$1(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function Hi(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(qi.includes(t))return t}d$1();var c=class{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};c.uint=new c(0,"uint",!0);c.negint=new c(1,"negint",!0);c.bytes=new c(2,"bytes",!0);c.string=new c(3,"string",!0);c.array=new c(4,"array",!1);c.map=new c(5,"map",!1);c.tag=new c(6,"tag",!1);c.float=new c(7,"float",!0);c.false=new c(7,"false",!0);c.true=new c(7,"true",!0);c.null=new c(7,"null",!0);c.undefined=new c(7,"undefined",!0);c.break=new c(7,"break",!0);var f=class{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};d$1();d$1();var Be$1=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function";new TextDecoder;var Xi=new TextEncoder;function We$1(e){return Be$1&&globalThis.Buffer.isBuffer(e)}function mt$2(e){return e instanceof Uint8Array?We$1(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var Ir=Be$1?e=>e.length>64?globalThis.Buffer.from(e):Er$1(e):e=>e.length>64?Xi.encode(e):Er$1(e),K$1=e=>Uint8Array.from(e),be=Be$1?(e,t,r)=>We$1(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Ur=Be$1?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),mt$2(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},Tr=Be$1?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Sr$1(e,t){if(We$1(e)&&We$1(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function Er$1(e,t=1/0){let r,n=e.length,o=null,y=[];for(let E=0;E<n;++E){if(r=e.charCodeAt(E),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&y.push(239,191,189);continue}else if(E+1===n){(t-=3)>-1&&y.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&y.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&y.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;y.push(r)}else if(r<2048){if((t-=2)<0)break;y.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;y.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;y.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return y}var Ji=256,Ne$2=class{constructor(e=Ji){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let r=t.length-(this.maxCursor-this.cursor)-1;r<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,r),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Tr(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=be(r,0,this.cursor)}else t=Ur(this.chunks,this.cursor);return e&&this.reset(),t}};d$1();var B$1="CBOR decode error:",xt="CBOR encode error:";d$1();d$1();var S$2=[24,256,65536,4294967296,BigInt("18446744073709551616")];function D(e,t){return F$1(e,0,t.value)}function F$1(e,t,r){if(r<S$2[0]){let n=Number(r);e.push([t|n])}else if(r<S$2[1]){let n=Number(r);e.push([t|24,n])}else if(r<S$2[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<S$2[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<S$2[4]){let o=[t|27,0,0,0,0,0,0,0],y=Number(n&BigInt(4294967295)),E=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=y&255,y=y>>8,o[7]=y&255,y=y>>8,o[6]=y&255,y=y>>8,o[5]=y&255,o[4]=E&255,E=E>>8,o[3]=E&255,E=E>>8,o[2]=E&255,E=E>>8,o[1]=E&255,e.push(o)}else throw new Error(`${B$1} encountered BigInt larger than allowable range`)}}D.encodedSize=function(e){return F$1.encodedSize(e.value)};F$1.encodedSize=function(e){return e<S$2[0]?1:e<S$2[1]?2:e<S$2[2]?3:e<S$2[3]?5:9};D.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};d$1();var Et=BigInt(-1),$r$1=BigInt(1);function Xe$2(e,t){let r=t.value,n=typeof r=="bigint"?r*Et-$r$1:r*-1-1;F$1(e,t.type.majorEncoded,n)}Xe$2.encodedSize=function(e){let t=e.value,r=typeof t=="bigint"?t*Et-$r$1:t*-1-1;return r<S$2[0]?1:r<S$2[1]?2:r<S$2[2]?3:r<S$2[3]?5:9};Xe$2.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};d$1();function Ye$1(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===c.string?Ir(e.value):e.value),e.encodedBytes}function Ae$1(e,t){let r=Ye$1(t);F$1(e,t.type.majorEncoded,r.length),e.push(r)}Ae$1.encodedSize=function(e){let t=Ye$1(e);return F$1.encodedSize(t.length)+t.length};Ae$1.compareTokens=function(e,t){return Qi(Ye$1(e),Ye$1(t))};function Qi(e,t){return e.length<t.length?-1:e.length>t.length?1:Sr$1(e,t)}d$1();var Wr=Ae$1;d$1();function Je$1(e,t){F$1(e,c.array.majorEncoded,t.value)}Je$1.compareTokens=D.compareTokens;Je$1.encodedSize=function(e){return F$1.encodedSize(e.value)};d$1();function Ke$1(e,t){F$1(e,c.map.majorEncoded,t.value)}Ke$1.compareTokens=D.compareTokens;Ke$1.encodedSize=function(e){return F$1.encodedSize(e.value)};d$1();function Qe(e,t){F$1(e,c.tag.majorEncoded,t.value)}Qe.compareTokens=D.compareTokens;Qe.encodedSize=function(e){return F$1.encodedSize(e.value)};d$1();var io$1=20,oo$1=21,so$1=22,co$1=23;function Ze(e,t,r){let n=t.value;if(n===!1)e.push([c.float.majorEncoded|io$1]);else if(n===!0)e.push([c.float.majorEncoded|oo$1]);else if(n===null)e.push([c.float.majorEncoded|so$1]);else if(n===void 0)e.push([c.float.majorEncoded|co$1]);else{let o,y=!1;(!r||r.float64!==!0)&&(mn$2(n),o=bt$1(j,1),n===o||Number.isNaN(n)?(j[0]=249,e.push(j.slice(0,3)),y=!0):(xn$1(n),o=At(j,1),n===o&&(j[0]=250,e.push(j.slice(0,5)),y=!0))),y||(uo(n),o=En(j,1),j[0]=251,e.push(j.slice(0,9)))}}Ze.encodedSize=function(e,t){let r=e.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!t||t.float64!==!0){mn$2(r);let n=bt$1(j,1);if(r===n||Number.isNaN(r))return 3;if(xn$1(r),n=At(j,1),r===n)return 5}return 9};var gn$1=new ArrayBuffer(9),O=new DataView(gn$1,1),j=new Uint8Array(gn$1,0);function mn$2(e){if(e===1/0)O.setUint16(0,31744,!1);else if(e===-1/0)O.setUint16(0,64512,!1);else if(Number.isNaN(e))O.setUint16(0,32256,!1);else{O.setFloat32(0,e);let t=O.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)O.setUint16(0,31744,!1);else if(r===0)O.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?O.setUint16(0,0):o<-14?O.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):O.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function bt$1(e,t){if(e.length-t<2)throw new Error(`${B$1} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,y;return n===0?y=o*2**-24:n!==31?y=(o+1024)*2**(n-25):y=o===0?1/0:NaN,r&32768?-y:y}function xn$1(e){O.setFloat32(0,e,!1)}function At(e,t){if(e.length-t<4)throw new Error(`${B$1} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function uo(e){O.setFloat64(0,e,!1)}function En(e,t){if(e.length-t<8)throw new Error(`${B$1} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}Ze.compareTokens=D.compareTokens;for(let e=0;e<24;e++)new f(c.uint,e,1);for(let e=-1;e>=-24;e--)new f(c.negint,e,1);new f(c.bytes,new Uint8Array(0),1);new f(c.string,"",1);new f(c.array,0,1);new f(c.map,0,1);new f(c.false,!1,1);new f(c.true,!0,1);new f(c.null,null,1);function tt(e){switch(e.type){case c.false:return K$1([244]);case c.true:return K$1([245]);case c.null:return K$1([246]);case c.bytes:return e.value.length?void 0:K$1([64]);case c.string:return e.value===""?K$1([96]):void 0;case c.array:return e.value===0?K$1([128]):void 0;case c.map:return e.value===0?K$1([160]):void 0;case c.uint:return e.value<24?K$1([Number(e.value)]):void 0;case c.negint:if(e.value>=-24)return K$1([31-Number(e.value)])}}var fo$2={float64:!1,mapSorter:lo$1,quickEncodeToken:tt};function Ut$1(){let e=[];return e[c.uint.major]=D,e[c.negint.major]=Xe$2,e[c.bytes.major]=Ae$1,e[c.string.major]=Wr,e[c.array.major]=Je$1,e[c.map.major]=Ke$1,e[c.tag.major]=Qe,e[c.float.major]=Ze,e}var Bn=Ut$1(),It$1=new Ne$2,Te$1=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${xt} object contains circular references`);return new Te$1(t,e)}},ae={null:new f(c.null,null),undefined:new f(c.undefined,void 0),true:new f(c.true,!0),false:new f(c.false,!1),emptyArray:new f(c.array,0),emptyMap:new f(c.map,0)},fe$1={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new f(c.float,e):e>=0?new f(c.uint,e):new f(c.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new f(c.uint,e):new f(c.negint,e)},Uint8Array(e,t,r,n){return new f(c.bytes,e)},string(e,t,r,n){return new f(c.string,e)},boolean(e,t,r,n){return e?ae.true:ae.false},null(e,t,r,n){return ae.null},undefined(e,t,r,n){return ae.undefined},ArrayBuffer(e,t,r,n){return new f(c.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new f(c.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[ae.emptyArray,new f(c.break)]:ae.emptyArray;n=Te$1.createCheck(n,e);let o=[],y=0;for(let E of e)o[y++]=ve$1(E,r,n);return r.addBreakTokens?[new f(c.array,e.length),o,new f(c.break)]:[new f(c.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",y=o?e.keys():Object.keys(e),E=o?e.size:y.length;if(!E)return r.addBreakTokens===!0?[ae.emptyMap,new f(c.break)]:ae.emptyMap;n=Te$1.createCheck(n,e);let g=[],T=0;for(let P of y)g[T++]=[ve$1(P,r,n),ve$1(o?e.get(P):e[P],r,n)];return ho$1(g,r),r.addBreakTokens?[new f(c.map,E),g,new f(c.break)]:[new f(c.map,E),g]}};fe$1.Map=fe$1.Object;fe$1.Buffer=fe$1.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))fe$1[`${e}Array`]=fe$1.DataView;function ve$1(e,t={},r){let n=xr$2(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||fe$1[n];if(typeof o=="function"){let E=o(e,n,t,r);if(E!=null)return E}let y=fe$1[n];if(!y)throw new Error(`${xt} unsupported type: ${n}`);return y(e,n,t,r)}function ho$1(e,t){t.mapSorter&&e.sort(t.mapSorter)}function lo$1(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,y=Bn[o].compareTokens(r,n);return y===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),y}function bn$1(e,t,r,n){if(Array.isArray(t))for(let o of t)bn$1(e,o,r,n);else r[t.type.major](e,t,n)}function po(e,t,r){let n=ve$1(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let y=t[n.type.major];if(y.encodedSize){let E=y.encodedSize(n,r),g=new Ne$2(E);if(y(g,n,r),g.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return mt$2(g.chunks[0])}}return It$1.reset(),bn$1(It$1,n,t,r),It$1.toBytes(!0)}function Tt$2(e,t){return t=Object.assign({},fo$2,t),po(e,Bn,t)}d$1();d$1();var go=Ut$1(),mo={float64:!1,quickEncodeToken:tt};function St(e,t=go,r=mo){if(Array.isArray(e)){let n=0;for(let o of e)n+=St(o,t,r);return n}else{let n=t[e.type.major];if(n.encodedSize===void 0||typeof n.encodedSize!="function")throw new Error(`Encoder for ${e.type.name} does not have an encodedSize()`);return n.encodedSize(e,r)}}d$1();d$1();d$1();d$1();var xo$1=Un$1,An$2=128,Eo$1=127,Bo$1=~Eo$1,bo$2=Math.pow(2,31);function Un$1(e,t,r){t=t||[],r=r||0;for(var n=r;e>=bo$2;)t[r++]=e&255|An$2,e/=128;for(;e&Bo$1;)t[r++]=e&255|An$2,e>>>=7;return t[r]=e|0,Un$1.bytes=r-n+1,t}var Ao=Ft,Io$1=128,In=127;function Ft(e,n){var r=0,n=n||0,o=0,y=n,E,g=e.length;do{if(y>=g)throw Ft.bytes=0,new RangeError("Could not decode varint");E=e[y++],r+=o<28?(E&In)<<o:(E&In)*Math.pow(2,o),o+=7}while(E>=Io$1);return Ft.bytes=y-n,r}var Uo=Math.pow(2,7),To$2=Math.pow(2,14),So$1=Math.pow(2,21),Fo$1=Math.pow(2,28),ko$1=Math.pow(2,35),Co$1=Math.pow(2,42),_o$1=Math.pow(2,49),No$2=Math.pow(2,56),Mo$1=Math.pow(2,63),Ro$2=function(e){return e<Uo?1:e<To$2?2:e<So$1?3:e<Fo$1?4:e<ko$1?5:e<Co$1?6:e<_o$1?7:e<No$2?8:e<Mo$1?9:10},$o={encode:xo$1,decode:Ao,encodingLength:Ro$2},vo$1=$o,Le$1=vo$1,De$1=e=>[Le$1.decode(e),Le$1.decode.bytes],Se$2=(e,t,r=0)=>(Le$1.encode(e,t,r),t),Fe$1=e=>Le$1.encodingLength(e);d$1();d$1();var Sn$1=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},ke$2=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Fn=(e,t)=>{let r=t.byteLength,n=Fe$1(e),o=n+Fe$1(r),y=new Uint8Array(o+r);return Se$2(e,y,0),Se$2(r,y,n),y.set(t,o),new Ce$1(e,r,t,y)},kn=e=>{let t=ke$2(e),[r,n]=De$1(t),[o,y]=De$1(t.subarray(n)),E=t.subarray(n+y);if(E.byteLength!==o)throw new Error("Incorrect length");return new Ce$1(r,o,E,t)},Cn=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&Sn$1(e.bytes,t.bytes),Ce$1=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}};d$1();d$1();d$1();function Do$1(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var y=e.charAt(o),E=y.charCodeAt(0);if(r[E]!==255)throw new TypeError(y+" is ambiguous");r[E]=o}var g=e.length,T=e.charAt(0),P=Math.log(g)/Math.log(256),V=Math.log(256)/Math.log(g);function X(L){if(L instanceof Uint8Array||(ArrayBuffer.isView(L)?L=new Uint8Array(L.buffer,L.byteOffset,L.byteLength):Array.isArray(L)&&(L=Uint8Array.from(L))),!(L instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(L.length===0)return"";for(var I=0,ee=0,ie=0,le=L.length;ie!==le&&L[ie]===0;)ie++,I++;for(var ye=(le-ie)*V+1>>>0,ot=new Uint8Array(ye);ie!==le;){for(var qe=L[ie],Ee=0,it=ye-1;(qe!==0||Ee<ee)&&it!==-1;it--,Ee++)qe+=256*ot[it]>>>0,ot[it]=qe%g>>>0,qe=qe/g>>>0;if(qe!==0)throw new Error("Non-zero carry");ee=Ee,ie++}for(var Ie=ye-ee;Ie!==ye&&ot[Ie]===0;)Ie++;for(var jt=T.repeat(I);Ie<ye;++Ie)jt+=e.charAt(ot[Ie]);return jt}function re(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return new Uint8Array;var I=0;if(L[I]!==" "){for(var ee=0,ie=0;L[I]===T;)ee++,I++;for(var le=(L.length-I)*P+1>>>0,ye=new Uint8Array(le);L[I];){var ot=r[L.charCodeAt(I)];if(ot===255)return;for(var qe=0,Ee=le-1;(ot!==0||qe<ie)&&Ee!==-1;Ee--,qe++)ot+=g*ye[Ee]>>>0,ye[Ee]=ot%256>>>0,ot=ot/256>>>0;if(ot!==0)throw new Error("Non-zero carry");ie=qe,I++}if(L[I]!==" "){for(var it=le-ie;it!==le&&ye[it]===0;)it++;for(var Ie=new Uint8Array(ee+(le-it)),jt=ee;it!==le;)Ie[jt++]=ye[it++];return Ie}}}function q(L){var I=re(L);if(I)return I;throw new Error(`Non-${t} character`)}return{encode:X,decodeUnsafe:re,decode:q}}var Oo$1=Do$1,zo=Oo$1,_n=zo,kt$1=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Ct=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Nn(this,e)}},_t=class{constructor(e){this.decoders=e}or(e){return Nn(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Nn=(e,t)=>new _t({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Nt$1=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new kt$1(e,t,r),this.decoder=new Ct(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Mn$1=({name:e,prefix:t,encode:r,decode:n})=>new Nt$1(e,t,r,n),Mt$1=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=_n(r,t);return Mn$1({prefix:e,name:t,encode:n,decode:y=>ke$2(o(y))})},Po$2=(e,t,r,n)=>{let o={};for(let V=0;V<t.length;++V)o[t[V]]=V;let y=e.length;for(;e[y-1]==="=";)--y;let E=new Uint8Array(y*r/8|0),g=0,T=0,P=0;for(let V=0;V<y;++V){let X=o[e[V]];if(X===void 0)throw new SyntaxError(`Non-${n} character`);T=T<<r|X,g+=r,g>=8&&(g-=8,E[P++]=255&T>>g)}if(g>=r||255&T<<8-g)throw new SyntaxError("Unexpected end of data");return E},Vo=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,y="",E=0,g=0;for(let T=0;T<e.length;++T)for(g=g<<8|e[T],E+=8;E>r;)E-=r,y+=t[o&g>>E];if(E&&(y+=t[o&g<<r-E]),n)for(;y.length*r&7;)y+="=";return y},Z=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Mn$1({prefix:t,name:e,encode(o){return Vo(o,n,r)},decode(o){return Po$2(o,n,r,e)}}),oe$1=Mt$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});Mt$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});d$1();var Oe$2=Z({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});Z({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});Z({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});Z({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});Z({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});Z({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});Z({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});Z({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});Z({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var U$1=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:nt,byteLength:nt,code:rt,version:rt,multihash:rt,bytes:rt,_baseCache:nt,asCID:nt})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==ze$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Ho$1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return U$1.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Fn(e,t);return U$1.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Cn(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return qo$1(t,n,e||oe$1.encoder);default:return Go$1(t,n,e||Oe$2.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Xo$1(/^0\.0/,Yo$1),!!(e&&(e[$n]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof U$1)return e;if(e!=null&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:o}=e;return new U$1(t,r,n,o||Rn$1(t,r,n.bytes))}else if(e!=null&&e[$n]===!0){let{version:t,multihash:r,code:n}=e,o=kn(r);return U$1.create(t,n,o)}else return null}static create(e,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==ze$1)throw new Error(`Version 0 CID must use dag-pb (code: ${ze$1}) block encoding`);return new U$1(e,t,r,r.bytes)}case 1:{let n=Rn$1(e,t,r.bytes);return new U$1(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return U$1.create(0,ze$1,e)}static createV1(e,t){return U$1.create(1,e,t)}static decode(e){let[t,r]=U$1.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=U$1.inspectBytes(e),r=t.size-t.multihashSize,n=ke$2(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),y=new Ce$1(t.multihashCode,t.digestSize,o,n);return[t.version===0?U$1.createV0(y):U$1.createV1(t.codec,y),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[V,X]=De$1(e.subarray(t));return t+=X,V},n=r(),o=ze$1;if(n===18?(n=0,t=0):n===1&&(o=r()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let y=t,E=r(),g=r(),T=t+g,P=T-y;return{version:n,codec:o,multihashCode:E,digestSize:g,multihashSize:P,size:T}}static parse(e,t){let[r,n]=jo$1(e,t),o=U$1.decode(n);return o._baseCache.set(r,e),o}},jo$1=(e,t)=>{switch(e[0]){case"Q":{let r=t||oe$1;return[oe$1.prefix,r.decode(`${oe$1.prefix}${e}`)]}case oe$1.prefix:{let r=t||oe$1;return[oe$1.prefix,r.decode(e)]}case Oe$2.prefix:{let r=t||Oe$2;return[Oe$2.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},qo$1=(e,t,r)=>{let{prefix:n}=r;if(n!==oe$1.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let y=r.encode(e).slice(1);return t.set(n,y),y}else return o},Go$1=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let y=r.encode(e);return t.set(n,y),y}else return o},ze$1=112,Ho$1=18,Rn$1=(e,t,r)=>{let n=Fe$1(e),o=n+Fe$1(t),y=new Uint8Array(o+r.byteLength);return Se$2(e,y,0),Se$2(t,y,n),y.set(r,o),y},$n=Symbol.for("@ipld/js-cid/CID"),rt={writable:!1,configurable:!1,enumerable:!0},nt={writable:!1,enumerable:!1,configurable:!1},Wo$1="0.0.0-dev",Xo$1=(e,t)=>{if(e.test(Wo$1))console.warn(t);else throw new Error(t)},Yo$1=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,vn=42;function Jo$1(e){if(e.asCID!==e)return null;let t=U$1.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new f(c.tag,vn),new f(c.bytes,r)]}function Ko(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Qo(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var Zo$1={float64:!0,typeEncoders:{Object:Jo$1,undefined:Ko,number:Qo}},Ln=e=>Tt$2(e,Zo$1),$t$1=class{constructor(e,t){this.bytes=e,this.byteOffset=t,this.roots=[],this.headerSize=t}addRoot(e,t){return ns(this,e,t),this}write(e){return is$1(this,e),this}close(e){return os$1(this,e)}},ns=(e,t,{resize:r=!1}={})=>{let{bytes:n,headerSize:o,byteOffset:y,roots:E}=e;e.roots.push(t);let g=Pn(e);if(g>o)if(g-o+y<n.byteLength)if(r)On$2(e,g);else throw E.pop(),new RangeError(`Header of size ${o} has no capacity for new root ${t}.
  However there is a space in the buffer and you could call addRoot(root, { resize: root }) to resize header to make a space for this root.`);else throw E.pop(),new RangeError(`Buffer has no capacity for a new root ${t}`)},Jc=({cid:e,bytes:t})=>{let r=e.bytes.byteLength+t.byteLength;return Pe$1.default.encodingLength(r)+r},is$1=(e,{cid:t,bytes:r})=>{let n=t.bytes.byteLength+r.byteLength,o=Pe$1.default.encode(n);if(e.byteOffset+o.length+n>e.bytes.byteLength)throw new RangeError("Buffer has no capacity for this block");Rt$2(e,o),Rt$2(e,t.bytes),Rt$2(e,r)},os$1=(e,{resize:t=!1}={})=>{let{roots:r,bytes:n,byteOffset:o,headerSize:y}=e,E=Ln({version:1,roots:r}),g=Pe$1.default.encode(E.length),T=g.length+E.byteLength;if(y-T===0)return Dn$1(e,g,E),n.subarray(0,o);if(t)return On$2(e,T),Dn$1(e,g,E),n.subarray(0,e.byteOffset);throw new RangeError(`Header size was overestimated.
You can use close({ resize: true }) to resize header`)},On$2=(e,t)=>{let{bytes:r,headerSize:n}=e;r.set(r.subarray(n,e.byteOffset),t),e.byteOffset+=t-n,e.headerSize=t},Rt$2=(e,t)=>{e.bytes.set(t,e.byteOffset),e.byteOffset+=t.length},Dn$1=({bytes:e},t,r)=>{e.set(t),e.set(r,t.length)},ss=[new f(c.map,2),new f(c.string,"version"),new f(c.uint,1),new f(c.string,"roots")],cs=new f(c.tag,42),zn$1=e=>{let t=[...ss];t.push(new f(c.array,e.length));for(let n of e)t.push(cs),t.push(new f(c.bytes,{length:n+1}));let r=St(t);return Pe$1.default.encodingLength(r)+r},Pn=({roots:e})=>zn$1(e.map(t=>t.bytes.byteLength)),Qc=(e,{roots:t=[],byteOffset:r=0,byteLength:n=e.byteLength,headerSize:o=Pn({roots:t})}={})=>{let y=new Uint8Array(e,r,n),E=new $t$1(y,o);for(let g of t)E.addRoot(g);return E};/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var encode_1$1=encode$b,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$b(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw encode$b.bytes=0,new RangeError("Could not encode varint");t=t||[],r=r||0;for(var n=r;e>=INT$1;)t[r++]=e&255|MSB$3,e/=128;for(;e&MSBALL$1;)t[r++]=e&255|MSB$3,e>>>=7;return t[r]=e|0,encode$b.bytes=r-n+1,t}var decode$a=read$1,MSB$2=128,REST$2=127;function read$1(e,n){var r=0,n=n||0,o=0,y=n,E,g=e.length;do{if(y>=g||o>49)throw read$1.bytes=0,new RangeError("Could not decode varint");E=e[y++],r+=o<28?(E&REST$2)<<o:(E&REST$2)*Math.pow(2,o),o+=7}while(E>=MSB$2);return read$1.bytes=y-n,r}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(e){return e<N1$2?1:e<N2$2?2:e<N3$1?3:e<N4$1?4:e<N5$1?5:e<N6$1?6:e<N7$1?7:e<N8$1?8:e<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$a,encodingLength:length$1},encode_1=encode$a,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$a(e,t,r){t=t||[],r=r||0;for(var n=r;e>=INT;)t[r++]=e&255|MSB,e/=128;for(;e&MSBALL;)t[r++]=e&255|MSB,e>>>=7;return t[r]=e|0,encode$a.bytes=r-n+1,t}var decode$9=read,MSB$1=128,REST$1=127;function read(e,n){var r=0,n=n||0,o=0,y=n,E,g=e.length;do{if(y>=g)throw read.bytes=0,new RangeError("Could not decode varint");E=e[y++],r+=o<28?(E&REST$1)<<o:(E&REST$1)*Math.pow(2,o),o+=7}while(E>=MSB$1);return read.bytes=y-n,r}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(e){return e<N1$1?1:e<N2$1?2:e<N3?3:e<N4?4:e<N5?5:e<N6?6:e<N7?7:e<N8?8:e<N9?9:10},varint={encode:encode_1,decode:decode$9,encodingLength:length},_brrp_varint=varint;const decode$8=(e,t=0)=>[_brrp_varint.decode(e,t),_brrp_varint.decode.bytes],encodeTo=(e,t,r=0)=>(_brrp_varint.encode(e,t,r),t),encodingLength=e=>_brrp_varint.encodingLength(e),empty=new Uint8Array(0),toHex=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),""),fromHex=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map(r=>parseInt(r,16))):empty},equals$1=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},coerce=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},isBinary$1=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),fromString$1=e=>new TextEncoder().encode(e),toString$2=e=>new TextDecoder().decode(e),byteslib=Object.freeze(Object.defineProperty({__proto__:null,equals:equals$1,coerce,isBinary:isBinary$1,fromHex,toHex,fromString:fromString$1,toString:toString$2,empty},Symbol.toStringTag,{value:"Module"})),create$1=(e,t)=>{const r=t.byteLength,n=encodingLength(e),o=n+encodingLength(r),y=new Uint8Array(o+r);return encodeTo(e,y,0),encodeTo(r,y,n),y.set(t,o),new Digest(e,r,t,y)},decode$7=e=>{const t=coerce(e),[r,n]=decode$8(t),[o,y]=decode$8(t.subarray(n)),E=t.subarray(n+y);if(E.byteLength!==o)throw new Error("Incorrect length");return new Digest(r,o,E,t)},equals=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&equals$1(e.bytes,t.bytes);class Digest{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}}function base(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var y=e.charAt(o),E=y.charCodeAt(0);if(r[E]!==255)throw new TypeError(y+" is ambiguous");r[E]=o}var g=e.length,T=e.charAt(0),P=Math.log(g)/Math.log(256),V=Math.log(256)/Math.log(g);function X(L){if(L instanceof Uint8Array||(ArrayBuffer.isView(L)?L=new Uint8Array(L.buffer,L.byteOffset,L.byteLength):Array.isArray(L)&&(L=Uint8Array.from(L))),!(L instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(L.length===0)return"";for(var I=0,ee=0,ie=0,le=L.length;ie!==le&&L[ie]===0;)ie++,I++;for(var ye=(le-ie)*V+1>>>0,ot=new Uint8Array(ye);ie!==le;){for(var qe=L[ie],Ee=0,it=ye-1;(qe!==0||Ee<ee)&&it!==-1;it--,Ee++)qe+=256*ot[it]>>>0,ot[it]=qe%g>>>0,qe=qe/g>>>0;if(qe!==0)throw new Error("Non-zero carry");ee=Ee,ie++}for(var Ie=ye-ee;Ie!==ye&&ot[Ie]===0;)Ie++;for(var jt=T.repeat(I);Ie<ye;++Ie)jt+=e.charAt(ot[Ie]);return jt}function re(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return new Uint8Array;var I=0;if(L[I]!==" "){for(var ee=0,ie=0;L[I]===T;)ee++,I++;for(var le=(L.length-I)*P+1>>>0,ye=new Uint8Array(le);L[I];){var ot=r[L.charCodeAt(I)];if(ot===255)return;for(var qe=0,Ee=le-1;(ot!==0||qe<ie)&&Ee!==-1;Ee--,qe++)ot+=g*ye[Ee]>>>0,ye[Ee]=ot%256>>>0,ot=ot/256>>>0;if(ot!==0)throw new Error("Non-zero carry");ie=qe,I++}if(L[I]!==" "){for(var it=le-ie;it!==le&&ye[it]===0;)it++;for(var Ie=new Uint8Array(ee+(le-it)),jt=ee;it!==le;)Ie[jt++]=ye[it++];return Ie}}}function q(L){var I=re(L);if(I)return I;throw new Error(`Non-${t} character`)}return{encode:X,decodeUnsafe:re,decode:q}}var src$1=base,_brrp__multiformats_scope_baseX=src$1;class Encoder{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or(this,t)}}class ComposedDecoder{constructor(t){this.decoders=t}or(t){return or(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(e,t)=>new ComposedDecoder({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Codec{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder(t,r,n),this.decoder=new Decoder(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const from$1=({name:e,prefix:t,encode:r,decode:n})=>new Codec(e,t,r,n),baseX=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX(r,t);return from$1({prefix:e,name:t,encode:n,decode:y=>coerce(o(y))})},decode$6=(e,t,r,n)=>{const o={};for(let V=0;V<t.length;++V)o[t[V]]=V;let y=e.length;for(;e[y-1]==="=";)--y;const E=new Uint8Array(y*r/8|0);let g=0,T=0,P=0;for(let V=0;V<y;++V){const X=o[e[V]];if(X===void 0)throw new SyntaxError(`Non-${n} character`);T=T<<r|X,g+=r,g>=8&&(g-=8,E[P++]=255&T>>g)}if(g>=r||255&T<<8-g)throw new SyntaxError("Unexpected end of data");return E},encode$9=(e,t,r)=>{const n=t[t.length-1]==="=",o=(1<<r)-1;let y="",E=0,g=0;for(let T=0;T<e.length;++T)for(g=g<<8|e[T],E+=8;E>r;)E-=r,y+=t[o&g>>E];if(E&&(y+=t[o&g<<r-E]),n)for(;y.length*r&7;)y+="=";return y},rfc4648=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>from$1({prefix:t,name:e,encode(o){return encode$9(o,n,r)},decode(o){return decode$6(o,n,r,e)}}),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32upper,base32pad,base32padupper,base32hex,base32hexupper,base32hexpad,base32hexpadupper,base32z},Symbol.toStringTag,{value:"Module"}));class CID{constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:t,multihash:r}=this;if(t!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:t,digest:r}=this.multihash,n=create$1(t,r);return CID.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&equals(this.multihash,t.multihash)}toString(t){const{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return toStringV0(r,o,t||base58btc.encoder);default:return toStringV1(r,o,t||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(t&&(t[cidSymbol]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof CID)return t;if(t!=null&&t.asCID===t){const{version:r,code:n,multihash:o,bytes:y}=t;return new CID(r,n,o,y||encodeCID(r,n,o.bytes))}else if(t!=null&&t[cidSymbol]===!0){const{version:r,multihash:n,code:o}=t,y=decode$7(n);return CID.create(r,o,y)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(t,r,n,n.bytes)}case 1:{const o=encodeCID(t,r,n.bytes);return new CID(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return CID.create(0,DAG_PB_CODE,t)}static createV1(t,r){return CID.create(1,t,r)}static decode(t){const[r,n]=CID.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){const r=CID.inspectBytes(t),n=r.size-r.multihashSize,o=coerce(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const y=o.subarray(r.multihashSize-r.digestSize),E=new Digest(r.multihashCode,r.digestSize,y,o);return[r.version===0?CID.createV0(E):CID.createV1(r.codec,E),t.subarray(r.size)]}static inspectBytes(t){let r=0;const n=()=>{const[X,re]=decode$8(t.subarray(r));return r+=re,X};let o=n(),y=DAG_PB_CODE;if(o===18?(o=0,r=0):o===1&&(y=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const E=r,g=n(),T=n(),P=r+T,V=P-E;return{version:o,codec:y,multihashCode:g,digestSize:T,multihashSize:V,size:P}}static parse(t,r){const[n,o]=parseCIDtoBytes(t,r),y=CID.decode(o);return y._baseCache.set(n,t),y}}const parseCIDtoBytes=(e,t)=>{switch(e[0]){case"Q":{const r=t||base58btc;return[base58btc.prefix,r.decode(`${base58btc.prefix}${e}`)]}case base58btc.prefix:{const r=t||base58btc;return[base58btc.prefix,r.decode(e)]}case base32.prefix:{const r=t||base32;return[base32.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},toStringV0=(e,t,r)=>{const{prefix:n}=r;if(n!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=t.get(n);if(o==null){const y=r.encode(e).slice(1);return t.set(n,y),y}else return o},toStringV1=(e,t,r)=>{const{prefix:n}=r,o=t.get(n);if(o==null){const y=r.encode(e);return t.set(n,y),y}else return o},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(e,t,r)=>{const n=encodingLength(e),o=n+encodingLength(t),y=new Uint8Array(o+r.byteLength);return encodeTo(e,y,0),encodeTo(t,y,n),y.set(r,o),y},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=(e,t)=>{if(e.test(version))console.warn(t);else throw new Error(t)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";const t=typeof e;if(typeofs.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(isBuffer$2(e))return"Buffer";const r=getObjectType(e);return r||"Object"}function isBuffer$2(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function getObjectType(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(objectTypeNames.includes(t))return t}class Type{constructor(t,r,n){this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(t,r,n){this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder=new TextDecoder,textEncoder=new TextEncoder;function isBuffer$1(e){return useBuffer&&globalThis.Buffer.isBuffer(e)}function asU8A(e){return e instanceof Uint8Array?isBuffer$1(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const toString$1=useBuffer?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):utf8Slice(e,t,r):(e,t,r)=>r-t>64?textDecoder.decode(e.subarray(t,r)):utf8Slice(e,t,r),fromString=useBuffer?e=>e.length>64?globalThis.Buffer.from(e):utf8ToBytes(e):e=>e.length>64?textEncoder.encode(e):utf8ToBytes(e),fromArray=e=>Uint8Array.from(e),slice=useBuffer?(e,t,r)=>isBuffer$1(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),concat=useBuffer?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),asU8A(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},alloc=useBuffer?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function compare(e,t){if(isBuffer$1(e)&&isBuffer$1(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function utf8ToBytes(e,t=1/0){let r;const n=e.length;let o=null;const y=[];for(let E=0;E<n;++E){if(r=e.charCodeAt(E),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&y.push(239,191,189);continue}else if(E+1===n){(t-=3)>-1&&y.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&y.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&y.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;y.push(r)}else if(r<2048){if((t-=2)<0)break;y.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;y.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;y.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return y}function utf8Slice(e,t,r){const n=[];for(;t<r;){const o=e[t];let y=null,E=o>239?4:o>223?3:o>191?2:1;if(t+E<=r){let g,T,P,V;switch(E){case 1:o<128&&(y=o);break;case 2:g=e[t+1],(g&192)===128&&(V=(o&31)<<6|g&63,V>127&&(y=V));break;case 3:g=e[t+1],T=e[t+2],(g&192)===128&&(T&192)===128&&(V=(o&15)<<12|(g&63)<<6|T&63,V>2047&&(V<55296||V>57343)&&(y=V));break;case 4:g=e[t+1],T=e[t+2],P=e[t+3],(g&192)===128&&(T&192)===128&&(P&192)===128&&(V=(o&15)<<18|(g&63)<<12|(T&63)<<6|P&63,V>65535&&V<1114112&&(y=V))}}y===null?(y=65533,E=1):y>65535&&(y-=65536,n.push(y>>>10&1023|55296),y=56320|y&1023),n.push(y),t+=E}return decodeCodePointsArray(n)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){const t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}const defaultChunkSize=256;class Bl{constructor(t=defaultChunkSize){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let r=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){const o=r.length-(this.maxCursor-this.cursor)-1;r.set(t,o)}else{if(r){const o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(r=alloc(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let r;if(this.chunks.length===1){const n=this.chunks[0];t&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=slice(n,0,this.cursor)}else r=concat(this.chunks,this.cursor);return t&&this.reset(),r}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(e,t,r){if(e.length-t<r)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(e,t,r){assertEnoughData(e,t,1);const n=e[t];if(r.strict===!0&&n<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint16(e,t,r){assertEnoughData(e,t,2);const n=e[t]<<8|e[t+1];if(r.strict===!0&&n<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint32(e,t,r){assertEnoughData(e,t,4);const n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint64(e,t,r){assertEnoughData(e,t,8);const n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],y=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&y<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(y<=Number.MAX_SAFE_INTEGER)return Number(y);if(r.allowBigInt===!0)return y;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(e,t,r,n){return new Token(Type.uint,readUint8(e,t+1,n),2)}function decodeUint16(e,t,r,n){return new Token(Type.uint,readUint16(e,t+1,n),3)}function decodeUint32(e,t,r,n){return new Token(Type.uint,readUint32(e,t+1,n),5)}function decodeUint64(e,t,r,n){return new Token(Type.uint,readUint64(e,t+1,n),9)}function encodeUint(e,t){return encodeUintValue(e,0,t.value)}function encodeUintValue(e,t,r){if(r<uintBoundaries[0]){const n=Number(r);e.push([t|n])}else if(r<uintBoundaries[1]){const n=Number(r);e.push([t|24,n])}else if(r<uintBoundaries[2]){const n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<uintBoundaries[3]){const n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(r);if(n<uintBoundaries[4]){const o=[t|27,0,0,0,0,0,0,0];let y=Number(n&BigInt(4294967295)),E=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=y&255,y=y>>8,o[7]=y&255,y=y>>8,o[6]=y&255,y=y>>8,o[5]=y&255,o[4]=E&255,E=E>>8,o[3]=E&255,E=E>>8,o[2]=E&255,E=E>>8,o[1]=E&255,e.push(o)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};encodeUintValue.encodedSize=function(t){return t<uintBoundaries[0]?1:t<uintBoundaries[1]?2:t<uintBoundaries[2]?3:t<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(t,r){return t.value<r.value?-1:t.value>r.value?1:0};function decodeNegint8(e,t,r,n){return new Token(Type.negint,-1-readUint8(e,t+1,n),2)}function decodeNegint16(e,t,r,n){return new Token(Type.negint,-1-readUint16(e,t+1,n),3)}function decodeNegint32(e,t,r,n){return new Token(Type.negint,-1-readUint32(e,t+1,n),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o!="bigint"){const y=-1-o;if(y>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,y,9)}if(n.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(o),9)}function encodeNegint(e,t){const r=t.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;encodeUintValue(e,t.type.majorEncoded,n)}encodeNegint.encodedSize=function(t){const r=t.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;return n<uintBoundaries[0]?1:n<uintBoundaries[1]?2:n<uintBoundaries[2]?3:n<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(t,r){return t.value<r.value?1:t.value>r.value?-1:0};function toToken$3(e,t,r,n){assertEnoughData(e,t,r+n);const o=slice(e,t+r,t+r+n);return new Token(Type.bytes,o,r+n)}function decodeBytesCompact(e,t,r,n){return toToken$3(e,t,1,r)}function decodeBytes8(e,t,r,n){return toToken$3(e,t,2,readUint8(e,t+1,n))}function decodeBytes16(e,t,r,n){return toToken$3(e,t,3,readUint16(e,t+1,n))}function decodeBytes32(e,t,r,n){return toToken$3(e,t,5,readUint32(e,t+1,n))}function decodeBytes64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(e,t,9,o)}function tokenBytes(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===Type.string?fromString(e.value):e.value),e.encodedBytes}function encodeBytes(e,t){const r=tokenBytes(t);encodeUintValue(e,t.type.majorEncoded,r.length),e.push(r)}encodeBytes.encodedSize=function(t){const r=tokenBytes(t);return encodeUintValue.encodedSize(r.length)+r.length};encodeBytes.compareTokens=function(t,r){return compareBytes(tokenBytes(t),tokenBytes(r))};function compareBytes(e,t){return e.length<t.length?-1:e.length>t.length?1:compare(e,t)}function toToken$2(e,t,r,n,o){const y=r+n;assertEnoughData(e,t,y);const E=new Token(Type.string,toString$1(e,t+r,t+y),y);return o.retainStringBytes===!0&&(E.byteValue=slice(e,t+r,t+y)),E}function decodeStringCompact(e,t,r,n){return toToken$2(e,t,1,r,n)}function decodeString8(e,t,r,n){return toToken$2(e,t,2,readUint8(e,t+1,n),n)}function decodeString16(e,t,r,n){return toToken$2(e,t,3,readUint16(e,t+1,n),n)}function decodeString32(e,t,r,n){return toToken$2(e,t,5,readUint32(e,t+1,n),n)}function decodeString64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(e,t,9,o,n)}const encodeString=encodeBytes;function toToken$1(e,t,r,n){return new Token(Type.array,n,r)}function decodeArrayCompact(e,t,r,n){return toToken$1(e,t,1,r)}function decodeArray8(e,t,r,n){return toToken$1(e,t,2,readUint8(e,t+1,n))}function decodeArray16(e,t,r,n){return toToken$1(e,t,3,readUint16(e,t+1,n))}function decodeArray32(e,t,r,n){return toToken$1(e,t,5,readUint32(e,t+1,n))}function decodeArray64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(e,t,9,o)}function decodeArrayIndefinite(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(e,t,1,1/0)}function encodeArray(e,t){encodeUintValue(e,Type.array.majorEncoded,t.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};function toToken(e,t,r,n){return new Token(Type.map,n,r)}function decodeMapCompact(e,t,r,n){return toToken(e,t,1,r)}function decodeMap8(e,t,r,n){return toToken(e,t,2,readUint8(e,t+1,n))}function decodeMap16(e,t,r,n){return toToken(e,t,3,readUint16(e,t+1,n))}function decodeMap32(e,t,r,n){return toToken(e,t,5,readUint32(e,t+1,n))}function decodeMap64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(e,t,9,o)}function decodeMapIndefinite(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(e,t,1,1/0)}function encodeMap(e,t){encodeUintValue(e,Type.map.majorEncoded,t.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};function decodeTagCompact(e,t,r,n){return new Token(Type.tag,r,1)}function decodeTag8(e,t,r,n){return new Token(Type.tag,readUint8(e,t+1,n),2)}function decodeTag16(e,t,r,n){return new Token(Type.tag,readUint16(e,t+1,n),3)}function decodeTag32(e,t,r,n){return new Token(Type.tag,readUint32(e,t+1,n),5)}function decodeTag64(e,t,r,n){return new Token(Type.tag,readUint64(e,t+1,n),9)}function encodeTag(e,t){encodeUintValue(e,Type.tag.majorEncoded,t.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,e,t)}function decodeFloat16(e,t,r,n){return createToken(readFloat16(e,t+1),3,n)}function decodeFloat32(e,t,r,n){return createToken(readFloat32(e,t+1),5,n)}function decodeFloat64(e,t,r,n){return createToken(readFloat64(e,t+1),9,n)}function encodeFloat(e,t,r){const n=t.value;if(n===!1)e.push([Type.float.majorEncoded|MINOR_FALSE]);else if(n===!0)e.push([Type.float.majorEncoded|MINOR_TRUE]);else if(n===null)e.push([Type.float.majorEncoded|MINOR_NULL]);else if(n===void 0)e.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let o,y=!1;(!r||r.float64!==!0)&&(encodeFloat16(n),o=readFloat16(ui8a,1),n===o||Number.isNaN(n)?(ui8a[0]=249,e.push(ui8a.slice(0,3)),y=!0):(encodeFloat32(n),o=readFloat32(ui8a,1),n===o&&(ui8a[0]=250,e.push(ui8a.slice(0,5)),y=!0))),y||(encodeFloat64(n),o=readFloat64(ui8a,1),ui8a[0]=251,e.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(t,r){const n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){encodeFloat16(n);let o=readFloat16(ui8a,1);if(n===o||Number.isNaN(n))return 3;if(encodeFloat32(n),o=readFloat32(ui8a,1),n===o)return 5}return 9};const buffer=new ArrayBuffer(9),dataView=new DataView(buffer,1),ui8a=new Uint8Array(buffer,0);function encodeFloat16(e){if(e===1/0)dataView.setUint16(0,31744,!1);else if(e===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(e))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,e);const t=dataView.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)dataView.setUint16(0,31744,!1);else if(r===0)dataView.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{const o=r-127;o<-24?dataView.setUint16(0,0):o<-14?dataView.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):dataView.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function readFloat16(e,t){if(e.length-t<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;const n=r>>10&31,o=r&1023;let y;return n===0?y=o*2**-24:n!==31?y=(o+1024)*2**(n-25):y=o===0?1/0:NaN,r&32768?-y:y}function encodeFloat32(e){dataView.setFloat32(0,e,!1)}function readFloat32(e,t){if(e.length-t<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function encodeFloat64(e){dataView.setFloat64(0,e,!1)}function readFloat64(e,t){if(e.length-t<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(e,t,r){throw new Error(`${decodeErrPrefix} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function errorer(e){return()=>{throw new Error(`${decodeErrPrefix} ${e}`)}}const jump=[];for(let e=0;e<=23;e++)jump[e]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let e=32;e<=55;e++)jump[e]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let e=64;e<=87;e++)jump[e]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)jump[e]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)jump[e]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let e=160;e<=183;e++)jump[e]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let e=192;e<=215;e++)jump[e]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let e=224;e<=243;e++)jump[e]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let e=0;e<24;e++)quick[e]=new Token(Type.uint,e,1);for(let e=-1;e>=-24;e--)quick[31-e]=new Token(Type.negint,e,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken(e){switch(e.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return e.value.length?void 0:fromArray([64]);case Type.string:return e.value===""?fromArray([96]):void 0;case Type.array:return e.value===0?fromArray([128]):void 0;case Type.map:return e.value===0?fromArray([160]):void 0;case Type.uint:return e.value<24?fromArray([Number(e.value)]):void 0;case Type.negint:if(e.value>=-24)return fromArray([31-Number(e.value)])}}const defaultEncodeOptions={float64:!1,mapSorter,quickEncodeToken};function makeCborEncoders(){const e=[];return e[Type.uint.major]=encodeUint,e[Type.negint.major]=encodeNegint,e[Type.bytes.major]=encodeBytes,e[Type.string.major]=encodeString,e[Type.array.major]=encodeArray,e[Type.map.major]=encodeMap,e[Type.tag.major]=encodeTag,e[Type.float.major]=encodeFloat,e}const cborEncoders=makeCborEncoders(),buf=new Bl;class Ref{constructor(t,r){this.obj=t,this.parent=r}includes(t){let r=this;do if(r.obj===t)return!0;while(r=r.parent);return!1}static createCheck(t,r){if(t&&t.includes(r))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(r,t)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new Token(Type.float,e):e>=0?new Token(Type.uint,e):new Token(Type.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new Token(Type.uint,e):new Token(Type.negint,e)},Uint8Array(e,t,r,n){return new Token(Type.bytes,e)},string(e,t,r,n){return new Token(Type.string,e)},boolean(e,t,r,n){return e?simpleTokens.true:simpleTokens.false},null(e,t,r,n){return simpleTokens.null},undefined(e,t,r,n){return simpleTokens.undefined},ArrayBuffer(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;n=Ref.createCheck(n,e);const o=[];let y=0;for(const E of e)o[y++]=objectToTokens(E,r,n);return r.addBreakTokens?[new Token(Type.array,e.length),o,new Token(Type.break)]:[new Token(Type.array,e.length),o]},Object(e,t,r,n){const o=t!=="Object",y=o?e.keys():Object.keys(e),E=o?e.size:y.length;if(!E)return r.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;n=Ref.createCheck(n,e);const g=[];let T=0;for(const P of y)g[T++]=[objectToTokens(P,r,n),objectToTokens(o?e.get(P):e[P],r,n)];return sortMapEntries(g,r),r.addBreakTokens?[new Token(Type.map,E),g,new Token(Type.break)]:[new Token(Type.map,E),g]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${e}Array`]=typeEncoders.DataView;function objectToTokens(e,t={},r){const n=is(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||typeEncoders[n];if(typeof o=="function"){const E=o(e,n,t,r);if(E!=null)return E}const y=typeEncoders[n];if(!y)throw new Error(`${encodeErrPrefix} unsupported type: ${n}`);return y(e,n,t,r)}function sortMapEntries(e,t){t.mapSorter&&e.sort(t.mapSorter)}function mapSorter(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const o=r.type.major,y=cborEncoders[o].compareTokens(r,n);return y===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),y}function tokensToEncoded(e,t,r,n){if(Array.isArray(t))for(const o of t)tokensToEncoded(e,o,r,n);else r[t.type.major](e,t,n)}function encodeCustom(e,t,r){const n=objectToTokens(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const o=r.quickEncodeToken(n);if(o)return o;const y=t[n.type.major];if(y.encodedSize){const E=y.encodedSize(n,r),g=new Bl(E);if(y(g,n,r),g.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return asU8A(g.chunks[0])}}return buf.reset(),tokensToEncoded(buf,n,t,r),buf.toBytes(!0)}function encode$8(e,t){return t=Object.assign({},defaultEncodeOptions,t),encodeCustom(e,cborEncoders,t)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(t,r={}){this.pos=0,this.data=t,this.options=r}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let r=quick[t];if(r===void 0){const n=jump[t];if(!n)throw new Error(`${decodeErrPrefix} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);const o=t&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(e,t,r){const n=[];for(let o=0;o<e.value;o++){const y=tokensToObject(t,r);if(y===BREAK){if(e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(y===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=y}return n}function tokenToMap(e,t,r){const n=r.useMaps===!0,o=n?void 0:{},y=n?new Map:void 0;for(let E=0;E<e.value;E++){const g=tokensToObject(t,r);if(g===BREAK){if(e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(g===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${E} [no key], expected ${e.value})`);if(n!==!0&&typeof g!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof g})`);const T=tokensToObject(t,r);if(T===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${E} [no value], expected ${e.value})`);n?y.set(g,T):o[g]=T}return n?y:o}function tokensToObject(e,t){if(e.done())return DONE;const r=e.next();if(r.type===Type.break)return BREAK;if(r.type.terminal)return r.value;if(r.type===Type.array)return tokenToArray(r,e,t);if(r.type===Type.map)return tokenToMap(r,e,t);if(r.type===Type.tag){if(t.tags&&typeof t.tags[r.value]=="function"){const n=tokensToObject(e,t);return t.tags[r.value](n)}throw new Error(`${decodeErrPrefix} tag not supported (${r.value})`)}throw new Error("unsupported")}function decode$5(e,t){if(!(e instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);t=Object.assign({},defaultDecodeOptions,t);const r=t.tokenizer||new Tokeniser(e,t),n=tokensToObject(r,t);if(n===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(n===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!r.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return n}const CID_CBOR_TAG=42;function cidEncoder(e){if(e.asCID!==e)return null;const t=CID.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,r)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={float64:!0,typeEncoders:{Object:cidEncoder,undefined:undefinedEncoder,number:numberEncoder}};function cidDecoder(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(e.subarray(1))}const decodeOptions={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;const name$2="dag-cbor",code$3=113,encode$7=e=>encode$8(e,encodeOptions),decode$4=e=>decode$5(e,decodeOptions),dagCBOR=Object.freeze(Object.defineProperty({__proto__:null,name:name$2,code:code$3,encode:encode$7,decode:decode$4},Symbol.toStringTag,{value:"Module"})),Kinds={Null:e=>e===null,Int:e=>Number.isInteger(e),Float:e=>typeof e=="number"&&Number.isFinite(e),String:e=>typeof e=="string",Bool:e=>typeof e=="boolean",Bytes:e=>e instanceof Uint8Array,Link:e=>!Kinds.Null(e)&&typeof e=="object"&&e.asCID===e,List:e=>Array.isArray(e),Map:e=>!Kinds.Null(e)&&typeof e=="object"&&e.asCID!==e&&!Kinds.List(e)&&!Kinds.Bytes(e)},Types={Int:Kinds.Int,"CarHeader > version":e=>Types.Int(e),"CarHeader > roots (anon) > valueType (anon)":Kinds.Link,"CarHeader > roots (anon)":e=>Kinds.List(e)&&Array.prototype.every.call(e,Types["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":e=>Types["CarHeader > roots (anon)"](e),CarHeader:e=>{const t=e&&Object.keys(e);return Kinds.Map(e)&&["version"].every(r=>t.includes(r))&&Object.entries(e).every(([r,n])=>Types["CarHeader > "+r]&&Types["CarHeader > "+r](n))}},CarHeader=Types.CarHeader,CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112},V2_HEADER_LENGTH=16+8+8+8;async function readVarint(e){const t=await e.upTo(8);if(!t.length)throw new Error("Unexpected end of data");const r=varint$1.decode(t);return e.seek(varint$1.decode.bytes),r}async function readV2Header(e){const t=await e.exactly(V2_HEADER_LENGTH),r=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;const o={version:2,characteristics:[r.getBigUint64(n,!0),r.getBigUint64(n+=8,!0)],dataOffset:Number(r.getBigUint64(n+=8,!0)),dataSize:Number(r.getBigUint64(n+=8,!0)),indexOffset:Number(r.getBigUint64(n+=8,!0))};return e.seek(V2_HEADER_LENGTH),o}async function readHeader(e,t){const r=await readVarint(e);if(r===0)throw new Error("Invalid CAR header (zero length)");const n=await e.exactly(r);e.seek(r);const o=decode$4(n);if(!CarHeader(o))throw new Error("Invalid CAR header format");if(o.version!==1&&o.version!==2||t!==void 0&&o.version!==t)throw new Error(`Invalid CAR version: ${o.version}${t!==void 0?` (expected ${t})`:""}`);const y=Array.isArray(o.roots);if(o.version===1&&!y||o.version===2&&y)throw new Error("Invalid CAR header format");if(o.version===1)return o;const E=await readV2Header(e);e.seek(E.dataOffset-e.pos);const g=await readHeader(e,1);return Object.assign(g,E)}async function readMultihash(e){const t=await e.upTo(8);varint$1.decode(t);const r=varint$1.decode.bytes,n=varint$1.decode(t.subarray(varint$1.decode.bytes)),o=varint$1.decode.bytes,y=r+o+n,E=await e.exactly(y);return e.seek(y),E}async function readCid(e){const t=await e.exactly(2);if(t[0]===CIDV0_BYTES.SHA2_256&&t[1]===CIDV0_BYTES.LENGTH){const E=await e.exactly(34);e.seek(34);const g=decode$7(E);return CID.create(0,CIDV0_BYTES.DAG_PB,g)}const r=await readVarint(e);if(r!==1)throw new Error(`Unexpected CID version (${r})`);const n=await readVarint(e),o=await readMultihash(e),y=decode$7(o);return CID.create(r,n,y)}async function readBlockHead(e){const t=e.pos;let r=await readVarint(e);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;const n=await readCid(e),o=r-Number(e.pos-t);return{cid:n,length:r,blockLength:o}}async function readBlock(e){const{cid:t,blockLength:r}=await readBlockHead(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function readBlockIndex(e){const t=e.pos,{cid:r,length:n,blockLength:o}=await readBlockHead(e),y={cid:r,length:n,blockLength:o,offset:t,blockOffset:e.pos};return e.seek(y.blockLength),y}function createDecoder(e){const t=(async()=>{const r=await readHeader(e);if(r.version===2){const n=e.pos-r.dataOffset;e=limitReader(e,r.dataSize-n)}return r})();return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await readBlock(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await readBlockIndex(e)}}}function bytesReader(e){let t=0;return{async upTo(r){return e.subarray(t,t+Math.min(r,e.length-t))},async exactly(r){if(r>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+r)},seek(r){t+=r},get pos(){return t}}}function chunkReader(e){let t=0,r=0,n=0,o=new Uint8Array(0);const y=async E=>{r=o.length-n;const g=[o.subarray(n)];for(;r<E;){const P=await e();if(P==null)break;r<0?P.length>r&&g.push(P.subarray(-r)):g.push(P),r+=P.length}o=new Uint8Array(g.reduce((P,V)=>P+V.length,0));let T=0;for(const P of g)o.set(P,T),T+=P.length;n=0};return{async upTo(E){return o.length-n<E&&await y(E),o.subarray(n,n+Math.min(o.length-n,E))},async exactly(E){if(o.length-n<E&&await y(E),o.length-n<E)throw new Error("Unexpected end of data");return o.subarray(n,n+E)},seek(E){t+=E,n+=E},get pos(){return t}}}function asyncIterableReader(e){const t=e[Symbol.asyncIterator]();async function r(){const n=await t.next();return n.done?null:n.value}return chunkReader(r)}function limitReader(e,t){let r=0;return{async upTo(n){let o=await e.upTo(n);return o.length+r>t&&(o=o.subarray(0,t-r)),o},async exactly(n){const o=await e.exactly(n);if(o.length+r>t)throw new Error("Unexpected end of data");return o},seek(n){r+=n,e.seek(n)},get pos(){return e.pos}}}class CarReader{constructor(t,r){this._header=t,this._blocks=r,this._keys=r.map(n=>n.cid.toString())}get version(){return this._header.version}async getRoots(){return this._header.roots}async has(t){return this._keys.indexOf(t.toString())>-1}async get(t){const r=this._keys.indexOf(t.toString());return r>-1?this._blocks[r]:void 0}async*blocks(){for(const t of this._blocks)yield t}async*cids(){for(const t of this._blocks)yield t.cid}static async fromBytes(t){if(!(t instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete(bytesReader(t))}static async fromIterable(t){if(!t||typeof t[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeReaderComplete(asyncIterableReader(t))}}async function decodeReaderComplete(e){const t=createDecoder(e),r=await t.header(),n=[];for await(const o of t.blocks())n.push(o);return new CarReader(r,n)}const from=({name:e,code:t,encode:r})=>new Hasher(e,t,r);class Hasher{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?create$1(this.code,r):r.then(n=>create$1(this.code,n))}else throw Error("Unknown type, must be binary type")}}const name$1="raw",code$2=85,encode$6=e=>coerce(e),decode$3=e=>coerce(e),raw=Object.freeze(Object.defineProperty({__proto__:null,name:name$1,code:code$2,encode:encode$6,decode:decode$3},Symbol.toStringTag,{value:"Module"})),sha=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),sha256=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512=from({name:"sha2-512",code:19,encode:sha("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256,sha512},Symbol.toStringTag,{value:"Module"})),readonly=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),links=function*(e,t){if(e!=null&&!(e instanceof Uint8Array))for(const[r,n]of Object.entries(e)){const o=[...t,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(const[y,E]of n.entries()){const g=[...o,y],T=CID.asCID(E);T?yield[g.join("/"),T]:typeof E=="object"&&(yield*links(E,g))}else{const y=CID.asCID(n);y?yield[o.join("/"),y]:yield*links(n,o)}}},tree=function*(e,t){if(e!=null)for(const[r,n]of Object.entries(e)){const o=[...t,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!CID.asCID(n))if(Array.isArray(n))for(const[y,E]of n.entries()){const g=[...o,y];yield g.join("/"),typeof E=="object"&&!CID.asCID(E)&&(yield*tree(E,g))}else yield*tree(n,o)}},get$1=(e,t)=>{let r=e;for(const[n,o]of t.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${t.slice(0,n+1).map(E=>`[${JSON.stringify(E)}]`).join("")}`);const y=CID.asCID(r);if(y)return{value:y,remaining:t.slice(n+1).join("/")}}return{value:r}};class Block{constructor({cid:t,bytes:r,value:n}){if(!t||!r||typeof n>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}links(){return links(this.value,[])}tree(){return tree(this.value,[])}get(t="/"){return get$1(this.value,t.split("/").filter(Boolean))}}const encode$5=async({value:e,codec:t,hasher:r})=>{if(typeof e>"u")throw new Error('Missing required argument "value"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const n=t.encode(e),o=await r.digest(n),y=CID.create(1,t.code,o);return new Block({value:e,bytes:n,cid:y})},createUnsafe=({bytes:e,cid:t,value:r,codec:n})=>{const o=r!==void 0?r:n&&n.decode(e);if(o===void 0)throw new Error('Missing required argument, must either provide "value" or "codec"');return new Block({cid:t,bytes:e,value:o})},create=async({bytes:e,cid:t,hasher:r,codec:n})=>{if(!e)throw new Error('Missing required argument "bytes"');if(!r)throw new Error('Missing required argument "hasher"');const o=n.decode(e),y=await r.digest(e);if(!equals$1(t.multihash.bytes,y.bytes))throw new Error("CID hash does not match bytes");return createUnsafe({bytes:e,cid:t,value:o,codec:n})};function mitt(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(o){o(r)}),(n=e.get("*"))&&n.slice().map(function(o){o(t,r)})}}}const{isBinary}=byteslib,encode$4=e=>isBinary(e)?encode$5({value:e,hasher:sha256,codec:raw}):encode$5({value:e,hasher:sha256,codec:dagCBOR}),decode$2=({bytes:e,cid:t})=>{let r,n;const{code:o}=t,y=t.multihash.code||decode$7(t.multihash).code;if(y===18)r=sha256;else throw new Error("Unsupported hash function: "+y);if(o===113)n=dagCBOR;else if(o===85)n=raw;else throw new Error("Unsupported codec: "+o);return create({bytes:e,cid:t,codec:n,hasher:r})};class Transaction{constructor(){Object.assign(this,mitt()),this.blocks=[]}static create(){return new this}static async load(t){const r=await CarReader.fromBytes(t),[n]=await r.getRoots();return{root:n,get:y=>r.get(y).then(E=>decode$2(E)).then(({value:E})=>E)}}async add(t){const r=await encode$4(t);return this.last=r,this.blocks.push(r),this.emit("size",this.size),r.cid}async get(t){const{cid:r,bytes:n,value:o}=await decode$2(t);return{cid:r,bytes:n,value:o}}undo(){return this.blocks.pop()}async commit(){const t=this.last.cid;let r=0,n=Pn({roots:[t]});r+=n;for(const E of this.blocks)r+=Jc(E);const o=new Uint8Array(r),y=await Qc(o,{headerSize:n});y.addRoot(t);for(const E of this.blocks)y.write(E);return await y.close(),y.bytes}get size(){if(!(this!=null&&this.last))return 0;const t=this.last.cid;let r=0;r+=Pn({roots:[t]});for(const o of this.blocks)r+=Jc(o);return r}}var f_=Object.create,fo$1=Object.defineProperty,l_=Object.getOwnPropertyDescriptor,d_=Object.getOwnPropertyNames,p_=Object.getPrototypeOf,h_=Object.prototype.hasOwnProperty,B=(e,t)=>()=>(e&&(t=e(e=0)),t),h=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),G$1=(e,t)=>{for(var r in t)fo$1(e,r,{get:t[r],enumerable:!0})},zl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d_(t))!h_.call(e,o)&&o!==r&&fo$1(e,o,{get:()=>t[o],enumerable:!(n=l_(t,o))||n.enumerable});return e},_$1=(e,t,r)=>(r=e!=null?f_(p_(e)):{},zl(t||!e||!e.__esModule?fo$1(r,"default",{value:e,enumerable:!0}):r,e)),ue=e=>zl(fo$1({},"__esModule",{value:!0}),e),Gl=h(e=>{u(),e.byteLength=T,e.toByteArray=V,e.fromByteArray=q;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(y=0,E=o.length;y<E;++y)t[y]=o[y],r[o.charCodeAt(y)]=y;var y,E;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function g(L){var I=L.length;if(I%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ee=L.indexOf("=");ee===-1&&(ee=I);var ie=ee===I?0:4-ee%4;return[ee,ie]}function T(L){var I=g(L),ee=I[0],ie=I[1];return(ee+ie)*3/4-ie}function P(L,I,ee){return(I+ee)*3/4-ee}function V(L){var I,ee=g(L),ie=ee[0],le=ee[1],ye=new n(P(L,ie,le)),ot=0,qe=le>0?ie-4:ie,Ee;for(Ee=0;Ee<qe;Ee+=4)I=r[L.charCodeAt(Ee)]<<18|r[L.charCodeAt(Ee+1)]<<12|r[L.charCodeAt(Ee+2)]<<6|r[L.charCodeAt(Ee+3)],ye[ot++]=I>>16&255,ye[ot++]=I>>8&255,ye[ot++]=I&255;return le===2&&(I=r[L.charCodeAt(Ee)]<<2|r[L.charCodeAt(Ee+1)]>>4,ye[ot++]=I&255),le===1&&(I=r[L.charCodeAt(Ee)]<<10|r[L.charCodeAt(Ee+1)]<<4|r[L.charCodeAt(Ee+2)]>>2,ye[ot++]=I>>8&255,ye[ot++]=I&255),ye}function X(L){return t[L>>18&63]+t[L>>12&63]+t[L>>6&63]+t[L&63]}function re(L,I,ee){for(var ie,le=[],ye=I;ye<ee;ye+=3)ie=(L[ye]<<16&16711680)+(L[ye+1]<<8&65280)+(L[ye+2]&255),le.push(X(ie));return le.join("")}function q(L){for(var I,ee=L.length,ie=ee%3,le=[],ye=16383,ot=0,qe=ee-ie;ot<qe;ot+=ye)le.push(re(L,ot,ot+ye>qe?qe:ot+ye));return ie===1?(I=L[ee-1],le.push(t[I>>2]+t[I<<4&63]+"==")):ie===2&&(I=(L[ee-2]<<8)+L[ee-1],le.push(t[I>>10]+t[I>>4&63]+t[I<<2&63]+"=")),le.join("")}}),Hl=h(e=>{u(),e.read=function(t,r,n,o,y){var E,g,T=y*8-o-1,P=(1<<T)-1,V=P>>1,X=-7,re=n?y-1:0,q=n?-1:1,L=t[r+re];for(re+=q,E=L&(1<<-X)-1,L>>=-X,X+=T;X>0;E=E*256+t[r+re],re+=q,X-=8);for(g=E&(1<<-X)-1,E>>=-X,X+=o;X>0;g=g*256+t[r+re],re+=q,X-=8);if(E===0)E=1-V;else{if(E===P)return g?NaN:(L?-1:1)*(1/0);g=g+Math.pow(2,o),E=E-V}return(L?-1:1)*g*Math.pow(2,E-o)},e.write=function(t,r,n,o,y,E){var g,T,P,V=E*8-y-1,X=(1<<V)-1,re=X>>1,q=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,L=o?0:E-1,I=o?1:-1,ee=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(T=isNaN(r)?1:0,g=X):(g=Math.floor(Math.log(r)/Math.LN2),r*(P=Math.pow(2,-g))<1&&(g--,P*=2),g+re>=1?r+=q/P:r+=q*Math.pow(2,1-re),r*P>=2&&(g++,P/=2),g+re>=X?(T=0,g=X):g+re>=1?(T=(r*P-1)*Math.pow(2,y),g=g+re):(T=r*Math.pow(2,re-1)*Math.pow(2,y),g=0));y>=8;t[n+L]=T&255,L+=I,T/=256,y-=8);for(g=g<<y|T,V+=y;V>0;t[n+L]=g&255,L+=I,g/=256,V-=8);t[n+L-I]|=ee*128}}),ct$1=h(e=>{u();var t=Gl(),r=Hl(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=g,e.SlowBuffer=le,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,g.TYPED_ARRAY_SUPPORT=y(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function y(){try{let s=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(s,w),s.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function E(s){if(s>o)throw new RangeError('The value "'+s+'" is invalid for option "size"');let w=new Uint8Array(s);return Object.setPrototypeOf(w,g.prototype),w}function g(s,w,k){if(typeof s=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return X(s)}return T(s,w,k)}g.poolSize=8192;function T(s,w,k){if(typeof s=="string")return re(s,w);if(ArrayBuffer.isView(s))return L(s);if(s==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s);if(Qr(s,ArrayBuffer)||s&&Qr(s.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Qr(s,SharedArrayBuffer)||s&&Qr(s.buffer,SharedArrayBuffer)))return I(s,w,k);if(typeof s=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let he=s.valueOf&&s.valueOf();if(he!=null&&he!==s)return g.from(he,w,k);let we=ee(s);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof s[Symbol.toPrimitive]=="function")return g.from(s[Symbol.toPrimitive]("string"),w,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s)}g.from=function(s,w,k){return T(s,w,k)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array);function P(s){if(typeof s!="number")throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function V(s,w,k){return P(s),s<=0?E(s):w!==void 0?typeof k=="string"?E(s).fill(w,k):E(s).fill(w):E(s)}g.alloc=function(s,w,k){return V(s,w,k)};function X(s){return P(s),E(s<0?0:ie(s)|0)}g.allocUnsafe=function(s){return X(s)},g.allocUnsafeSlow=function(s){return X(s)};function re(s,w){if((typeof w!="string"||w==="")&&(w="utf8"),!g.isEncoding(w))throw new TypeError("Unknown encoding: "+w);let k=ye(s,w)|0,he=E(k),we=he.write(s,w);return we!==k&&(he=he.slice(0,we)),he}function q(s){let w=s.length<0?0:ie(s.length)|0,k=E(w);for(let he=0;he<w;he+=1)k[he]=s[he]&255;return k}function L(s){if(Qr(s,Uint8Array)){let w=new Uint8Array(s);return I(w.buffer,w.byteOffset,w.byteLength)}return q(s)}function I(s,w,k){if(w<0||s.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<w+(k||0))throw new RangeError('"length" is outside of buffer bounds');let he;return w===void 0&&k===void 0?he=new Uint8Array(s):k===void 0?he=new Uint8Array(s,w):he=new Uint8Array(s,w,k),Object.setPrototypeOf(he,g.prototype),he}function ee(s){if(g.isBuffer(s)){let w=ie(s.length)|0,k=E(w);return k.length===0||s.copy(k,0,0,w),k}if(s.length!==void 0)return typeof s.length!="number"||ei(s.length)?E(0):q(s);if(s.type==="Buffer"&&Array.isArray(s.data))return q(s.data)}function ie(s){if(s>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return s|0}function le(s){return+s!=s&&(s=0),g.alloc(+s)}g.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==g.prototype},g.compare=function(s,w){if(Qr(s,Uint8Array)&&(s=g.from(s,s.offset,s.byteLength)),Qr(w,Uint8Array)&&(w=g.from(w,w.offset,w.byteLength)),!g.isBuffer(s)||!g.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===w)return 0;let k=s.length,he=w.length;for(let we=0,at=Math.min(k,he);we<at;++we)if(s[we]!==w[we]){k=s[we],he=w[we];break}return k<he?-1:he<k?1:0},g.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(s,w){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return g.alloc(0);let k;if(w===void 0)for(w=0,k=0;k<s.length;++k)w+=s[k].length;let he=g.allocUnsafe(w),we=0;for(k=0;k<s.length;++k){let at=s[k];if(Qr(at,Uint8Array))we+at.length>he.length?(g.isBuffer(at)||(at=g.from(at)),at.copy(he,we)):Uint8Array.prototype.set.call(he,at,we);else if(g.isBuffer(at))at.copy(he,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=at.length}return he};function ye(s,w){if(g.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||Qr(s,ArrayBuffer))return s.byteLength;if(typeof s!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof s);let k=s.length,he=arguments.length>2&&arguments[2]===!0;if(!he&&k===0)return 0;let we=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return vr(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return qr(s).length;default:if(we)return he?-1:vr(s).length;w=(""+w).toLowerCase(),we=!0}}g.byteLength=ye;function ot(s,w,k){let he=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,w>>>=0,k<=w))return"";for(s||(s="utf8");;)switch(s){case"hex":return ni(this,w,k);case"utf8":case"utf-8":return Hr(this,w,k);case"ascii":return wo(this,w,k);case"latin1":case"binary":return Gr(this,w,k);case"base64":return zr(this,w,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ki(this,w,k);default:if(he)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),he=!0}}g.prototype._isBuffer=!0;function qe(s,w,k){let he=s[w];s[w]=s[k],s[k]=he}g.prototype.swap16=function(){let s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<s;w+=2)qe(this,w,w+1);return this},g.prototype.swap32=function(){let s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<s;w+=4)qe(this,w,w+3),qe(this,w+1,w+2);return this},g.prototype.swap64=function(){let s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<s;w+=8)qe(this,w,w+7),qe(this,w+1,w+6),qe(this,w+2,w+5),qe(this,w+3,w+4);return this},g.prototype.toString=function(){let s=this.length;return s===0?"":arguments.length===0?Hr(this,0,s):ot.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(s){if(!g.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:g.compare(this,s)===0},g.prototype.inspect=function(){let s="",w=e.INSPECT_MAX_BYTES;return s=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(s+=" ... "),"<Buffer "+s+">"},n&&(g.prototype[n]=g.prototype.inspect),g.prototype.compare=function(s,w,k,he,we){if(Qr(s,Uint8Array)&&(s=g.from(s,s.offset,s.byteLength)),!g.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(w===void 0&&(w=0),k===void 0&&(k=s?s.length:0),he===void 0&&(he=0),we===void 0&&(we=this.length),w<0||k>s.length||he<0||we>this.length)throw new RangeError("out of range index");if(he>=we&&w>=k)return 0;if(he>=we)return-1;if(w>=k)return 1;if(w>>>=0,k>>>=0,he>>>=0,we>>>=0,this===s)return 0;let at=we-he,er=k-w,tn=Math.min(at,er),ri=this.slice(he,we),Zr=s.slice(w,k);for(let Yr=0;Yr<tn;++Yr)if(ri[Yr]!==Zr[Yr]){at=ri[Yr],er=Zr[Yr];break}return at<er?-1:er<at?1:0};function Ee(s,w,k,he,we){if(s.length===0)return-1;if(typeof k=="string"?(he=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,ei(k)&&(k=we?0:s.length-1),k<0&&(k=s.length+k),k>=s.length){if(we)return-1;k=s.length-1}else if(k<0)if(we)k=0;else return-1;if(typeof w=="string"&&(w=g.from(w,he)),g.isBuffer(w))return w.length===0?-1:it(s,w,k,he,we);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(s,w,k):Uint8Array.prototype.lastIndexOf.call(s,w,k):it(s,[w],k,he,we);throw new TypeError("val must be string, number or Buffer")}function it(s,w,k,he,we){let at=1,er=s.length,tn=w.length;if(he!==void 0&&(he=String(he).toLowerCase(),he==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(s.length<2||w.length<2)return-1;at=2,er/=2,tn/=2,k/=2}function ri(Yr,Ei){return at===1?Yr[Ei]:Yr.readUInt16BE(Ei*at)}let Zr;if(we){let Yr=-1;for(Zr=k;Zr<er;Zr++)if(ri(s,Zr)===ri(w,Yr===-1?0:Zr-Yr)){if(Yr===-1&&(Yr=Zr),Zr-Yr+1===tn)return Yr*at}else Yr!==-1&&(Zr-=Zr-Yr),Yr=-1}else for(k+tn>er&&(k=er-tn),Zr=k;Zr>=0;Zr--){let Yr=!0;for(let Ei=0;Ei<tn;Ei++)if(ri(s,Zr+Ei)!==ri(w,Ei)){Yr=!1;break}if(Yr)return Zr}return-1}g.prototype.includes=function(s,w,k){return this.indexOf(s,w,k)!==-1},g.prototype.indexOf=function(s,w,k){return Ee(this,s,w,k,!0)},g.prototype.lastIndexOf=function(s,w,k){return Ee(this,s,w,k,!1)};function Ie(s,w,k,he){k=Number(k)||0;let we=s.length-k;he?(he=Number(he),he>we&&(he=we)):he=we;let at=w.length;he>at/2&&(he=at/2);let er;for(er=0;er<he;++er){let tn=parseInt(w.substr(er*2,2),16);if(ei(tn))return er;s[k+er]=tn}return er}function jt(s,w,k,he){return Kr(vr(w,s.length-k),s,k,he)}function Qt(s,w,k,he){return Kr(Fr(w),s,k,he)}function sr(s,w,k,he){return Kr(qr(w),s,k,he)}function Pr(s,w,k,he){return Kr(st(w,s.length-k),s,k,he)}g.prototype.write=function(s,w,k,he){if(w===void 0)he="utf8",k=this.length,w=0;else if(k===void 0&&typeof w=="string")he=w,k=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(k)?(k=k>>>0,he===void 0&&(he="utf8")):(he=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let we=this.length-w;if((k===void 0||k>we)&&(k=we),s.length>0&&(k<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");let at=!1;for(;;)switch(he){case"hex":return Ie(this,s,w,k);case"utf8":case"utf-8":return jt(this,s,w,k);case"ascii":case"latin1":case"binary":return Qt(this,s,w,k);case"base64":return sr(this,s,w,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pr(this,s,w,k);default:if(at)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),at=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function zr(s,w,k){return w===0&&k===s.length?t.fromByteArray(s):t.fromByteArray(s.slice(w,k))}function Hr(s,w,k){k=Math.min(s.length,k);let he=[],we=w;for(;we<k;){let at=s[we],er=null,tn=at>239?4:at>223?3:at>191?2:1;if(we+tn<=k){let ri,Zr,Yr,Ei;switch(tn){case 1:at<128&&(er=at);break;case 2:ri=s[we+1],(ri&192)===128&&(Ei=(at&31)<<6|ri&63,Ei>127&&(er=Ei));break;case 3:ri=s[we+1],Zr=s[we+2],(ri&192)===128&&(Zr&192)===128&&(Ei=(at&15)<<12|(ri&63)<<6|Zr&63,Ei>2047&&(Ei<55296||Ei>57343)&&(er=Ei));break;case 4:ri=s[we+1],Zr=s[we+2],Yr=s[we+3],(ri&192)===128&&(Zr&192)===128&&(Yr&192)===128&&(Ei=(at&15)<<18|(ri&63)<<12|(Zr&63)<<6|Yr&63,Ei>65535&&Ei<1114112&&(er=Ei))}}er===null?(er=65533,tn=1):er>65535&&(er-=65536,he.push(er>>>10&1023|55296),er=56320|er&1023),he.push(er),we+=tn}return rn(he)}var en=4096;function rn(s){let w=s.length;if(w<=en)return String.fromCharCode.apply(String,s);let k="",he=0;for(;he<w;)k+=String.fromCharCode.apply(String,s.slice(he,he+=en));return k}function wo(s,w,k){let he="";k=Math.min(s.length,k);for(let we=w;we<k;++we)he+=String.fromCharCode(s[we]&127);return he}function Gr(s,w,k){let he="";k=Math.min(s.length,k);for(let we=w;we<k;++we)he+=String.fromCharCode(s[we]);return he}function ni(s,w,k){let he=s.length;(!w||w<0)&&(w=0),(!k||k<0||k>he)&&(k=he);let we="";for(let at=w;at<k;++at)we+=Bi[s[at]];return we}function ki(s,w,k){let he=s.slice(w,k),we="";for(let at=0;at<he.length-1;at+=2)we+=String.fromCharCode(he[at]+he[at+1]*256);return we}g.prototype.slice=function(s,w){let k=this.length;s=~~s,w=w===void 0?k:~~w,s<0?(s+=k,s<0&&(s=0)):s>k&&(s=k),w<0?(w+=k,w<0&&(w=0)):w>k&&(w=k),w<s&&(w=s);let he=this.subarray(s,w);return Object.setPrototypeOf(he,g.prototype),he};function Xr(s,w,k){if(s%1!==0||s<0)throw new RangeError("offset is not uint");if(s+w>k)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUintLE=g.prototype.readUIntLE=function(s,w,k){s=s>>>0,w=w>>>0,k||Xr(s,w,this.length);let he=this[s],we=1,at=0;for(;++at<w&&(we*=256);)he+=this[s+at]*we;return he},g.prototype.readUintBE=g.prototype.readUIntBE=function(s,w,k){s=s>>>0,w=w>>>0,k||Xr(s,w,this.length);let he=this[s+--w],we=1;for(;w>0&&(we*=256);)he+=this[s+--w]*we;return he},g.prototype.readUint8=g.prototype.readUInt8=function(s,w){return s=s>>>0,w||Xr(s,1,this.length),this[s]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(s,w){return s=s>>>0,w||Xr(s,2,this.length),this[s]|this[s+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(s,w){return s=s>>>0,w||Xr(s,2,this.length),this[s]<<8|this[s+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},g.prototype.readBigUInt64LE=_i(function(s){s=s>>>0,et(s,"offset");let w=this[s],k=this[s+7];(w===void 0||k===void 0)&&_e(s,this.length-8);let he=w+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,we=this[++s]+this[++s]*2**8+this[++s]*2**16+k*2**24;return BigInt(he)+(BigInt(we)<<BigInt(32))}),g.prototype.readBigUInt64BE=_i(function(s){s=s>>>0,et(s,"offset");let w=this[s],k=this[s+7];(w===void 0||k===void 0)&&_e(s,this.length-8);let he=w*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],we=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+k;return(BigInt(he)<<BigInt(32))+BigInt(we)}),g.prototype.readIntLE=function(s,w,k){s=s>>>0,w=w>>>0,k||Xr(s,w,this.length);let he=this[s],we=1,at=0;for(;++at<w&&(we*=256);)he+=this[s+at]*we;return we*=128,he>=we&&(he-=Math.pow(2,8*w)),he},g.prototype.readIntBE=function(s,w,k){s=s>>>0,w=w>>>0,k||Xr(s,w,this.length);let he=w,we=1,at=this[s+--he];for(;he>0&&(we*=256);)at+=this[s+--he]*we;return we*=128,at>=we&&(at-=Math.pow(2,8*w)),at},g.prototype.readInt8=function(s,w){return s=s>>>0,w||Xr(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},g.prototype.readInt16LE=function(s,w){s=s>>>0,w||Xr(s,2,this.length);let k=this[s]|this[s+1]<<8;return k&32768?k|4294901760:k},g.prototype.readInt16BE=function(s,w){s=s>>>0,w||Xr(s,2,this.length);let k=this[s+1]|this[s]<<8;return k&32768?k|4294901760:k},g.prototype.readInt32LE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},g.prototype.readInt32BE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},g.prototype.readBigInt64LE=_i(function(s){s=s>>>0,et(s,"offset");let w=this[s],k=this[s+7];(w===void 0||k===void 0)&&_e(s,this.length-8);let he=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(k<<24);return(BigInt(he)<<BigInt(32))+BigInt(w+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),g.prototype.readBigInt64BE=_i(function(s){s=s>>>0,et(s,"offset");let w=this[s],k=this[s+7];(w===void 0||k===void 0)&&_e(s,this.length-8);let he=(w<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(he)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+k)}),g.prototype.readFloatLE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),r.read(this,s,!0,23,4)},g.prototype.readFloatBE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),r.read(this,s,!1,23,4)},g.prototype.readDoubleLE=function(s,w){return s=s>>>0,w||Xr(s,8,this.length),r.read(this,s,!0,52,8)},g.prototype.readDoubleBE=function(s,w){return s=s>>>0,w||Xr(s,8,this.length),r.read(this,s,!1,52,8)};function Dt(s,w,k,he,we,at){if(!g.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>we||w<at)throw new RangeError('"value" argument is out of bounds');if(k+he>s.length)throw new RangeError("Index out of range")}g.prototype.writeUintLE=g.prototype.writeUIntLE=function(s,w,k,he){if(s=+s,w=w>>>0,k=k>>>0,!he){let er=Math.pow(2,8*k)-1;Dt(this,s,w,k,er,0)}let we=1,at=0;for(this[w]=s&255;++at<k&&(we*=256);)this[w+at]=s/we&255;return w+k},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(s,w,k,he){if(s=+s,w=w>>>0,k=k>>>0,!he){let er=Math.pow(2,8*k)-1;Dt(this,s,w,k,er,0)}let we=k-1,at=1;for(this[w+we]=s&255;--we>=0&&(at*=256);)this[w+we]=s/at&255;return w+k},g.prototype.writeUint8=g.prototype.writeUInt8=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,1,255,0),this[w]=s&255,w+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,2,65535,0),this[w]=s&255,this[w+1]=s>>>8,w+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,2,65535,0),this[w]=s>>>8,this[w+1]=s&255,w+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,4,4294967295,0),this[w+3]=s>>>24,this[w+2]=s>>>16,this[w+1]=s>>>8,this[w]=s&255,w+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,4,4294967295,0),this[w]=s>>>24,this[w+1]=s>>>16,this[w+2]=s>>>8,this[w+3]=s&255,w+4};function tr(s,w,k,he,we){Xt(w,he,we,s,k,7);let at=Number(w&BigInt(4294967295));s[k++]=at,at=at>>8,s[k++]=at,at=at>>8,s[k++]=at,at=at>>8,s[k++]=at;let er=Number(w>>BigInt(32)&BigInt(4294967295));return s[k++]=er,er=er>>8,s[k++]=er,er=er>>8,s[k++]=er,er=er>>8,s[k++]=er,k}function Wt(s,w,k,he,we){Xt(w,he,we,s,k,7);let at=Number(w&BigInt(4294967295));s[k+7]=at,at=at>>8,s[k+6]=at,at=at>>8,s[k+5]=at,at=at>>8,s[k+4]=at;let er=Number(w>>BigInt(32)&BigInt(4294967295));return s[k+3]=er,er=er>>8,s[k+2]=er,er=er>>8,s[k+1]=er,er=er>>8,s[k]=er,k+8}g.prototype.writeBigUInt64LE=_i(function(s,w=0){return tr(this,s,w,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=_i(function(s,w=0){return Wt(this,s,w,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(s,w,k,he){if(s=+s,w=w>>>0,!he){let tn=Math.pow(2,8*k-1);Dt(this,s,w,k,tn-1,-tn)}let we=0,at=1,er=0;for(this[w]=s&255;++we<k&&(at*=256);)s<0&&er===0&&this[w+we-1]!==0&&(er=1),this[w+we]=(s/at>>0)-er&255;return w+k},g.prototype.writeIntBE=function(s,w,k,he){if(s=+s,w=w>>>0,!he){let tn=Math.pow(2,8*k-1);Dt(this,s,w,k,tn-1,-tn)}let we=k-1,at=1,er=0;for(this[w+we]=s&255;--we>=0&&(at*=256);)s<0&&er===0&&this[w+we+1]!==0&&(er=1),this[w+we]=(s/at>>0)-er&255;return w+k},g.prototype.writeInt8=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,1,127,-128),s<0&&(s=255+s+1),this[w]=s&255,w+1},g.prototype.writeInt16LE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,2,32767,-32768),this[w]=s&255,this[w+1]=s>>>8,w+2},g.prototype.writeInt16BE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,2,32767,-32768),this[w]=s>>>8,this[w+1]=s&255,w+2},g.prototype.writeInt32LE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,4,2147483647,-2147483648),this[w]=s&255,this[w+1]=s>>>8,this[w+2]=s>>>16,this[w+3]=s>>>24,w+4},g.prototype.writeInt32BE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[w]=s>>>24,this[w+1]=s>>>16,this[w+2]=s>>>8,this[w+3]=s&255,w+4},g.prototype.writeBigInt64LE=_i(function(s,w=0){return tr(this,s,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=_i(function(s,w=0){return Wt(this,s,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Jr(s,w,k,he,we,at){if(k+he>s.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function ao(s,w,k,he,we){return w=+w,k=k>>>0,we||Jr(s,w,k,4),r.write(s,w,k,he,23,4),k+4}g.prototype.writeFloatLE=function(s,w,k){return ao(this,s,w,!0,k)},g.prototype.writeFloatBE=function(s,w,k){return ao(this,s,w,!1,k)};function yo(s,w,k,he,we){return w=+w,k=k>>>0,we||Jr(s,w,k,8),r.write(s,w,k,he,52,8),k+8}g.prototype.writeDoubleLE=function(s,w,k){return yo(this,s,w,!0,k)},g.prototype.writeDoubleBE=function(s,w,k){return yo(this,s,w,!1,k)},g.prototype.copy=function(s,w,k,he){if(!g.isBuffer(s))throw new TypeError("argument should be a Buffer");if(k||(k=0),!he&&he!==0&&(he=this.length),w>=s.length&&(w=s.length),w||(w=0),he>0&&he<k&&(he=k),he===k||s.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),s.length-w<he-k&&(he=s.length-w+k);let we=he-k;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,k,he):Uint8Array.prototype.set.call(s,this.subarray(k,he),w),we},g.prototype.fill=function(s,w,k,he){if(typeof s=="string"){if(typeof w=="string"?(he=w,w=0,k=this.length):typeof k=="string"&&(he=k,k=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!g.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(s.length===1){let at=s.charCodeAt(0);(he==="utf8"&&at<128||he==="latin1")&&(s=at)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(w<0||this.length<w||this.length<k)throw new RangeError("Out of range index");if(k<=w)return this;w=w>>>0,k=k===void 0?this.length:k>>>0,s||(s=0);let we;if(typeof s=="number")for(we=w;we<k;++we)this[we]=s;else{let at=g.isBuffer(s)?s:g.from(s,he),er=at.length;if(er===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(we=0;we<k-w;++we)this[we+w]=at[we%er]}return this};var rr={};function Br(s,w,k){rr[s]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${s}]`,this.stack,delete this.name}get code(){return s}set code(he){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:he,writable:!0})}toString(){return`${this.name} [${s}]: ${this.message}`}}}Br("ERR_BUFFER_OUT_OF_BOUNDS",function(s){return s?`${s} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Br("ERR_INVALID_ARG_TYPE",function(s,w){return`The "${s}" argument must be of type number. Received type ${typeof w}`},TypeError),Br("ERR_OUT_OF_RANGE",function(s,w,k){let he=`The value of "${s}" is out of range.`,we=k;return Number.isInteger(k)&&Math.abs(k)>2**32?we=je(String(k)):typeof k=="bigint"&&(we=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(we=je(we)),we+="n"),he+=` It must be ${w}. Received ${we}`,he},RangeError);function je(s){let w="",k=s.length,he=s[0]==="-"?1:0;for(;k>=he+4;k-=3)w=`_${s.slice(k-3,k)}${w}`;return`${s.slice(0,k)}${w}`}function Gt(s,w,k){et(w,"offset"),(s[w]===void 0||s[w+k]===void 0)&&_e(w,s.length-(k+1))}function Xt(s,w,k,he,we,at){if(s>k||s<w){let er=typeof w=="bigint"?"n":"",tn;throw at>3?w===0||w===BigInt(0)?tn=`>= 0${er} and < 2${er} ** ${(at+1)*8}${er}`:tn=`>= -(2${er} ** ${(at+1)*8-1}${er}) and < 2 ** ${(at+1)*8-1}${er}`:tn=`>= ${w}${er} and <= ${k}${er}`,new rr.ERR_OUT_OF_RANGE("value",tn,s)}Gt(he,we,at)}function et(s,w){if(typeof s!="number")throw new rr.ERR_INVALID_ARG_TYPE(w,"number",s)}function _e(s,w,k){throw Math.floor(s)!==s?(et(s,k),new rr.ERR_OUT_OF_RANGE(k||"offset","an integer",s)):w<0?new rr.ERR_BUFFER_OUT_OF_BOUNDS:new rr.ERR_OUT_OF_RANGE(k||"offset",`>= ${k?1:0} and <= ${w}`,s)}var ir=/[^+/0-9A-Za-z-_]/g;function Rr(s){if(s=s.split("=")[0],s=s.trim().replace(ir,""),s.length<2)return"";for(;s.length%4!==0;)s=s+"=";return s}function vr(s,w){w=w||1/0;let k,he=s.length,we=null,at=[];for(let er=0;er<he;++er){if(k=s.charCodeAt(er),k>55295&&k<57344){if(!we){if(k>56319){(w-=3)>-1&&at.push(239,191,189);continue}else if(er+1===he){(w-=3)>-1&&at.push(239,191,189);continue}we=k;continue}if(k<56320){(w-=3)>-1&&at.push(239,191,189),we=k;continue}k=(we-55296<<10|k-56320)+65536}else we&&(w-=3)>-1&&at.push(239,191,189);if(we=null,k<128){if((w-=1)<0)break;at.push(k)}else if(k<2048){if((w-=2)<0)break;at.push(k>>6|192,k&63|128)}else if(k<65536){if((w-=3)<0)break;at.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((w-=4)<0)break;at.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return at}function Fr(s){let w=[];for(let k=0;k<s.length;++k)w.push(s.charCodeAt(k)&255);return w}function st(s,w){let k,he,we,at=[];for(let er=0;er<s.length&&!((w-=2)<0);++er)k=s.charCodeAt(er),he=k>>8,we=k%256,at.push(we),at.push(he);return at}function qr(s){return t.toByteArray(Rr(s))}function Kr(s,w,k,he){let we;for(we=0;we<he&&!(we+k>=w.length||we>=s.length);++we)w[we+k]=s[we];return we}function Qr(s,w){return s instanceof w||s!=null&&s.constructor!=null&&s.constructor.name!=null&&s.constructor.name===w.name}function ei(s){return s!==s}var Bi=function(){let s="0123456789abcdef",w=new Array(256);for(let k=0;k<16;++k){let he=k*16;for(let we=0;we<16;++we)w[he+we]=s[k]+s[we]}return w}();function _i(s){return typeof BigInt>"u"?Ii:s}function Ii(){throw new Error("BigInt not supported")}}),yd$1=h((e,t)=>{u();var r=t.exports={},n,o;function y(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=y}catch{n=y}try{typeof clearTimeout=="function"?o=clearTimeout:o=E}catch{o=E}})();function g(ie){if(n===setTimeout)return setTimeout(ie,0);if((n===y||!n)&&setTimeout)return n=setTimeout,setTimeout(ie,0);try{return n(ie,0)}catch{try{return n.call(null,ie,0)}catch{return n.call(this,ie,0)}}}function T(ie){if(o===clearTimeout)return clearTimeout(ie);if((o===E||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(ie);try{return o(ie)}catch{try{return o.call(null,ie)}catch{return o.call(this,ie)}}}var P=[],V=!1,X,re=-1;function q(){!V||!X||(V=!1,X.length?P=X.concat(P):re=-1,P.length&&L())}function L(){if(!V){var ie=g(q);V=!0;for(var le=P.length;le;){for(X=P,P=[];++re<le;)X&&X[re].run();re=-1,le=P.length}X=null,V=!1,T(ie)}}r.nextTick=function(ie){var le=new Array(arguments.length-1);if(arguments.length>1)for(var ye=1;ye<arguments.length;ye++)le[ye-1]=arguments[ye];P.push(new I(ie,le)),P.length===1&&!V&&g(L)};function I(ie,le){this.fun=ie,this.array=le}I.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function ee(){}r.on=ee,r.addListener=ee,r.once=ee,r.off=ee,r.removeListener=ee,r.removeAllListeners=ee,r.emit=ee,r.prependListener=ee,r.prependOnceListener=ee,r.listeners=function(ie){return[]},r.binding=function(ie){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(ie){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),Buffer$1,process$1,global,u=B(()=>{Buffer$1=ct$1().Buffer,process$1=yd$1(),global=typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},globalThis&&globalThis.process&&globalThis.process.env&&(globalThis.process.env.LIBP2P_FORCE_PNET=!1)}),za=h((e,t)=>{u(),t.exports=r;function r(n,o,y){if(!n)return y;var E,g;if(Array.isArray(o)&&(E=o.slice(0)),typeof o=="string"&&(E=o.split(".")),typeof o=="symbol"&&(E=[o]),!Array.isArray(E))throw new Error("props arg must be an array, a string or a symbol");for(;E.length;)if(g=E.shift(),!n||(n=n[g],n===void 0))return y;return n}}),wd$1=h((e,t)=>{u();var r=1e3,n=r*60,o=n*60,y=o*24,E=y*7,g=y*365.25;t.exports=function(re,q){q=q||{};var L=typeof re;if(L==="string"&&re.length>0)return T(re);if(L==="number"&&isFinite(re))return q.long?V(re):P(re);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(re))};function T(re){if(re=String(re),!(re.length>100)){var q=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(re);if(q){var L=parseFloat(q[1]),I=(q[2]||"ms").toLowerCase();switch(I){case"years":case"year":case"yrs":case"yr":case"y":return L*g;case"weeks":case"week":case"w":return L*E;case"days":case"day":case"d":return L*y;case"hours":case"hour":case"hrs":case"hr":case"h":return L*o;case"minutes":case"minute":case"mins":case"min":case"m":return L*n;case"seconds":case"second":case"secs":case"sec":case"s":return L*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return L;default:return}}}}function P(re){var q=Math.abs(re);return q>=y?Math.round(re/y)+"d":q>=o?Math.round(re/o)+"h":q>=n?Math.round(re/n)+"m":q>=r?Math.round(re/r)+"s":re+"ms"}function V(re){var q=Math.abs(re);return q>=y?X(re,q,y,"day"):q>=o?X(re,q,o,"hour"):q>=n?X(re,q,n,"minute"):q>=r?X(re,q,r,"second"):re+" ms"}function X(re,q,L,I){var ee=q>=L*1.5;return Math.round(re/L)+" "+I+(ee?"s":"")}}),vd$1=h((e,t)=>{u();function r(n){y.debug=y,y.default=y,y.coerce=X,y.disable=T,y.enable=g,y.enabled=P,y.humanize=wd$1(),y.destroy=re,Object.keys(n).forEach(q=>{y[q]=n[q]}),y.names=[],y.skips=[],y.formatters={};function o(q){let L=0;for(let I=0;I<q.length;I++)L=(L<<5)-L+q.charCodeAt(I),L|=0;return y.colors[Math.abs(L)%y.colors.length]}y.selectColor=o;function y(q){let L,I=null,ee,ie;function le(...ye){if(!le.enabled)return;let ot=le,qe=Number(new Date),Ee=qe-(L||qe);ot.diff=Ee,ot.prev=L,ot.curr=qe,L=qe,ye[0]=y.coerce(ye[0]),typeof ye[0]!="string"&&ye.unshift("%O");let it=0;ye[0]=ye[0].replace(/%([a-zA-Z%])/g,(Ie,jt)=>{if(Ie==="%%")return"%";it++;let Qt=y.formatters[jt];if(typeof Qt=="function"){let sr=ye[it];Ie=Qt.call(ot,sr),ye.splice(it,1),it--}return Ie}),y.formatArgs.call(ot,ye),(ot.log||y.log).apply(ot,ye)}return le.namespace=q,le.useColors=y.useColors(),le.color=y.selectColor(q),le.extend=E,le.destroy=y.destroy,Object.defineProperty(le,"enabled",{enumerable:!0,configurable:!1,get:()=>I!==null?I:(ee!==y.namespaces&&(ee=y.namespaces,ie=y.enabled(q)),ie),set:ye=>{I=ye}}),typeof y.init=="function"&&y.init(le),le}function E(q,L){let I=y(this.namespace+(typeof L>"u"?":":L)+q);return I.log=this.log,I}function g(q){y.save(q),y.namespaces=q,y.names=[],y.skips=[];let L,I=(typeof q=="string"?q:"").split(/[\s,]+/),ee=I.length;for(L=0;L<ee;L++)!I[L]||(q=I[L].replace(/\*/g,".*?"),q[0]==="-"?y.skips.push(new RegExp("^"+q.slice(1)+"$")):y.names.push(new RegExp("^"+q+"$")))}function T(){let q=[...y.names.map(V),...y.skips.map(V).map(L=>"-"+L)].join(",");return y.enable(""),q}function P(q){if(q[q.length-1]==="*")return!0;let L,I;for(L=0,I=y.skips.length;L<I;L++)if(y.skips[L].test(q))return!1;for(L=0,I=y.names.length;L<I;L++)if(y.names[L].test(q))return!0;return!1}function V(q){return q.toString().substring(2,q.toString().length-2).replace(/\.\*\?$/,"*")}function X(q){return q instanceof Error?q.stack||q.message:q}function re(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return y.enable(y.load()),y}t.exports=r}),We=h((e,t)=>{u(),e.formatArgs=n,e.save=o,e.load=y,e.useColors=r,e.storage=E(),e.destroy=(()=>{let T=!1;return()=>{T||(T=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(T){if(T[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+T[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let P="color: "+this.color;T.splice(1,0,P,"color: inherit");let V=0,X=0;T[0].replace(/%[a-zA-Z%]/g,re=>{re!=="%%"&&(V++,re==="%c"&&(X=V))}),T.splice(X,0,P)}e.log=console.debug||console.log||(()=>{});function o(T){try{T?e.storage.setItem("debug",T):e.storage.removeItem("debug")}catch{}}function y(){let T;try{T=e.storage.getItem("debug")}catch{}return!T&&typeof process$1<"u"&&"env"in process$1&&(T=process$1.env.DEBUG),T}function E(){try{return localStorage}catch{}}t.exports=vd$1()(e);var{formatters:g}=t.exports;g.j=function(T){try{return JSON.stringify(T)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}}}),dt$1=h((e,t)=>{u();function r(o,y){for(let E in y)Object.defineProperty(o,E,{value:y[E],enumerable:!0,configurable:!0});return o}function n(o,y,E){if(!o||typeof o=="string")throw new TypeError("Please pass an Error to err-code");E||(E={}),typeof y=="object"&&(E=y,y=""),y&&(E.code=y);try{return r(o,E)}catch{E.message=o.message,E.stack=o.stack;let g=function(){};return g.prototype=Object.create(Object.getPrototypeOf(o)),r(new g,E)}}t.exports=n});function Ad$1(e,t,r){t=t||[],r=r||0;for(var n=r;e>=d1;)t[r++]=e&255|xd,e/=128;for(;e&l1;)t[r++]=e&255|xd,e>>>=7;return t[r]=e|0,Ad$1.bytes=r-n+1,t}function Wa(e,n){var r=0,n=n||0,o=0,y=n,E,g=e.length;do{if(y>=g)throw Wa.bytes=0,new RangeError("Could not decode varint");E=e[y++],r+=o<28?(E&Dd)<<o:(E&Dd)*Math.pow(2,o),o+=7}while(E>=h1);return Wa.bytes=y-n,r}var c1,xd,f1,l1,d1,p1,h1,Dd,y1,g1,m1,w1,b1,v1,E1,_1,x1,D1,A1,S1,ii,Sd$1=B(()=>{u(),c1=Ad$1,xd=128,f1=127,l1=~f1,d1=Math.pow(2,31),p1=Wa,h1=128,Dd=127,y1=Math.pow(2,7),g1=Math.pow(2,14),m1=Math.pow(2,21),w1=Math.pow(2,28),b1=Math.pow(2,35),v1=Math.pow(2,42),E1=Math.pow(2,49),_1=Math.pow(2,56),x1=Math.pow(2,63),D1=function(e){return e<y1?1:e<g1?2:e<m1?3:e<w1?4:e<b1?5:e<v1?6:e<E1?7:e<_1?8:e<x1?9:10},A1={encode:c1,decode:p1,encodingLength:D1},S1=A1,ii=S1}),oi,nn,on,bo$1=B(()=>{u(),Sd$1(),oi=e=>[ii.decode(e),ii.decode.bytes],nn=(e,t,r=0)=>(ii.encode(e,t,r),t),on=e=>ii.encodingLength(e)}),Cd,Ot,Od$1,Td$1,qt=B(()=>{u(),Cd=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Ot=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Od$1=e=>new TextEncoder().encode(e),Td$1=e=>new TextDecoder().decode(e)}),Ge={};G$1(Ge,{Digest:()=>gr$1,create:()=>Ut,decode:()=>Ve,equals:()=>Ga});var Ut,Ve,Ga,gr$1,pt$1=B(()=>{u(),qt(),bo$1(),Ut=(e,t)=>{let r=t.byteLength,n=on(e),o=n+on(r),y=new Uint8Array(o+r);return nn(e,y,0),nn(r,y,n),y.set(t,o),new gr$1(e,r,t,y)},Ve=e=>{let t=Ot(e),[r,n]=oi(t),[o,y]=oi(t.subarray(n)),E=t.subarray(n+y);if(E.byteLength!==o)throw new Error("Incorrect length");return new gr$1(r,o,E,t)},Ga=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&Cd(e.bytes,t.bytes),gr$1=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}});function C1(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var y=e.charAt(o),E=y.charCodeAt(0);if(r[E]!==255)throw new TypeError(y+" is ambiguous");r[E]=o}var g=e.length,T=e.charAt(0),P=Math.log(g)/Math.log(256),V=Math.log(256)/Math.log(g);function X(L){if(L instanceof Uint8Array||(ArrayBuffer.isView(L)?L=new Uint8Array(L.buffer,L.byteOffset,L.byteLength):Array.isArray(L)&&(L=Uint8Array.from(L))),!(L instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(L.length===0)return"";for(var I=0,ee=0,ie=0,le=L.length;ie!==le&&L[ie]===0;)ie++,I++;for(var ye=(le-ie)*V+1>>>0,ot=new Uint8Array(ye);ie!==le;){for(var qe=L[ie],Ee=0,it=ye-1;(qe!==0||Ee<ee)&&it!==-1;it--,Ee++)qe+=256*ot[it]>>>0,ot[it]=qe%g>>>0,qe=qe/g>>>0;if(qe!==0)throw new Error("Non-zero carry");ee=Ee,ie++}for(var Ie=ye-ee;Ie!==ye&&ot[Ie]===0;)Ie++;for(var jt=T.repeat(I);Ie<ye;++Ie)jt+=e.charAt(ot[Ie]);return jt}function re(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return new Uint8Array;var I=0;if(L[I]!==" "){for(var ee=0,ie=0;L[I]===T;)ee++,I++;for(var le=(L.length-I)*P+1>>>0,ye=new Uint8Array(le);L[I];){var ot=r[L.charCodeAt(I)];if(ot===255)return;for(var qe=0,Ee=le-1;(ot!==0||qe<ie)&&Ee!==-1;Ee--,qe++)ot+=g*ye[Ee]>>>0,ye[Ee]=ot%256>>>0,ot=ot/256>>>0;if(ot!==0)throw new Error("Non-zero carry");ie=qe,I++}if(L[I]!==" "){for(var it=le-ie;it!==le&&ye[it]===0;)it++;for(var Ie=new Uint8Array(ee+(le-it)),jt=ee;it!==le;)Ie[jt++]=ye[it++];return Ie}}}function q(L){var I=re(L);if(I)return I;throw new Error(`Non-${t} character`)}return{encode:X,decodeUnsafe:re,decode:q}}var O1,T1,Id$1,Rd$1=B(()=>{u(),O1=C1,T1=O1,Id$1=T1}),Ha,Ja$1,Ya,Bd,Qa,sn,$t,I1,R1,z$1,He=B(()=>{u(),Rd$1(),qt(),Ha=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Ja$1=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Bd(this,e)}},Ya=class{constructor(e){this.decoders=e}or(e){return Bd(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Bd=(e,t)=>new Ya({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Qa=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Ha(e,t,r),this.decoder=new Ja$1(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},sn=({name:e,prefix:t,encode:r,decode:n})=>new Qa(e,t,r,n),$t=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=Id$1(r,t);return sn({prefix:e,name:t,encode:n,decode:y=>Ot(o(y))})},I1=(e,t,r,n)=>{let o={};for(let V=0;V<t.length;++V)o[t[V]]=V;let y=e.length;for(;e[y-1]==="=";)--y;let E=new Uint8Array(y*r/8|0),g=0,T=0,P=0;for(let V=0;V<y;++V){let X=o[e[V]];if(X===void 0)throw new SyntaxError(`Non-${n} character`);T=T<<r|X,g+=r,g>=8&&(g-=8,E[P++]=255&T>>g)}if(g>=r||255&T<<8-g)throw new SyntaxError("Unexpected end of data");return E},R1=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,y="",E=0,g=0;for(let T=0;T<e.length;++T)for(g=g<<8|e[T],E+=8;E>r;)E-=r,y+=t[o&g>>E];if(E&&(y+=t[o&g<<r-E]),n)for(;y.length*r&7;)y+="=";return y},z$1=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>sn({prefix:t,name:e,encode(o){return R1(o,n,r)},decode(o){return I1(o,n,r,e)}})}),si$1={};G$1(si$1,{base58btc:()=>xe,base58flickr:()=>B1});var xe,B1,an=B(()=>{u(),He(),xe=$t({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),B1=$t({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),vo={};G$1(vo,{base32:()=>U,base32hex:()=>F1,base32hexpad:()=>L1,base32hexpadupper:()=>M1,base32hexupper:()=>N1,base32pad:()=>Za,base32padupper:()=>k1,base32upper:()=>P1,base32z:()=>j1});var U,P1,Za,k1,F1,N1,L1,M1,j1,ht$1=B(()=>{u(),He(),U=z$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),P1=z$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Za=z$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),k1=z$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),F1=z$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),N1=z$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),L1=z$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),M1=z$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),j1=z$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),Xa={};G$1(Xa,{CID:()=>S$1});var S$1,q1,U1,$1,ai$1,K1,Pd$1,kd$1,Eo,_o,z1,W1,V1,ge=B(()=>{u(),bo$1(),pt$1(),an(),ht$1(),qt(),S$1=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:_o,byteLength:_o,code:Eo,version:Eo,multihash:Eo,bytes:Eo,_baseCache:_o,asCID:_o})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==ai$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==K1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return S$1.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Ut(e,t);return S$1.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Ga(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return U1(t,n,e||xe.encoder);default:return $1(t,n,e||U.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return W1(/^0\.0/,V1),!!(e&&(e[kd$1]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof S$1)return e;if(e!=null&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:o}=e;return new S$1(t,r,n,o||Pd$1(t,r,n.bytes))}else if(e!=null&&e[kd$1]===!0){let{version:t,multihash:r,code:n}=e,o=Ve(r);return S$1.create(t,n,o)}else return null}static create(e,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==ai$1)throw new Error(`Version 0 CID must use dag-pb (code: ${ai$1}) block encoding`);return new S$1(e,t,r,r.bytes)}case 1:{let n=Pd$1(e,t,r.bytes);return new S$1(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return S$1.create(0,ai$1,e)}static createV1(e,t){return S$1.create(1,e,t)}static decode(e){let[t,r]=S$1.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=S$1.inspectBytes(e),r=t.size-t.multihashSize,n=Ot(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),y=new gr$1(t.multihashCode,t.digestSize,o,n);return[t.version===0?S$1.createV0(y):S$1.createV1(t.codec,y),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[V,X]=oi(e.subarray(t));return t+=X,V},n=r(),o=ai$1;if(n===18?(n=0,t=0):n===1&&(o=r()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let y=t,E=r(),g=r(),T=t+g,P=T-y;return{version:n,codec:o,multihashCode:E,digestSize:g,multihashSize:P,size:T}}static parse(e,t){let[r,n]=q1(e,t),o=S$1.decode(n);return o._baseCache.set(r,e),o}},q1=(e,t)=>{switch(e[0]){case"Q":{let r=t||xe;return[xe.prefix,r.decode(`${xe.prefix}${e}`)]}case xe.prefix:{let r=t||xe;return[xe.prefix,r.decode(e)]}case U.prefix:{let r=t||U;return[U.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},U1=(e,t,r)=>{let{prefix:n}=r;if(n!==xe.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let y=r.encode(e).slice(1);return t.set(n,y),y}else return o},$1=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let y=r.encode(e);return t.set(n,y),y}else return o},ai$1=112,K1=18,Pd$1=(e,t,r)=>{let n=on(e),o=n+on(t),y=new Uint8Array(o+r.byteLength);return nn(e,y,0),nn(t,y,n),y.set(r,o),y},kd$1=Symbol.for("@ipld/js-cid/CID"),Eo={writable:!1,configurable:!1,enumerable:!0},_o={writable:!1,enumerable:!1,configurable:!1},z1="0.0.0-dev",W1=(e,t)=>{if(e.test(z1))console.warn(t);else throw new Error(t)},V1=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`}),Fd$1,Nd$1=B(()=>{u(),Fd$1="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}),tu={};G$1(tu,{customAlphabet:()=>G1,customRandom:()=>Md$1,nanoid:()=>eu,random:()=>Ld$1,urlAlphabet:()=>Fd$1});var Ld$1,Md$1,G1,eu,xo=B(()=>{u(),Nd$1(),Ld$1=e=>crypto.getRandomValues(new Uint8Array(e)),Md$1=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*n*t/e.length);return(y=t)=>{let E="";for(;;){let g=r(o),T=o;for(;T--;)if(E+=e[g[T]&n]||"",E.length===y)return E}}},G1=(e,t=21)=>Md$1(e,t,Ld$1),eu=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"")}),ru$1={};G$1(ru$1,{identity:()=>H1});var H1,jd=B(()=>{u(),He(),qt(),H1=sn({prefix:"\0",name:"identity",encode:e=>Td$1(e),decode:e=>Od$1(e)})}),nu={};G$1(nu,{base2:()=>J1});var J1,qd$1=B(()=>{u(),He(),J1=z$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),iu={};G$1(iu,{base8:()=>Y1});var Y1,Ud$1=B(()=>{u(),He(),Y1=z$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),ou={};G$1(ou,{base10:()=>Q1});var Q1,$d$1=B(()=>{u(),He(),Q1=$t({prefix:"9",name:"base10",alphabet:"0123456789"})}),su={};G$1(su,{base16:()=>Z1,base16upper:()=>X1});var Z1,X1,Kd=B(()=>{u(),He(),Z1=z$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),X1=z$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),au={};G$1(au,{base36:()=>ex,base36upper:()=>tx});var ex,tx,zd$1=B(()=>{u(),He(),ex=$t({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tx=$t({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),uu={};G$1(uu,{base64:()=>rx,base64pad:()=>nx,base64url:()=>ix,base64urlpad:()=>ox});var rx,nx,ix,ox,Wd=B(()=>{u(),He(),rx=z$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nx=z$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ix=z$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ox=z$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})}),cu={};G$1(cu,{base256emoji:()=>fx});function ux(e){return e.reduce((t,r)=>(t+=sx[r],t),"")}function cx(e){let t=[];for(let r of e){let n=ax[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var Vd,sx,ax,fx,Gd$1=B(()=>{u(),He(),Vd=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),sx=Vd.reduce((e,t,r)=>(e[r]=t,e),[]),ax=Vd.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),fx=sn({prefix:"\u{1F680}",name:"base256emoji",encode:ux,decode:cx})}),lu,fu,du=B(()=>{u(),pt$1(),lu=({name:e,code:t,encode:r})=>new fu(e,t,r),fu=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Ut(this.code,t):t.then(r=>Ut(this.code,r))}else throw Error("Unknown type, must be binary type")}}}),pu$1={};G$1(pu$1,{sha256:()=>un$1,sha512:()=>lx});var Jd,un$1,lx,Do=B(()=>{u(),du(),Jd=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),un$1=lu({name:"sha2-256",code:18,encode:Jd("SHA-256")}),lx=lu({name:"sha2-512",code:19,encode:Jd("SHA-512")})}),yu={};G$1(yu,{identity:()=>hu});var Yd,dx,Qd,px,hu,gu$1=B(()=>{u(),qt(),pt$1(),Yd=0,dx="identity",Qd=Ot,px=e=>Ut(Yd,Qd(e)),hu={code:Yd,name:dx,encode:Qd,digest:px}}),ui$1,ci$1=B(()=>{u(),qt(),ui$1=85}),Zd=B(()=>{u(),new TextEncoder,new TextDecoder}),So=B(()=>{u(),ge(),bo$1(),qt(),du(),pt$1()}),mu,Xd=B(()=>{u(),jd(),qd$1(),Ud$1(),$d$1(),Kd(),ht$1(),zd$1(),an(),Wd(),Gd$1(),Do(),gu$1(),ci$1(),Zd(),So(),mu={...ru$1,...nu,...iu,...ou,...su,...vo,...au,...si$1,...uu,...cu},{...pu$1,...yu}});function Co(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}var wu$1=B(()=>{u()});function tp(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var ep,bu,yx,Oo,vu=B(()=>{u(),Xd(),wu$1(),ep=tp("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>new TextEncoder().encode(e.substring(1))),bu=tp("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=Co(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),yx={utf8:ep,"utf-8":ep,hex:mu.base16,latin1:bu,ascii:bu,binary:bu,...mu},Oo=yx}),fi$1={};G$1(fi$1,{toString:()=>de});function de(e,t="utf8"){let r=Oo[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var ke$1=B(()=>{u(),vu()}),rp={};G$1(rp,{fromString:()=>oe});function oe(e,t="utf8"){let r=Oo[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}var yt=B(()=>{u(),vu()}),Eu=h((e,t)=>{u();var r=async n=>{let o=0;for await(let y of n)o++;return o};t.exports=r}),Dh=h((e,t)=>{u(),t.exports=r;function r(n,o){for(var y=new Array(arguments.length-1),E=0,g=2,T=!0;g<arguments.length;)y[E++]=arguments[g++];return new Promise(function(P,V){y[E]=function(X){if(T)if(T=!1,X)V(X);else{for(var re=new Array(arguments.length-1),q=0;q<re.length;)re[q++]=arguments[q];P.apply(null,re)}};try{n.apply(o||null,y)}catch(X){T&&(T=!1,V(X))}})}}),Oh=h(e=>{u();var t=e;t.length=function(E){var g=E.length;if(!g)return 0;for(var T=0;--g%4>1&&E.charAt(g)==="=";)++T;return Math.ceil(E.length*3)/4-T};var r=new Array(64),n=new Array(123);for(o=0;o<64;)n[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;var o;t.encode=function(E,g,T){for(var P=null,V=[],X=0,re=0,q;g<T;){var L=E[g++];switch(re){case 0:V[X++]=r[L>>2],q=(L&3)<<4,re=1;break;case 1:V[X++]=r[q|L>>4],q=(L&15)<<2,re=2;break;case 2:V[X++]=r[q|L>>6],V[X++]=r[L&63],re=0;break}X>8191&&((P||(P=[])).push(String.fromCharCode.apply(String,V)),X=0)}return re&&(V[X++]=r[q],V[X++]=61,re===1&&(V[X++]=61)),P?(X&&P.push(String.fromCharCode.apply(String,V.slice(0,X))),P.join("")):String.fromCharCode.apply(String,V.slice(0,X))};var y="invalid encoding";t.decode=function(E,g,T){for(var P=T,V=0,X,re=0;re<E.length;){var q=E.charCodeAt(re++);if(q===61&&V>1)break;if((q=n[q])===void 0)throw Error(y);switch(V){case 0:X=q,V=1;break;case 1:g[T++]=X<<2|(q&48)>>4,X=q,V=2;break;case 2:g[T++]=(X&15)<<4|(q&60)>>2,X=q,V=3;break;case 3:g[T++]=(X&3)<<6|q,V=0;break}}if(V===1)throw Error(y);return T-P},t.test=function(E){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(E)}}),Ih=h((e,t)=>{u(),t.exports=r;function r(){this._listeners={}}r.prototype.on=function(n,o,y){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:o,ctx:y||this}),this},r.prototype.off=function(n,o){if(n===void 0)this._listeners={};else if(o===void 0)this._listeners[n]=[];else for(var y=this._listeners[n],E=0;E<y.length;)y[E].fn===o?y.splice(E,1):++E;return this},r.prototype.emit=function(n){var o=this._listeners[n];if(o){for(var y=[],E=1;E<arguments.length;)y.push(arguments[E++]);for(E=0;E<o.length;)o[E].fn.apply(o[E++].ctx,y)}return this}}),Lh$1=h((e,t)=>{u(),t.exports=r(r);function r(g){return typeof Float32Array<"u"?function(){var T=new Float32Array([-0]),P=new Uint8Array(T.buffer),V=P[3]===128;function X(I,ee,ie){T[0]=I,ee[ie]=P[0],ee[ie+1]=P[1],ee[ie+2]=P[2],ee[ie+3]=P[3]}function re(I,ee,ie){T[0]=I,ee[ie]=P[3],ee[ie+1]=P[2],ee[ie+2]=P[1],ee[ie+3]=P[0]}g.writeFloatLE=V?X:re,g.writeFloatBE=V?re:X;function q(I,ee){return P[0]=I[ee],P[1]=I[ee+1],P[2]=I[ee+2],P[3]=I[ee+3],T[0]}function L(I,ee){return P[3]=I[ee],P[2]=I[ee+1],P[1]=I[ee+2],P[0]=I[ee+3],T[0]}g.readFloatLE=V?q:L,g.readFloatBE=V?L:q}():function(){function T(V,X,re,q){var L=X<0?1:0;if(L&&(X=-X),X===0)V(1/X>0?0:2147483648,re,q);else if(isNaN(X))V(2143289344,re,q);else if(X>34028234663852886e22)V((L<<31|2139095040)>>>0,re,q);else if(X<11754943508222875e-54)V((L<<31|Math.round(X/1401298464324817e-60))>>>0,re,q);else{var I=Math.floor(Math.log(X)/Math.LN2),ee=Math.round(X*Math.pow(2,-I)*8388608)&8388607;V((L<<31|I+127<<23|ee)>>>0,re,q)}}g.writeFloatLE=T.bind(null,n),g.writeFloatBE=T.bind(null,o);function P(V,X,re){var q=V(X,re),L=(q>>31)*2+1,I=q>>>23&255,ee=q&8388607;return I===255?ee?NaN:L*(1/0):I===0?L*1401298464324817e-60*ee:L*Math.pow(2,I-150)*(ee+8388608)}g.readFloatLE=P.bind(null,y),g.readFloatBE=P.bind(null,E)}(),typeof Float64Array<"u"?function(){var T=new Float64Array([-0]),P=new Uint8Array(T.buffer),V=P[7]===128;function X(I,ee,ie){T[0]=I,ee[ie]=P[0],ee[ie+1]=P[1],ee[ie+2]=P[2],ee[ie+3]=P[3],ee[ie+4]=P[4],ee[ie+5]=P[5],ee[ie+6]=P[6],ee[ie+7]=P[7]}function re(I,ee,ie){T[0]=I,ee[ie]=P[7],ee[ie+1]=P[6],ee[ie+2]=P[5],ee[ie+3]=P[4],ee[ie+4]=P[3],ee[ie+5]=P[2],ee[ie+6]=P[1],ee[ie+7]=P[0]}g.writeDoubleLE=V?X:re,g.writeDoubleBE=V?re:X;function q(I,ee){return P[0]=I[ee],P[1]=I[ee+1],P[2]=I[ee+2],P[3]=I[ee+3],P[4]=I[ee+4],P[5]=I[ee+5],P[6]=I[ee+6],P[7]=I[ee+7],T[0]}function L(I,ee){return P[7]=I[ee],P[6]=I[ee+1],P[5]=I[ee+2],P[4]=I[ee+3],P[3]=I[ee+4],P[2]=I[ee+5],P[1]=I[ee+6],P[0]=I[ee+7],T[0]}g.readDoubleLE=V?q:L,g.readDoubleBE=V?L:q}():function(){function T(V,X,re,q,L,I){var ee=q<0?1:0;if(ee&&(q=-q),q===0)V(0,L,I+X),V(1/q>0?0:2147483648,L,I+re);else if(isNaN(q))V(0,L,I+X),V(2146959360,L,I+re);else if(q>17976931348623157e292)V(0,L,I+X),V((ee<<31|2146435072)>>>0,L,I+re);else{var ie;if(q<22250738585072014e-324)ie=q/5e-324,V(ie>>>0,L,I+X),V((ee<<31|ie/4294967296)>>>0,L,I+re);else{var le=Math.floor(Math.log(q)/Math.LN2);le===1024&&(le=1023),ie=q*Math.pow(2,-le),V(ie*4503599627370496>>>0,L,I+X),V((ee<<31|le+1023<<20|ie*1048576&1048575)>>>0,L,I+re)}}}g.writeDoubleLE=T.bind(null,n,0,4),g.writeDoubleBE=T.bind(null,o,4,0);function P(V,X,re,q,L){var I=V(q,L+X),ee=V(q,L+re),ie=(ee>>31)*2+1,le=ee>>>20&2047,ye=4294967296*(ee&1048575)+I;return le===2047?ye?NaN:ie*(1/0):le===0?ie*5e-324*ye:ie*Math.pow(2,le-1075)*(ye+4503599627370496)}g.readDoubleLE=P.bind(null,y,0,4),g.readDoubleBE=P.bind(null,E,4,0)}(),g}function n(g,T,P){T[P]=g&255,T[P+1]=g>>>8&255,T[P+2]=g>>>16&255,T[P+3]=g>>>24}function o(g,T,P){T[P]=g>>>24,T[P+1]=g>>>16&255,T[P+2]=g>>>8&255,T[P+3]=g&255}function y(g,T){return(g[T]|g[T+1]<<8|g[T+2]<<16|g[T+3]<<24)>>>0}function E(g,T){return(g[T]<<24|g[T+1]<<16|g[T+2]<<8|g[T+3])>>>0}}),Mh=h((exports,module)=>{u(),module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}}),qh=h(e=>{u();var t=e;t.length=function(r){for(var n=0,o=0,y=0;y<r.length;++y)o=r.charCodeAt(y),o<128?n+=1:o<2048?n+=2:(o&64512)===55296&&(r.charCodeAt(y+1)&64512)===56320?(++y,n+=4):n+=3;return n},t.read=function(r,n,o){var y=o-n;if(y<1)return"";for(var E=null,g=[],T=0,P;n<o;)P=r[n++],P<128?g[T++]=P:P>191&&P<224?g[T++]=(P&31)<<6|r[n++]&63:P>239&&P<365?(P=((P&7)<<18|(r[n++]&63)<<12|(r[n++]&63)<<6|r[n++]&63)-65536,g[T++]=55296+(P>>10),g[T++]=56320+(P&1023)):g[T++]=(P&15)<<12|(r[n++]&63)<<6|r[n++]&63,T>8191&&((E||(E=[])).push(String.fromCharCode.apply(String,g)),T=0);return E?(T&&E.push(String.fromCharCode.apply(String,g.slice(0,T))),E.join("")):String.fromCharCode.apply(String,g.slice(0,T))},t.write=function(r,n,o){for(var y=o,E,g,T=0;T<r.length;++T)E=r.charCodeAt(T),E<128?n[o++]=E:E<2048?(n[o++]=E>>6|192,n[o++]=E&63|128):(E&64512)===55296&&((g=r.charCodeAt(T+1))&64512)===56320?(E=65536+((E&1023)<<10)+(g&1023),++T,n[o++]=E>>18|240,n[o++]=E>>12&63|128,n[o++]=E>>6&63|128,n[o++]=E&63|128):(n[o++]=E>>12|224,n[o++]=E>>6&63|128,n[o++]=E&63|128);return o-y}}),$h=h((e,t)=>{u(),t.exports=r;function r(n,o,y){var E=y||8192,g=E>>>1,T=null,P=E;return function(V){if(V<1||V>g)return n(V);P+V>E&&(T=n(E),P=0);var X=o.call(T,P,P+=V);return P&7&&(P=(P|7)+1),X}}}),zh=h((e,t)=>{u(),t.exports=n;var r=Vt();function n(g,T){this.lo=g>>>0,this.hi=T>>>0}var o=n.zero=new n(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var y=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(g){if(g===0)return o;var T=g<0;T&&(g=-g);var P=g>>>0,V=(g-P)/4294967296>>>0;return T&&(V=~V>>>0,P=~P>>>0,++P>4294967295&&(P=0,++V>4294967295&&(V=0))),new n(P,V)},n.from=function(g){if(typeof g=="number")return n.fromNumber(g);if(r.isString(g))if(r.Long)g=r.Long.fromString(g);else return n.fromNumber(parseInt(g,10));return g.low||g.high?new n(g.low>>>0,g.high>>>0):o},n.prototype.toNumber=function(g){if(!g&&this.hi>>>31){var T=~this.lo+1>>>0,P=~this.hi>>>0;return T||(P=P+1>>>0),-(T+P*4294967296)}return this.lo+this.hi*4294967296},n.prototype.toLong=function(g){return r.Long?new r.Long(this.lo|0,this.hi|0,Boolean(g)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(g)}};var E=String.prototype.charCodeAt;n.fromHash=function(g){return g===y?o:new n((E.call(g,0)|E.call(g,1)<<8|E.call(g,2)<<16|E.call(g,3)<<24)>>>0,(E.call(g,4)|E.call(g,5)<<8|E.call(g,6)<<16|E.call(g,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var g=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^g)>>>0,this.lo=(this.lo<<1^g)>>>0,this},n.prototype.zzDecode=function(){var g=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^g)>>>0,this.hi=(this.hi>>>1^g)>>>0,this},n.prototype.length=function(){var g=this.lo,T=(this.lo>>>28|this.hi<<4)>>>0,P=this.hi>>>24;return P===0?T===0?g<16384?g<128?1:2:g<2097152?3:4:T<16384?T<128?5:6:T<2097152?7:8:P<128?9:10}}),Vt=h(e=>{u();var t=e;t.asPromise=Dh(),t.base64=Oh(),t.EventEmitter=Ih(),t.float=Lh$1(),t.inquire=Mh(),t.utf8=qh(),t.pool=$h(),t.LongBits=zh(),t.isNode=Boolean(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node),t.global=t.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||e,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},t.isString=function(o){return typeof o=="string"||o instanceof String},t.isObject=function(o){return o&&typeof o=="object"},t.isset=t.isSet=function(o,y){var E=o[y];return E!=null&&o.hasOwnProperty(y)?typeof E!="object"||(Array.isArray(E)?E.length:Object.keys(E).length)>0:!1},t.Buffer=function(){try{var o=t.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(o){return typeof o=="number"?t.Buffer?t._Buffer_allocUnsafe(o):new t.Array(o):t.Buffer?t._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(o){return o?t.LongBits.from(o).toHash():t.LongBits.zeroHash},t.longFromHash=function(o,y){var E=t.LongBits.fromHash(o);return t.Long?t.Long.fromBits(E.lo,E.hi,y):E.toNumber(Boolean(y))};function r(o,y,E){for(var g=Object.keys(y),T=0;T<g.length;++T)(o[g[T]]===void 0||!E)&&(o[g[T]]=y[g[T]]);return o}t.merge=r,t.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)};function n(o){function y(E,g){if(!(this instanceof y))return new y(E,g);Object.defineProperty(this,"message",{get:function(){return E}}),Error.captureStackTrace?Error.captureStackTrace(this,y):Object.defineProperty(this,"stack",{value:new Error().stack||""}),g&&r(this,g)}return(y.prototype=Object.create(Error.prototype)).constructor=y,Object.defineProperty(y.prototype,"name",{get:function(){return o}}),y.prototype.toString=function(){return this.name+": "+this.message},y}t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(o){for(var y={},E=0;E<o.length;++E)y[o[E]]=1;return function(){for(var g=Object.keys(this),T=g.length-1;T>-1;--T)if(y[g[T]]===1&&this[g[T]]!==void 0&&this[g[T]]!==null)return g[T]}},t.oneOfSetter=function(o){return function(y){for(var E=0;E<o.length;++E)o[E]!==y&&delete this[o[E]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var o=t.Buffer;if(!o){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=o.from!==Uint8Array.from&&o.from||function(y,E){return new o(y,E)},t._Buffer_allocUnsafe=o.allocUnsafe||function(y){return new o(y)}}}),qu=h((e,t)=>{u(),t.exports=V;var r=Vt(),n,o=r.LongBits,y=r.base64,E=r.utf8;function g(le,ye,ot){this.fn=le,this.len=ye,this.next=void 0,this.val=ot}function T(){}function P(le){this.head=le.head,this.tail=le.tail,this.len=le.len,this.next=le.states}function V(){this.len=0,this.head=new g(T,0,0),this.tail=this.head,this.states=null}var X=function(){return r.Buffer?function(){return(V.create=function(){return new n})()}:function(){return new V}};V.create=X(),V.alloc=function(le){return new r.Array(le)},r.Array!==Array&&(V.alloc=r.pool(V.alloc,r.Array.prototype.subarray)),V.prototype._push=function(le,ye,ot){return this.tail=this.tail.next=new g(le,ye,ot),this.len+=ye,this};function re(le,ye,ot){ye[ot]=le&255}function q(le,ye,ot){for(;le>127;)ye[ot++]=le&127|128,le>>>=7;ye[ot]=le}function L(le,ye){this.len=le,this.next=void 0,this.val=ye}L.prototype=Object.create(g.prototype),L.prototype.fn=q,V.prototype.uint32=function(le){return this.len+=(this.tail=this.tail.next=new L((le=le>>>0)<128?1:le<16384?2:le<2097152?3:le<268435456?4:5,le)).len,this},V.prototype.int32=function(le){return le<0?this._push(I,10,o.fromNumber(le)):this.uint32(le)},V.prototype.sint32=function(le){return this.uint32((le<<1^le>>31)>>>0)};function I(le,ye,ot){for(;le.hi;)ye[ot++]=le.lo&127|128,le.lo=(le.lo>>>7|le.hi<<25)>>>0,le.hi>>>=7;for(;le.lo>127;)ye[ot++]=le.lo&127|128,le.lo=le.lo>>>7;ye[ot++]=le.lo}V.prototype.uint64=function(le){var ye=o.from(le);return this._push(I,ye.length(),ye)},V.prototype.int64=V.prototype.uint64,V.prototype.sint64=function(le){var ye=o.from(le).zzEncode();return this._push(I,ye.length(),ye)},V.prototype.bool=function(le){return this._push(re,1,le?1:0)};function ee(le,ye,ot){ye[ot]=le&255,ye[ot+1]=le>>>8&255,ye[ot+2]=le>>>16&255,ye[ot+3]=le>>>24}V.prototype.fixed32=function(le){return this._push(ee,4,le>>>0)},V.prototype.sfixed32=V.prototype.fixed32,V.prototype.fixed64=function(le){var ye=o.from(le);return this._push(ee,4,ye.lo)._push(ee,4,ye.hi)},V.prototype.sfixed64=V.prototype.fixed64,V.prototype.float=function(le){return this._push(r.float.writeFloatLE,4,le)},V.prototype.double=function(le){return this._push(r.float.writeDoubleLE,8,le)};var ie=r.Array.prototype.set?function(le,ye,ot){ye.set(le,ot)}:function(le,ye,ot){for(var qe=0;qe<le.length;++qe)ye[ot+qe]=le[qe]};V.prototype.bytes=function(le){var ye=le.length>>>0;if(!ye)return this._push(re,1,0);if(r.isString(le)){var ot=V.alloc(ye=y.length(le));y.decode(le,ot,0),le=ot}return this.uint32(ye)._push(ie,ye,le)},V.prototype.string=function(le){var ye=E.length(le);return ye?this.uint32(ye)._push(E.write,ye,le):this._push(re,1,0)},V.prototype.fork=function(){return this.states=new P(this),this.head=this.tail=new g(T,0,0),this.len=0,this},V.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new g(T,0,0),this.len=0),this},V.prototype.ldelim=function(){var le=this.head,ye=this.tail,ot=this.len;return this.reset().uint32(ot),ot&&(this.tail.next=le.next,this.tail=ye,this.len+=ot),this},V.prototype.finish=function(){for(var le=this.head.next,ye=this.constructor.alloc(this.len),ot=0;le;)le.fn(le.val,ye,ot),ot+=le.len,le=le.next;return ye},V._configure=function(le){n=le,V.create=X(),n._configure()}}),Xh=h((e,t)=>{u(),t.exports=o;var r=qu();(o.prototype=Object.create(r.prototype)).constructor=o;var n=Vt();function o(){r.call(this)}o._configure=function(){o.alloc=n._Buffer_allocUnsafe,o.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&n.Buffer.prototype.set.name==="set"?function(E,g,T){g.set(E,T)}:function(E,g,T){if(E.copy)E.copy(g,T,0,E.length);else for(var P=0;P<E.length;)g[T++]=E[P++]}},o.prototype.bytes=function(E){n.isString(E)&&(E=n._Buffer_from(E,"base64"));var g=E.length>>>0;return this.uint32(g),g&&this._push(o.writeBytesBuffer,g,E),this};function y(E,g,T){E.length<40?n.utf8.write(E,g,T):g.utf8Write?g.utf8Write(E,T):g.write(E,T)}o.prototype.string=function(E){var g=n.Buffer.byteLength(E);return this.uint32(g),g&&this._push(y,g,E),this},o._configure()}),Ku$1=h((e,t)=>{u(),t.exports=g;var r=Vt(),n,o=r.LongBits,y=r.utf8;function E(q,L){return RangeError("index out of range: "+q.pos+" + "+(L||1)+" > "+q.len)}function g(q){this.buf=q,this.pos=0,this.len=q.length}var T=typeof Uint8Array<"u"?function(q){if(q instanceof Uint8Array||Array.isArray(q))return new g(q);throw Error("illegal buffer")}:function(q){if(Array.isArray(q))return new g(q);throw Error("illegal buffer")},P=function(){return r.Buffer?function(q){return(g.create=function(L){return r.Buffer.isBuffer(L)?new n(L):T(L)})(q)}:T};g.create=P(),g.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,g.prototype.uint32=function(){var q=4294967295;return function(){if(q=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(q=(q|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(q=(q|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(q=(q|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(q=(q|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return q;if((this.pos+=5)>this.len)throw this.pos=this.len,E(this,10);return q}}(),g.prototype.int32=function(){return this.uint32()|0},g.prototype.sint32=function(){var q=this.uint32();return q>>>1^-(q&1)|0};function V(){var q=new o(0,0),L=0;if(this.len-this.pos>4){for(;L<4;++L)if(q.lo=(q.lo|(this.buf[this.pos]&127)<<L*7)>>>0,this.buf[this.pos++]<128)return q;if(q.lo=(q.lo|(this.buf[this.pos]&127)<<28)>>>0,q.hi=(q.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return q;L=0}else{for(;L<3;++L){if(this.pos>=this.len)throw E(this);if(q.lo=(q.lo|(this.buf[this.pos]&127)<<L*7)>>>0,this.buf[this.pos++]<128)return q}return q.lo=(q.lo|(this.buf[this.pos++]&127)<<L*7)>>>0,q}if(this.len-this.pos>4){for(;L<5;++L)if(q.hi=(q.hi|(this.buf[this.pos]&127)<<L*7+3)>>>0,this.buf[this.pos++]<128)return q}else for(;L<5;++L){if(this.pos>=this.len)throw E(this);if(q.hi=(q.hi|(this.buf[this.pos]&127)<<L*7+3)>>>0,this.buf[this.pos++]<128)return q}throw Error("invalid varint encoding")}g.prototype.bool=function(){return this.uint32()!==0};function X(q,L){return(q[L-4]|q[L-3]<<8|q[L-2]<<16|q[L-1]<<24)>>>0}g.prototype.fixed32=function(){if(this.pos+4>this.len)throw E(this,4);return X(this.buf,this.pos+=4)},g.prototype.sfixed32=function(){if(this.pos+4>this.len)throw E(this,4);return X(this.buf,this.pos+=4)|0};function re(){if(this.pos+8>this.len)throw E(this,8);return new o(X(this.buf,this.pos+=4),X(this.buf,this.pos+=4))}g.prototype.float=function(){if(this.pos+4>this.len)throw E(this,4);var q=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,q},g.prototype.double=function(){if(this.pos+8>this.len)throw E(this,4);var q=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,q},g.prototype.bytes=function(){var q=this.uint32(),L=this.pos,I=this.pos+q;if(I>this.len)throw E(this,q);return this.pos+=q,Array.isArray(this.buf)?this.buf.slice(L,I):L===I?new this.buf.constructor(0):this._slice.call(this.buf,L,I)},g.prototype.string=function(){var q=this.bytes();return y.read(q,0,q.length)},g.prototype.skip=function(q){if(typeof q=="number"){if(this.pos+q>this.len)throw E(this,q);this.pos+=q}else do if(this.pos>=this.len)throw E(this);while(this.buf[this.pos++]&128);return this},g.prototype.skipType=function(q){switch(q){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(q=this.uint32()&7)!==4;)this.skipType(q);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+q+" at offset "+this.pos)}return this},g._configure=function(q){n=q,g.create=P(),n._configure();var L=r.Long?"toLong":"toNumber";r.merge(g.prototype,{int64:function(){return V.call(this)[L](!1)},uint64:function(){return V.call(this)[L](!0)},sint64:function(){return V.call(this).zzDecode()[L](!1)},fixed64:function(){return re.call(this)[L](!0)},sfixed64:function(){return re.call(this)[L](!1)}})}}),uy=h((e,t)=>{u(),t.exports=o;var r=Ku$1();(o.prototype=Object.create(r.prototype)).constructor=o;var n=Vt();function o(y){r.call(this,y)}o._configure=function(){n.Buffer&&(o.prototype._slice=n.Buffer.prototype.slice)},o.prototype.string=function(){var y=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+y,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+y,this.len))},o._configure()}),fy=h((e,t)=>{u(),t.exports=n;var r=Vt();(n.prototype=Object.create(r.EventEmitter.prototype)).constructor=n;function n(o,y,E){if(typeof o!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=o,this.requestDelimited=Boolean(y),this.responseDelimited=Boolean(E)}n.prototype.rpcCall=function o(y,E,g,T,P){if(!T)throw TypeError("request must be specified");var V=this;if(!P)return r.asPromise(o,V,y,E,g,T);if(!V.rpcImpl){setTimeout(function(){P(Error("already ended"))},0);return}try{return V.rpcImpl(y,E[V.requestDelimited?"encodeDelimited":"encode"](T).finish(),function(X,re){if(X)return V.emit("error",X,y),P(X);if(re===null){V.end(!0);return}if(!(re instanceof g))try{re=g[V.responseDelimited?"decodeDelimited":"decode"](re)}catch(q){return V.emit("error",q,y),P(q)}return V.emit("data",re,y),P(null,re)})}catch(X){V.emit("error",X,y),setTimeout(function(){P(X)},0);return}},n.prototype.end=function(o){return this.rpcImpl&&(o||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}}),dy=h(e=>{u();var t=e;t.Service=fy()}),hy=h((e,t)=>{u(),t.exports={}}),my=h(e=>{u();var t=e;t.build="minimal",t.Writer=qu(),t.BufferWriter=Xh(),t.Reader=Ku$1(),t.BufferReader=uy(),t.util=Vt(),t.rpc=dy(),t.roots=hy(),t.configure=r;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}r()}),Ht=h((e,t)=>{u(),t.exports=my()}),_y=h((e,t)=>{u(),Object.defineProperty(e,"__esModule",{value:!0}),r.BASE=2166136261;function r(n,o=r.BASE){let y=n.length;for(let E=0;E<y;E++)o^=n.charCodeAt(E),o+=(o<<1)+(o<<4)+(o<<7)+(o<<8)+(o<<24);return o>>>0}e.default=r,t.exports=r}),Ay=h((e,t)=>{u(),t.exports=E;var r=128,n=127,o=~n,y=Math.pow(2,31);function E(g,T,P){if(Number.MAX_SAFE_INTEGER&&g>Number.MAX_SAFE_INTEGER)throw E.bytes=0,new RangeError("Could not encode varint");T=T||[],P=P||0;for(var V=P;g>=y;)T[P++]=g&255|r,g/=128;for(;g&o;)T[P++]=g&255|r,g>>>=7;return T[P]=g|0,E.bytes=P-V+1,T}}),Oy=h((e,t)=>{u(),t.exports=o;var r=128,n=127;function o(y,T){var g=0,T=T||0,P=0,V=T,X,re=y.length;do{if(V>=re||P>49)throw o.bytes=0,new RangeError("Could not decode varint");X=y[V++],g+=P<28?(X&n)<<P:(X&n)*Math.pow(2,P),P+=7}while(X>=r);return o.bytes=V-T,g}}),Iy=h((e,t)=>{u();var r=Math.pow(2,7),n=Math.pow(2,14),o=Math.pow(2,21),y=Math.pow(2,28),E=Math.pow(2,35),g=Math.pow(2,42),T=Math.pow(2,49),P=Math.pow(2,56),V=Math.pow(2,63);t.exports=function(X){return X<r?1:X<n?2:X<o?3:X<y?4:X<E?5:X<g?6:X<T?7:X<P?8:X<V?9:10}}),xi=h((e,t)=>{u(),t.exports={encode:Ay(),decode:Oy(),encodingLength:Iy()}}),Yu={};G$1(Yu,{concat:()=>Ai});function Ai(e,t){t||(t=e.reduce((o,y)=>o+y.length,0));let r=Co(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}var Ho=B(()=>{u(),wu$1()}),Qy=h((e,t)=>{u();var r="[a-fA-F\\d:]",n=X=>X&&X.includeBoundaries?`(?:(?<=\\s|^)(?=${r})|(?<=${r})(?=\\s|$))`:"",o="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",y="[a-fA-F\\d]{1,4}",E=`
(?:
(?:${y}:){7}(?:${y}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${y}:){6}(?:${o}|:${y}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${y}:){5}(?::${o}|(?::${y}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${y}:){4}(?:(?::${y}){0,1}:${o}|(?::${y}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${y}:){3}(?:(?::${y}){0,2}:${o}|(?::${y}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${y}:){2}(?:(?::${y}){0,3}:${o}|(?::${y}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${y}:){1}(?:(?::${y}){0,4}:${o}|(?::${y}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${y}){0,5}:${o}|(?::${y}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),g=new RegExp(`(?:^${o}$)|(?:^${E}$)`),T=new RegExp(`^${o}$`),P=new RegExp(`^${E}$`),V=X=>X&&X.exact?g:new RegExp(`(?:${n(X)}${o}${n(X)})|(?:${n(X)}${E}${n(X)})`,"g");V.v4=X=>X&&X.exact?T:new RegExp(`${n(X)}${o}${n(X)}`,"g"),V.v6=X=>X&&X.exact?P:new RegExp(`${n(X)}${E}${n(X)}`,"g"),t.exports=V}),Xy=h((e,t)=>{u();var r=Qy(),n=o=>r({exact:!0}).test(o);n.v4=o=>r.v4({exact:!0}).test(o),n.v6=o=>r.v6({exact:!0}).test(o),n.version=o=>n(o)?n.v4(o)?4:6:void 0,t.exports=n}),ig=h((e,t)=>{u();var r=Xy(),{toString:n}=(ke$1(),ue(fi$1)),o=r,y=r.v4,E=r.v6,g=function(P,V,X){X=~~X;let re;if(y(P))re=V||new Uint8Array(X+4),P.split(/\./g).map(function(q){re[X++]=parseInt(q,10)&255});else if(E(P)){let q=P.split(":",8),L;for(L=0;L<q.length;L++){let I=y(q[L]),ee;I&&(ee=g(q[L]),q[L]=n(ee.slice(0,2),"base16")),ee&&++L<8&&q.splice(L,0,n(ee.slice(2,4),"base16"))}if(q[0]==="")for(;q.length<8;)q.unshift("0");else if(q[q.length-1]==="")for(;q.length<8;)q.push("0");else if(q.length<8){for(L=0;L<q.length&&q[L]!=="";L++);let I=[L,"1"];for(L=9-q.length;L>0;L--)I.push("0");q.splice.apply(q,I)}for(re=V||new Uint8Array(X+16),L=0;L<q.length;L++){let I=parseInt(q[L],16);re[X++]=I>>8&255,re[X++]=I&255}}if(!re)throw Error("Invalid ip address: "+P);return re},T=function(P,V,X){V=~~V,X=X||P.length-V;let re=[],q,L=new DataView(P.buffer);if(X===4){for(let I=0;I<X;I++)re.push(P[V+I]);q=re.join(".")}else if(X===16){for(let I=0;I<X;I+=2)re.push(L.getUint16(V+I).toString(16));q=re.join(":"),q=q.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),q=q.replace(/:{3,4}/,"::")}return q};t.exports={isIP:o,isV4:y,isV6:E,toBytes:g,toString:T}}),rs=h((e,t)=>{u();function r(y){if(typeof y=="number"){if(r.codes[y])return r.codes[y];throw new Error("no protocol with code: "+y)}else if(typeof y=="string"){if(r.names[y])return r.names[y];throw new Error("no protocol with name: "+y)}throw new Error("invalid protocol id type: "+y)}var n=-1;r.lengthPrefixedVarSize=n,r.V=n,r.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[53,n,"dns","resolvable"],[54,n,"dns4","resolvable"],[55,n,"dns6","resolvable"],[56,n,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,"path"],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]],r.names={},r.codes={},r.table.map(y=>{let E=o.apply(null,y);return r.codes[E.code]=E,r.names[E.name]=E,null}),r.object=o;function o(y,E,g,T,P){return{code:y,size:E,name:g,resolvable:Boolean(T),path:Boolean(P)}}t.exports=r}),hg=h((e,t)=>{u();var r=ig(),n=rs(),{CID:o}=(ge(),ue(Xa)),{base32:y}=(ht$1(),ue(vo)),{base58btc:E}=(an(),ue(si$1)),g=(pt$1(),ue(Ge)),T=xi(),{toString:P}=(ke$1(),ue(fi$1)),{fromString:V}=(yt(),ue(rp)),{concat:X}=(Ho(),ue(Yu));t.exports=re;function re(Ie,jt){return jt instanceof Uint8Array?re.toString(Ie,jt):re.toBytes(Ie,jt)}re.toString=function(Ie,jt){switch(n(Ie).code){case 4:case 41:return L(jt);case 6:case 273:case 33:case 132:return ee(jt).toString();case 53:case 54:case 55:case 56:case 400:case 777:return le(jt);case 421:return ot(jt);case 444:return it(jt);case 445:return it(jt);default:return P(jt,"base16")}},re.toBytes=function(Ie,jt){switch(n(Ie).code){case 4:return q(jt);case 41:return q(jt);case 6:case 273:case 33:case 132:return I(parseInt(jt,10));case 53:case 54:case 55:case 56:case 400:case 777:return ie(jt);case 421:return ye(jt);case 444:return qe(jt);case 445:return Ee(jt);default:return V(jt,"base16")}};function q(Ie){if(!r.isIP(Ie))throw new Error("invalid ip address");return r.toBytes(Ie)}function L(Ie){let jt=r.toString(Ie);if(!jt||!r.isIP(jt))throw new Error("invalid ip address");return jt}function I(Ie){let jt=new ArrayBuffer(2);return new DataView(jt).setUint16(0,Ie),new Uint8Array(jt)}function ee(Ie){return new DataView(Ie.buffer).getUint16(Ie.byteOffset)}function ie(Ie){let jt=V(Ie),Qt=Uint8Array.from(T.encode(jt.length));return X([Qt,jt],Qt.length+jt.length)}function le(Ie){let jt=T.decode(Ie);if(Ie=Ie.slice(T.decode.bytes),Ie.length!==jt)throw new Error("inconsistent lengths");return P(Ie)}function ye(Ie){let jt;Ie[0]==="Q"||Ie[0]==="1"?jt=g.decode(E.decode(`z${Ie}`)).bytes:jt=o.parse(Ie).multihash.bytes;let Qt=Uint8Array.from(T.encode(jt.length));return X([Qt,jt],Qt.length+jt.length)}function ot(Ie){let jt=T.decode(Ie),Qt=Ie.slice(T.decode.bytes);if(Qt.length!==jt)throw new Error("inconsistent lengths");return P(Qt,"base58btc")}function qe(Ie){let jt=Ie.split(":");if(jt.length!==2)throw new Error("failed to parse onion addr: "+jt+" does not contain a port number");if(jt[0].length!==16)throw new Error("failed to parse onion addr: "+jt[0]+" not a Tor onion address.");let Qt=y.decode("b"+jt[0]),sr=parseInt(jt[1],10);if(sr<1||sr>65536)throw new Error("Port number is not in range(1, 65536)");let Pr=I(sr);return X([Qt,Pr],Qt.length+Pr.length)}function Ee(Ie){let jt=Ie.split(":");if(jt.length!==2)throw new Error("failed to parse onion addr: "+jt+" does not contain a port number");if(jt[0].length!==56)throw new Error("failed to parse onion addr: "+jt[0]+" not a Tor onion3 address.");let Qt=y.decode("b"+jt[0]),sr=parseInt(jt[1],10);if(sr<1||sr>65536)throw new Error("Port number is not in range(1, 65536)");let Pr=I(sr);return X([Qt,Pr],Qt.length+Pr.length)}function it(Ie){let jt=Ie.slice(0,Ie.length-2),Qt=Ie.slice(Ie.length-2),sr=P(jt,"base32"),Pr=ee(Qt);return sr+":"+Pr}}),Sg=h((e,t)=>{u();var r=hg(),n=rs(),o=xi(),{concat:y}=(Ho(),ue(Yu)),{toString:E}=(ke$1(),ue(fi$1));t.exports={stringToStringTuples:g,stringTuplesToString:T,tuplesToStringTuples:V,stringTuplesToTuples:P,bytesToTuples:q,tuplesToBytes:X,bytesToString:L,stringToBytes:I,fromString:ee,fromBytes:ie,validateBytes:le,isValidBytes:ye,cleanPath:ot,ParseError:qe,protoFromTuple:Ee,sizeForAddr:re};function g(it){let Ie=[],jt=it.split("/").slice(1);if(jt.length===1&&jt[0]==="")return[];for(let Qt=0;Qt<jt.length;Qt++){let sr=jt[Qt],Pr=n(sr);if(Pr.size===0){Ie.push([sr]);continue}if(Qt++,Qt>=jt.length)throw qe("invalid address: "+it);if(Pr.path){Ie.push([sr,ot(jt.slice(Qt).join("/"))]);break}Ie.push([sr,jt[Qt]])}return Ie}function T(it){let Ie=[];return it.map(jt=>{let Qt=Ee(jt);return Ie.push(Qt.name),jt.length>1&&Ie.push(jt[1]),null}),ot(Ie.join("/"))}function P(it){return it.map(Ie=>{Array.isArray(Ie)||(Ie=[Ie]);let jt=Ee(Ie);return Ie.length>1?[jt.code,r.toBytes(jt.code,Ie[1])]:[jt.code]})}function V(it){return it.map(Ie=>{let jt=Ee(Ie);return Ie[1]?[jt.code,r.toString(jt.code,Ie[1])]:[jt.code]})}function X(it){return ie(y(it.map(Ie=>{let jt=Ee(Ie),Qt=Uint8Array.from(o.encode(jt.code));return Ie.length>1&&(Qt=y([Qt,Ie[1]])),Qt})))}function re(it,Ie){return it.size>0?it.size/8:it.size===0?0:o.decode(Ie)+o.decode.bytes}function q(it){let Ie=[],jt=0;for(;jt<it.length;){let Qt=o.decode(it,jt),sr=o.decode.bytes,Pr=n(Qt),zr=re(Pr,it.slice(jt+sr));if(zr===0){Ie.push([Qt]),jt+=sr;continue}let Hr=it.slice(jt+sr,jt+sr+zr);if(jt+=zr+sr,jt>it.length)throw qe("Invalid address Uint8Array: "+E(it,"base16"));Ie.push([Qt,Hr])}return Ie}function L(it){let Ie=q(it),jt=V(Ie);return T(jt)}function I(it){it=ot(it);let Ie=g(it),jt=P(Ie);return X(jt)}function ee(it){return I(it)}function ie(it){let Ie=le(it);if(Ie)throw Ie;return Uint8Array.from(it)}function le(it){try{q(it)}catch(Ie){return Ie}}function ye(it){return le(it)===void 0}function ot(it){return"/"+it.trim().split("/").filter(Ie=>Ie).join("/")}function qe(it){return new Error("Error parsing address: "+it)}function Ee(it){return n(it[0])}}),Cg={};G$1(Cg,{equals:()=>pD});function pD(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var Og=B(()=>{u()}),Bg=h((e,t)=>{u();var r=Sg(),n=rs(),o=xi(),{CID:y}=(ge(),ue(Xa)),{base58btc:E}=(an(),ue(si$1)),g=dt$1(),T=Symbol.for("nodejs.util.inspect.custom"),{toString:P}=(ke$1(),ue(fi$1)),{equals:V}=(Og(),ue(Cg)),X=new Map,re=Symbol.for("@multiformats/js-multiaddr/multiaddr"),q=class{constructor(I){if(I==null&&(I=""),Object.defineProperty(this,re,{value:!0}),I instanceof Uint8Array)this.bytes=r.fromBytes(I);else if(typeof I=="string"){if(I.length>0&&I.charAt(0)!=="/")throw new Error(`multiaddr "${I}" must start with a "/"`);this.bytes=r.fromString(I)}else if(q.isMultiaddr(I))this.bytes=r.fromBytes(I.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return r.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let I={},ee=this.toString().split("/");return I.family=ee[1]==="ip4"?4:6,I.host=ee[2],I.transport=ee[3],I.port=parseInt(ee[4]),I}protos(){return this.protoCodes().map(I=>Object.assign({},n(I)))}protoCodes(){let I=[],ee=this.bytes,ie=0;for(;ie<ee.length;){let le=o.decode(ee,ie),ye=o.decode.bytes,ot=n(le);ie+=r.sizeForAddr(ot,ee.slice(ie+ye))+ye,I.push(le)}return I}protoNames(){return this.protos().map(I=>I.name)}tuples(){return r.bytesToTuples(this.bytes)}stringTuples(){let I=r.bytesToTuples(this.bytes);return r.tuplesToStringTuples(I)}encapsulate(I){return I=new q(I),new q(this.toString()+I.toString())}decapsulate(I){let ee=I.toString(),ie=this.toString(),le=ie.lastIndexOf(ee);if(le<0)throw new Error("Address "+this+" does not contain subaddress: "+I);return new q(ie.slice(0,le))}decapsulateCode(I){let ee=this.tuples();for(let ie=ee.length-1;ie>=0;ie--)if(ee[ie][0]===I)return new q(r.tuplesToBytes(ee.slice(0,ie)));return this}getPeerId(){try{let I=this.stringTuples().filter(ee=>ee[0]===n.names.ipfs.code).pop();if(I&&I[1]){let ee=I[1];return ee[0]==="Q"||ee[0]==="1"?P(E.decode(`z${ee}`),"base58btc"):P(y.parse(ee).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let I=null;try{I=this.stringTuples().filter(ee=>!!n(ee[0]).path)[0][1],I||(I=null)}catch{I=null}return I}equals(I){return V(this.bytes,I.bytes)}async resolve(){let I=this.protos().find(ie=>ie.resolvable);if(!I)return[this];let ee=X.get(I.name);if(!ee)throw g(new Error(`no available resolver for ${I.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await ee(this)).map(ie=>new q(ie))}nodeAddress(){let I=this.protoCodes(),ee=this.protoNames(),ie=this.toString().split("/").slice(1);if(ie.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(I[0]!==4&&I[0]!==41&&I[0]!==54&&I[0]!==55)throw new Error(`no protocol with name: "'${ee[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(ie[2]!=="tcp"&&ie[2]!=="udp")throw new Error(`no protocol with name: "'${ee[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:I[0]===41||I[0]===55?6:4,address:ie[1],port:parseInt(ie[3])}}isThinWaistAddress(I){let ee=(I||this).protos();return!(ee.length!==2||ee[0].code!==4&&ee[0].code!==41||ee[1].code!==6&&ee[1].code!==273)}static fromNodeAddress(I,ee){if(!I)throw new Error("requires node address object");if(!ee)throw new Error("requires transport protocol");let ie;switch(I.family){case 4:ie="ip4";break;case 6:ie="ip6";break;default:throw Error(`Invalid addr family. Got '${I.family}' instead of 4 or 6`)}return new q("/"+[ie,I.address,ee,I.port].join("/"))}static isName(I){return q.isMultiaddr(I)?I.protos().some(ee=>ee.resolvable):!1}static isMultiaddr(I){return I instanceof q||Boolean(I&&I[re])}[T](){return"<Multiaddr "+P(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+P(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}};q.protocols=n,q.resolvers=X;function L(I){return new q(I)}t.exports={Multiaddr:q,multiaddr:L,protocols:n,resolvers:X}}),$g=h((e,t)=>{u(),t.exports=E,t.exports.format=g,t.exports.parse=T;var r=/\B(?=(\d{3})+(?!\d))/g,n=/(?:\.0*|(\.[^0]+)0+)$/,o={b:1,kb:1<<10,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},y=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function E(P,V){return typeof P=="string"?T(P):typeof P=="number"?g(P,V):null}function g(P,V){if(!Number.isFinite(P))return null;var X=Math.abs(P),re=V&&V.thousandsSeparator||"",q=V&&V.unitSeparator||"",L=V&&V.decimalPlaces!==void 0?V.decimalPlaces:2,I=Boolean(V&&V.fixedDecimals),ee=V&&V.unit||"";(!ee||!o[ee.toLowerCase()])&&(X>=o.pb?ee="PB":X>=o.tb?ee="TB":X>=o.gb?ee="GB":X>=o.mb?ee="MB":X>=o.kb?ee="KB":ee="B");var ie=P/o[ee.toLowerCase()],le=ie.toFixed(L);return I||(le=le.replace(n,"$1")),re&&(le=le.split(".").map(function(ye,ot){return ot===0?ye.replace(r,re):ye}).join(".")),le+q+ee}function T(P){if(typeof P=="number"&&!isNaN(P))return P;if(typeof P!="string")return null;var V=y.exec(P),X,re="b";return V?(X=parseFloat(V[1]),re=V[4].toLowerCase()):(X=parseInt(P,10),re="b"),isNaN(X)?null:Math.floor(o[re]*X)}}),xc=h((e,t)=>{u(),t.exports=r=>{if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let n=Object.getPrototypeOf(r);return n===null||n===Object.prototype}}),Jg=h((e,t)=>{u();var r=xc(),{hasOwnProperty:n}=Object.prototype,{propertyIsEnumerable:o}=Object,y=(I,ee,ie)=>Object.defineProperty(I,ee,{value:ie,writable:!0,enumerable:!0,configurable:!0}),E=e,g={concatArrays:!1,ignoreUndefined:!1},T=I=>{let ee=[];for(let ie in I)n.call(I,ie)&&ee.push(ie);if(Object.getOwnPropertySymbols){let ie=Object.getOwnPropertySymbols(I);for(let le of ie)o.call(I,le)&&ee.push(le)}return ee};function P(I){return Array.isArray(I)?V(I):r(I)?X(I):I}function V(I){let ee=I.slice(0,0);return T(I).forEach(ie=>{y(ee,ie,P(I[ie]))}),ee}function X(I){let ee=Object.getPrototypeOf(I)===null?Object.create(null):{};return T(I).forEach(ie=>{y(ee,ie,P(I[ie]))}),ee}var re=(I,ee,ie,le)=>(ie.forEach(ye=>{typeof ee[ye]>"u"&&le.ignoreUndefined||(ye in I&&I[ye]!==Object.getPrototypeOf(I)?y(I,ye,L(I[ye],ee[ye],le)):y(I,ye,P(ee[ye])))}),I),q=(I,ee,ie)=>{let le=I.slice(0,0),ye=0;return[I,ee].forEach(ot=>{let qe=[];for(let Ee=0;Ee<ot.length;Ee++)!n.call(ot,Ee)||(qe.push(String(Ee)),ot===I?y(le,ye++,ot[Ee]):y(le,ye++,P(ot[Ee])));le=re(le,ot,T(ot).filter(Ee=>!qe.includes(Ee)),ie)}),le};function L(I,ee,ie){return ie.concatArrays&&Array.isArray(I)&&Array.isArray(ee)?q(I,ee,ie):!r(ee)||!r(I)?P(ee):re(I,ee,T(ee),ie)}t.exports=function(...I){let ee=L(P(g),this!==E&&this||{},g),ie={_:{}};for(let le of I)if(le!==void 0){if(!r(le))throw new TypeError("`"+le+"` is not an Option Object");ie=L(ie,{_:le},ee)}return ie._}}),Cc=h((e,t)=>{u();var r=Object.prototype.hasOwnProperty,n="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(n=!1));function y(P,V,X){this.fn=P,this.context=V,this.once=X||!1}function E(P,V,X,re,q){if(typeof X!="function")throw new TypeError("The listener must be a function");var L=new y(X,re||P,q),I=n?n+V:V;return P._events[I]?P._events[I].fn?P._events[I]=[P._events[I],L]:P._events[I].push(L):(P._events[I]=L,P._eventsCount++),P}function g(P,V){--P._eventsCount===0?P._events=new o:delete P._events[V]}function T(){this._events=new o,this._eventsCount=0}T.prototype.eventNames=function(){var P=[],V,X;if(this._eventsCount===0)return P;for(X in V=this._events)r.call(V,X)&&P.push(n?X.slice(1):X);return Object.getOwnPropertySymbols?P.concat(Object.getOwnPropertySymbols(V)):P},T.prototype.listeners=function(P){var V=n?n+P:P,X=this._events[V];if(!X)return[];if(X.fn)return[X.fn];for(var re=0,q=X.length,L=new Array(q);re<q;re++)L[re]=X[re].fn;return L},T.prototype.listenerCount=function(P){var V=n?n+P:P,X=this._events[V];return X?X.fn?1:X.length:0},T.prototype.emit=function(P,V,X,re,q,L){var I=n?n+P:P;if(!this._events[I])return!1;var ee=this._events[I],ie=arguments.length,le,ye;if(ee.fn){switch(ee.once&&this.removeListener(P,ee.fn,void 0,!0),ie){case 1:return ee.fn.call(ee.context),!0;case 2:return ee.fn.call(ee.context,V),!0;case 3:return ee.fn.call(ee.context,V,X),!0;case 4:return ee.fn.call(ee.context,V,X,re),!0;case 5:return ee.fn.call(ee.context,V,X,re,q),!0;case 6:return ee.fn.call(ee.context,V,X,re,q,L),!0}for(ye=1,le=new Array(ie-1);ye<ie;ye++)le[ye-1]=arguments[ye];ee.fn.apply(ee.context,le)}else{var ot=ee.length,qe;for(ye=0;ye<ot;ye++)switch(ee[ye].once&&this.removeListener(P,ee[ye].fn,void 0,!0),ie){case 1:ee[ye].fn.call(ee[ye].context);break;case 2:ee[ye].fn.call(ee[ye].context,V);break;case 3:ee[ye].fn.call(ee[ye].context,V,X);break;case 4:ee[ye].fn.call(ee[ye].context,V,X,re);break;default:if(!le)for(qe=1,le=new Array(ie-1);qe<ie;qe++)le[qe-1]=arguments[qe];ee[ye].fn.apply(ee[ye].context,le)}}return!0},T.prototype.on=function(P,V,X){return E(this,P,V,X,!1)},T.prototype.once=function(P,V,X){return E(this,P,V,X,!0)},T.prototype.removeListener=function(P,V,X,re){var q=n?n+P:P;if(!this._events[q])return this;if(!V)return g(this,q),this;var L=this._events[q];if(L.fn)L.fn===V&&(!re||L.once)&&(!X||L.context===X)&&g(this,q);else{for(var I=0,ee=[],ie=L.length;I<ie;I++)(L[I].fn!==V||re&&!L[I].once||X&&L[I].context!==X)&&ee.push(L[I]);ee.length?this._events[q]=ee.length===1?ee[0]:ee:g(this,q)}return this},T.prototype.removeAllListeners=function(P){var V;return P?(V=n?n+P:P,this._events[V]&&g(this,V)):(this._events=new o,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=n,T.EventEmitter=T,typeof t<"u"&&(t.exports=T)}),om=h((e,t)=>{u(),t.exports=(r,n)=>(n=n||(()=>{}),r.then(o=>new Promise(y=>{y(n())}).then(()=>o),o=>new Promise(y=>{y(n())}).then(()=>{throw o})))}),Oc=h((e,t)=>{u();var r=om(),n=class extends Error{constructor(y){super(y),this.name="TimeoutError"}},o=(y,E,g)=>new Promise((T,P)=>{if(typeof E!="number"||E<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(E===1/0){T(y);return}let V=setTimeout(()=>{if(typeof g=="function"){try{T(g())}catch(q){P(q)}return}let X=typeof g=="string"?g:`Promise timed out after ${E} milliseconds`,re=g instanceof Error?g:new n(X);typeof y.cancel=="function"&&y.cancel(),P(re)},E);r(y.then(T,P),()=>{clearTimeout(V)})});t.exports=o,t.exports.default=o,t.exports.TimeoutError=n}),am=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});function t(r,n,o){let y=0,E=r.length;for(;E>0;){let g=E/2|0,T=y+g;o(r[T],n)<=0?(y=++T,E-=g+1):E=g}return y}e.default=t}),um=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=am(),r=class{constructor(){this._queue=[]}enqueue(n,o){o=Object.assign({priority:0},o);let y={priority:o.priority,run:n};if(this.size&&this._queue[this.size-1].priority>=o.priority){this._queue.push(y);return}let E=t.default(this._queue,y,(g,T)=>T.priority-g.priority);this._queue.splice(E,0,y)}dequeue(){let n=this._queue.shift();return n==null?void 0:n.run}filter(n){return this._queue.filter(o=>o.priority===n.priority).map(o=>o.run)}get size(){return this._queue.length}};e.default=r}),fm=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=Cc(),r=Oc(),n=um(),o=()=>{},y=new r.TimeoutError,E=class extends t{constructor(g){var T,P,V,X;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o,this._resolveIdle=o,g=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},g),!(typeof g.intervalCap=="number"&&g.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(P=(T=g.intervalCap)===null||T===void 0?void 0:T.toString())!==null&&P!==void 0?P:""}\` (${typeof g.intervalCap})`);if(g.interval===void 0||!(Number.isFinite(g.interval)&&g.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(X=(V=g.interval)===null||V===void 0?void 0:V.toString())!==null&&X!==void 0?X:""}\` (${typeof g.interval})`);this._carryoverConcurrencyCount=g.carryoverConcurrencyCount,this._isIntervalIgnored=g.intervalCap===1/0||g.interval===0,this._intervalCap=g.intervalCap,this._interval=g.interval,this._queue=new g.queueClass,this._queueClass=g.queueClass,this.concurrency=g.concurrency,this._timeout=g.timeout,this._throwOnTimeout=g.throwOnTimeout===!0,this._isPaused=g.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let g=Date.now();if(this._intervalId===void 0){let T=this._intervalEnd-g;if(T<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},T)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let g=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let T=this._queue.dequeue();return T?(this.emit("active"),T(),g&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(g){if(!(typeof g=="number"&&g>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${g}\` (${typeof g})`);this._concurrency=g,this._processQueue()}async add(g,T={}){return new Promise((P,V)=>{let X=async()=>{this._pendingCount++,this._intervalCount++;try{let re=this._timeout===void 0&&T.timeout===void 0?g():r.default(Promise.resolve(g()),T.timeout===void 0?this._timeout:T.timeout,()=>{(T.throwOnTimeout===void 0?this._throwOnTimeout:T.throwOnTimeout)&&V(y)});P(await re)}catch(re){V(re)}this._next()};this._queue.enqueue(X,T),this._tryToStartAnother(),this.emit("add")})}async addAll(g,T){return Promise.all(g.map(async P=>this.add(P,T)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(g=>{let T=this._resolveEmpty;this._resolveEmpty=()=>{T(),g()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(g=>{let T=this._resolveIdle;this._resolveIdle=()=>{T(),g()}})}get size(){return this._queue.size}sizeBy(g){return this._queue.filter(g).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(g){this._timeout=g}};e.default=E}),pm=h((e,t)=>{u(),t.exports=r;function r(o,y,E){var g,T;if(Array.isArray(y)&&(g=y.slice(0)),typeof y=="string"&&(g=y.split(".")),typeof y=="symbol"&&(g=[y]),!Array.isArray(g))throw new Error("props arg must be an array, a string or a symbol");if(T=g.pop(),!T)return!1;n(T);for(var P;P=g.shift();)if(n(P),typeof o[P]>"u"&&(o[P]={}),o=o[P],!o||typeof o!="object")return!1;return o[T]=E,!0}function n(o){if(o==="__proto__"||o==="constructor"||o==="prototype")throw new Error("setting of prototype values not supported")}}),wm=h((e,t)=>{u();var r=xc();t.exports=(n,o={})=>{if(!r(n)&&!Array.isArray(n))throw new TypeError("Expected a plain object or array");let{deep:y}=o,E=[],g=[],T=V=>{let X=E.indexOf(V);if(X!==-1)return g[X];let re=[];return E.push(V),g.push(re),re.push(...V.map(q=>Array.isArray(q)?T(q):r(q)?P(q):q)),re},P=V=>{let X=E.indexOf(V);if(X!==-1)return g[X];let re={},q=Object.keys(V).sort(o.compare);E.push(V),g.push(re);for(let L of q){let I=V[L],ee;y&&Array.isArray(I)?ee=T(I):ee=y&&r(I)?P(I):I,Object.defineProperty(re,L,{...Object.getOwnPropertyDescriptor(V,L),value:ee})}return re};return Array.isArray(n)?y?T(n):n.slice():P(n)}}),Or=h((e,t)=>{u();var r=async function*(n,o){for await(let y of n)await o(y)&&(yield y)};t.exports=r}),Dm=h((e,t)=>{u(),t.exports=class{constructor(r){if(!(r>0)||(r-1&r)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(r),this.mask=r-1,this.top=0,this.btm=0,this.next=null}push(r){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=r,this.top=this.top+1&this.mask,!0)}shift(){let r=this.buffer[this.btm];if(r!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,r}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}}),Fi$1=h((e,t)=>{u();var r=Dm();t.exports=class{constructor(n){this.hwm=n||16,this.head=new r(this.hwm),this.tail=this.head}push(n){if(!this.head.push(n)){let o=this.head;this.head=o.next=new r(2*this.head.buffer.length),this.head.push(n)}}shift(){let n=this.tail.shift();if(n===void 0&&this.tail.next){let o=this.tail.next;return this.tail.next=null,this.tail=o,this.tail.shift()}return n}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}}),Om=h((e,t)=>{u();var r=Fi$1();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let y=new r,E,g,T,P=()=>{if(!y.isEmpty()){if(n.writev){let le,ye=[];for(;!y.isEmpty();){if(le=y.shift(),le.error)throw le.error;ye.push(le.value)}return{done:le.done,value:ye}}let ie=y.shift();if(ie.error)throw ie.error;return ie}return T?{done:!0}:new Promise((ie,le)=>{g=ye=>(g=null,ye.error?le(ye.error):n.writev&&!ye.done?ie({done:ye.done,value:[ye.value]}):ie(ye),E)})},V=ie=>g?g(ie):(y.push(ie),E),X=ie=>(y=new r,g?g({error:ie}):(y.push({error:ie}),E)),re=ie=>T?E:V({done:!1,value:ie}),q=ie=>T?E:(T=!0,ie?X(ie):V({done:!0})),L=()=>(y=new r,q(),{done:!0}),I=ie=>(q(ie),{done:!0});if(E={[Symbol.asyncIterator](){return this},next:P,return:L,throw:I,push:re,end:q},!o)return E;let ee=E;return E={[Symbol.asyncIterator](){return this},next(){return ee.next()},throw(ie){return ee.throw(ie),o&&(o(ie),o=null),{done:!0}},return(){return ee.return(),o&&(o(),o=null),{done:!0}},push:re,end(ie){return ee.end(ie),o&&(o(ie),o=null),E}},E}}),On$1=h((e,t)=>{u();var r=async n=>{for await(let o of n);};t.exports=r}),qm=h((e,t)=>{u();var r=async n=>{for await(let o of n)return o};t.exports=r}),Mi=h((e,t)=>{u();var r=async function*(n,o){for await(let y of n)yield o(y)};t.exports=r}),Rn=h((e,t)=>{u();var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:function(Ee,it,Ie){return Function.prototype.apply.call(Ee,it,Ie)},o;r&&typeof r.ownKeys=="function"?o=r.ownKeys:Object.getOwnPropertySymbols?o=function(Ee){return Object.getOwnPropertyNames(Ee).concat(Object.getOwnPropertySymbols(Ee))}:o=function(Ee){return Object.getOwnPropertyNames(Ee)};function y(Ee){console&&console.warn&&console.warn(Ee)}var E=Number.isNaN||function(Ee){return Ee!==Ee};function g(){g.init.call(this)}t.exports=g,t.exports.once=ye,g.EventEmitter=g,g.prototype._events=void 0,g.prototype._eventsCount=0,g.prototype._maxListeners=void 0;var T=10;function P(Ee){if(typeof Ee!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Ee)}Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(Ee){if(typeof Ee!="number"||Ee<0||E(Ee))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Ee+".");T=Ee}}),g.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},g.prototype.setMaxListeners=function(Ee){if(typeof Ee!="number"||Ee<0||E(Ee))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Ee+".");return this._maxListeners=Ee,this};function V(Ee){return Ee._maxListeners===void 0?g.defaultMaxListeners:Ee._maxListeners}g.prototype.getMaxListeners=function(){return V(this)},g.prototype.emit=function(Ee){for(var it=[],Ie=1;Ie<arguments.length;Ie++)it.push(arguments[Ie]);var jt=Ee==="error",Qt=this._events;if(Qt!==void 0)jt=jt&&Qt.error===void 0;else if(!jt)return!1;if(jt){var sr;if(it.length>0&&(sr=it[0]),sr instanceof Error)throw sr;var Pr=new Error("Unhandled error."+(sr?" ("+sr.message+")":""));throw Pr.context=sr,Pr}var zr=Qt[Ee];if(zr===void 0)return!1;if(typeof zr=="function")n(zr,this,it);else for(var Hr=zr.length,en=ee(zr,Hr),Ie=0;Ie<Hr;++Ie)n(en[Ie],this,it);return!0};function X(Ee,it,Ie,jt){var Qt,sr,Pr;if(P(Ie),sr=Ee._events,sr===void 0?(sr=Ee._events=Object.create(null),Ee._eventsCount=0):(sr.newListener!==void 0&&(Ee.emit("newListener",it,Ie.listener?Ie.listener:Ie),sr=Ee._events),Pr=sr[it]),Pr===void 0)Pr=sr[it]=Ie,++Ee._eventsCount;else if(typeof Pr=="function"?Pr=sr[it]=jt?[Ie,Pr]:[Pr,Ie]:jt?Pr.unshift(Ie):Pr.push(Ie),Qt=V(Ee),Qt>0&&Pr.length>Qt&&!Pr.warned){Pr.warned=!0;var zr=new Error("Possible EventEmitter memory leak detected. "+Pr.length+" "+String(it)+" listeners added. Use emitter.setMaxListeners() to increase limit");zr.name="MaxListenersExceededWarning",zr.emitter=Ee,zr.type=it,zr.count=Pr.length,y(zr)}return Ee}g.prototype.addListener=function(Ee,it){return X(this,Ee,it,!1)},g.prototype.on=g.prototype.addListener,g.prototype.prependListener=function(Ee,it){return X(this,Ee,it,!0)};function re(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function q(Ee,it,Ie){var jt={fired:!1,wrapFn:void 0,target:Ee,type:it,listener:Ie},Qt=re.bind(jt);return Qt.listener=Ie,jt.wrapFn=Qt,Qt}g.prototype.once=function(Ee,it){return P(it),this.on(Ee,q(this,Ee,it)),this},g.prototype.prependOnceListener=function(Ee,it){return P(it),this.prependListener(Ee,q(this,Ee,it)),this},g.prototype.removeListener=function(Ee,it){var Ie,jt,Qt,sr,Pr;if(P(it),jt=this._events,jt===void 0)return this;if(Ie=jt[Ee],Ie===void 0)return this;if(Ie===it||Ie.listener===it)--this._eventsCount===0?this._events=Object.create(null):(delete jt[Ee],jt.removeListener&&this.emit("removeListener",Ee,Ie.listener||it));else if(typeof Ie!="function"){for(Qt=-1,sr=Ie.length-1;sr>=0;sr--)if(Ie[sr]===it||Ie[sr].listener===it){Pr=Ie[sr].listener,Qt=sr;break}if(Qt<0)return this;Qt===0?Ie.shift():ie(Ie,Qt),Ie.length===1&&(jt[Ee]=Ie[0]),jt.removeListener!==void 0&&this.emit("removeListener",Ee,Pr||it)}return this},g.prototype.off=g.prototype.removeListener,g.prototype.removeAllListeners=function(Ee){var it,Ie,jt;if(Ie=this._events,Ie===void 0)return this;if(Ie.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Ie[Ee]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Ie[Ee]),this;if(arguments.length===0){var Qt=Object.keys(Ie),sr;for(jt=0;jt<Qt.length;++jt)sr=Qt[jt],sr!=="removeListener"&&this.removeAllListeners(sr);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(it=Ie[Ee],typeof it=="function")this.removeListener(Ee,it);else if(it!==void 0)for(jt=it.length-1;jt>=0;jt--)this.removeListener(Ee,it[jt]);return this};function L(Ee,it,Ie){var jt=Ee._events;if(jt===void 0)return[];var Qt=jt[it];return Qt===void 0?[]:typeof Qt=="function"?Ie?[Qt.listener||Qt]:[Qt]:Ie?le(Qt):ee(Qt,Qt.length)}g.prototype.listeners=function(Ee){return L(this,Ee,!0)},g.prototype.rawListeners=function(Ee){return L(this,Ee,!1)},g.listenerCount=function(Ee,it){return typeof Ee.listenerCount=="function"?Ee.listenerCount(it):I.call(Ee,it)},g.prototype.listenerCount=I;function I(Ee){var it=this._events;if(it!==void 0){var Ie=it[Ee];if(typeof Ie=="function")return 1;if(Ie!==void 0)return Ie.length}return 0}g.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function ee(Ee,it){for(var Ie=new Array(it),jt=0;jt<it;++jt)Ie[jt]=Ee[jt];return Ie}function ie(Ee,it){for(;it+1<Ee.length;it++)Ee[it]=Ee[it+1];Ee.pop()}function le(Ee){for(var it=new Array(Ee.length),Ie=0;Ie<it.length;++Ie)it[Ie]=Ee[Ie].listener||Ee[Ie];return it}function ye(Ee,it){return new Promise(function(Ie,jt){function Qt(Pr){Ee.removeListener(it,sr),jt(Pr)}function sr(){typeof Ee.removeListener=="function"&&Ee.removeListener("error",Qt),Ie([].slice.call(arguments))}qe(Ee,it,sr,{once:!0}),it!=="error"&&ot(Ee,Qt,{once:!0})})}function ot(Ee,it,Ie){typeof Ee.on=="function"&&qe(Ee,"error",it,Ie)}function qe(Ee,it,Ie,jt){if(typeof Ee.on=="function")jt.once?Ee.once(it,Ie):Ee.on(it,Ie);else if(typeof Ee.addEventListener=="function")Ee.addEventListener(it,function Qt(sr){jt.once&&Ee.removeEventListener(it,Qt),Ie(sr)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Ee)}}),Vc=h((e,t)=>{u(),t.exports={WORKER_REQUEST_READ_LOCK:"lock:worker:request-read",WORKER_RELEASE_READ_LOCK:"lock:worker:release-read",MASTER_GRANT_READ_LOCK:"lock:master:grant-read",WORKER_REQUEST_WRITE_LOCK:"lock:worker:request-write",WORKER_RELEASE_WRITE_LOCK:"lock:worker:release-write",MASTER_GRANT_WRITE_LOCK:"lock:master:grant-write"}}),aw=h(()=>{u()}),mw=h((e,t)=>{u();var r=Rn().EventEmitter,{nanoid:n}=(xo(),ue(tu)),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:y,MASTER_GRANT_READ_LOCK:E,WORKER_REQUEST_WRITE_LOCK:g,WORKER_RELEASE_WRITE_LOCK:T,MASTER_GRANT_WRITE_LOCK:P}=Vc(),V,X=(q,L,I,ee,ie)=>(le,ye)=>{ye&&ye.type===I&&q.emit(L,ye.name,()=>(le.send({type:ie,name:ye.name,identifier:ye.identifier}),new Promise(ot=>{let qe=Ee=>{Ee&&Ee.type===ee&&Ee.identifier===ye.identifier&&(le.removeListener("message",qe),ot())};le.on("message",qe)})))},re=(q,L,I,ee)=>()=>{let ie=n();return process$1.send({type:L,identifier:ie,name:q}),new Promise(le=>{let ye=ot=>{ot&&ot.type===I&&ot.identifier===ie&&(process$1.removeListener("message",ye),le(()=>{process$1.send({type:ee,identifier:ie,name:q})}))};process$1.on("message",ye)})};t.exports=q=>{try{if(V=aw(),!Object.keys(V).length)return}catch{return}if(V.isMaster||q.singleProcess){let L=new r;return V.on("message",X(L,"requestReadLock",o,y,E)),V.on("message",X(L,"requestWriteLock",g,T,P)),L}return{isWorker:!0,readLock:L=>re(L,o,E,y),writeLock:L=>re(L,g,P,T)}}}),Gc=h((e,t)=>{u();var r={},n=o=>{o.addEventListener("message",y=>{n.dispatchEvent("message",o,y)}),o.port&&o.port.addEventListener("message",y=>{n.dispatchEvent("message",o,y)})};n.addEventListener=(o,y)=>{r[o]||(r[o]=[]),r[o].push(y)},n.removeEventListener=(o,y)=>{!r[o]||(r[o]=r[o].filter(E=>E===y))},n.dispatchEvent=function(){let o=Array.prototype.slice.call(arguments),y=o.shift();!r[y]||r[y].forEach(E=>E.apply(null,o))},t.exports=n}),Tw=h((e,t)=>{u();var r=Rn().EventEmitter,{nanoid:n}=(xo(),ue(tu)),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:y,MASTER_GRANT_READ_LOCK:E,WORKER_REQUEST_WRITE_LOCK:g,WORKER_RELEASE_WRITE_LOCK:T,MASTER_GRANT_WRITE_LOCK:P}=Vc(),V=Gc(),X=(L,I,ee,ie,le)=>(ye,ot)=>{if(!ot||!ot.data||ot.data.type!==ee)return;let qe={type:ot.data.type,name:ot.data.name,identifier:ot.data.identifier};L.emit(I,qe.name,()=>(ye.postMessage({type:le,name:qe.name,identifier:qe.identifier}),new Promise(Ee=>{let it=Ie=>{if(!Ie||!Ie.data)return;let jt={type:Ie.data.type,name:Ie.data.name,identifier:Ie.data.identifier};jt&&jt.type===ie&&jt.identifier===qe.identifier&&(ye.removeEventListener("message",it),Ee())};ye.addEventListener("message",it)})))},re=(L,I,ee,ie)=>()=>{let le=n();return globalThis.postMessage({type:I,identifier:le,name:L}),new Promise(ye=>{let ot=qe=>{if(!qe||!qe.data)return;let Ee={type:qe.data.type,identifier:qe.data.identifier};Ee&&Ee.type===ee&&Ee.identifier===le&&(globalThis.removeEventListener("message",ot),ye(()=>{globalThis.postMessage({type:ie,identifier:le,name:L})}))};globalThis.addEventListener("message",ot)})},q={singleProcess:!1};t.exports=L=>{if(L=Object.assign({},q,L),!!globalThis.document||L.singleProcess){let I=new r;return V.addEventListener("message",X(I,"requestReadLock",o,y,E)),V.addEventListener("message",X(I,"requestWriteLock",g,T,P)),I}return{isWorker:!0,readLock:I=>re(I,o,E,y),writeLock:I=>re(I,g,P,T)}}}),Iw=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});function t(r,n,o){let y=0,E=r.length;for(;E>0;){let g=E/2|0,T=y+g;o(r[T],n)<=0?(y=++T,E-=g+1):E=g}return y}e.default=t}),Rw=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=Iw(),r=class{constructor(){this._queue=[]}enqueue(n,o){o=Object.assign({priority:0},o);let y={priority:o.priority,run:n};if(this.size&&this._queue[this.size-1].priority>=o.priority){this._queue.push(y);return}let E=t.default(this._queue,y,(g,T)=>T.priority-g.priority);this._queue.splice(E,0,y)}dequeue(){let n=this._queue.shift();return n==null?void 0:n.run}filter(n){return this._queue.filter(o=>o.priority===n.priority).map(o=>o.run)}get size(){return this._queue.length}};e.default=r}),Pw=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=Cc(),r=Oc(),n=Rw(),o=()=>{},y=new r.TimeoutError,E=class extends t{constructor(g){var T,P,V,X;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o,this._resolveIdle=o,g=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},g),!(typeof g.intervalCap=="number"&&g.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(P=(T=g.intervalCap)===null||T===void 0?void 0:T.toString())!==null&&P!==void 0?P:""}\` (${typeof g.intervalCap})`);if(g.interval===void 0||!(Number.isFinite(g.interval)&&g.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(X=(V=g.interval)===null||V===void 0?void 0:V.toString())!==null&&X!==void 0?X:""}\` (${typeof g.interval})`);this._carryoverConcurrencyCount=g.carryoverConcurrencyCount,this._isIntervalIgnored=g.intervalCap===1/0||g.interval===0,this._intervalCap=g.intervalCap,this._interval=g.interval,this._queue=new g.queueClass,this._queueClass=g.queueClass,this.concurrency=g.concurrency,this._timeout=g.timeout,this._throwOnTimeout=g.throwOnTimeout===!0,this._isPaused=g.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let g=Date.now();if(this._intervalId===void 0){let T=this._intervalEnd-g;if(T<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},T)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let g=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let T=this._queue.dequeue();return T?(this.emit("active"),T(),g&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(g){if(!(typeof g=="number"&&g>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${g}\` (${typeof g})`);this._concurrency=g,this._processQueue()}async add(g,T={}){return new Promise((P,V)=>{let X=async()=>{this._pendingCount++,this._intervalCount++;try{let re=this._timeout===void 0&&T.timeout===void 0?g():r.default(Promise.resolve(g()),T.timeout===void 0?this._timeout:T.timeout,()=>{(T.throwOnTimeout===void 0?this._throwOnTimeout:T.throwOnTimeout)&&V(y)});P(await re)}catch(re){V(re)}this._next()};this._queue.enqueue(X,T),this._tryToStartAnother(),this.emit("add")})}async addAll(g,T){return Promise.all(g.map(async P=>this.add(P,T)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(g=>{let T=this._resolveEmpty;this._resolveEmpty=()=>{T(),g()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(g=>{let T=this._resolveIdle;this._resolveIdle=()=>{T(),g()}})}get size(){return this._queue.size}sizeBy(g){return this._queue.filter(g).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(g){this._timeout=g}};e.default=E}),kw=h((e,t)=>{u();var r;t.exports.timeout=function(n,o){var y=new r,E;return Promise.race([n,new Promise(function(g,T){E=setTimeout(function(){T(y)},o)})]).then(function(g){return clearTimeout(E),g},function(g){throw clearTimeout(E),g})},r=t.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"},r.prototype=Object.create(Error.prototype),r.prototype.name="TimeoutError"}),Nw=h((e,t)=>{u();var r=mw(),n=Tw(),{default:o}=Pw(),{timeout:y}=kw(),E=Gc(),g={},T;function P(re,q){let L,I=new Promise(ee=>{L=ee});return re.add(()=>y((()=>new Promise(ee=>{L(()=>{ee()})}))(),q.timeout)),I}var V=(re,q)=>{if(T.isWorker)return{readLock:T.readLock(re,q),writeLock:T.writeLock(re,q)};let L=new o({concurrency:1}),I=null;return{readLock:()=>{if(I)return P(I,q);I=new o({concurrency:q.concurrency,autoStart:!1});let ee=I,ie=P(I,q);return L.add(()=>(ee.start(),ee.onIdle().then(()=>{I===ee&&(I=null)}))),ie},writeLock:()=>(I=null,P(L,q))}},X={concurrency:1/0,timeout:846e5,global,singleProcess:!1};t.exports=(re,q)=>(q||(q={}),typeof re=="object"&&(q=re,re="lock"),re||(re="lock"),q=Object.assign({},X,q),T||(T=r(q)||n(q),T.isWorker||(T.on("requestReadLock",(L,I)=>{!g[L]||g[L].readLock().then(ee=>I().finally(()=>ee()))}),T.on("requestWriteLock",async(L,I)=>{!g[L]||g[L].writeLock().then(ee=>I().finally(()=>ee()))}))),g[re]||(g[re]=V(re,q)),g[re]),t.exports.Worker=function(re,q){q=q||global.Worker;let L;try{L=new q(re)}catch(I){I.message.includes("not a constructor")&&(L=q(re))}if(!L)throw new Error("Could not create Worker from",q);return E(L),L}}),Mw=h((e,t)=>{u();async function*r(n,o=1){let y=[];o<1&&(o=1);for await(let E of n)for(y.push(E);y.length>=o;)yield y.slice(0,o),y=y.slice(o);for(;y.length;)yield y.slice(0,o),y=y.slice(o)}t.exports=r}),qw=h((e,t)=>{u();var r=Mw();async function*n(o,y=1){for await(let E of r(o,y)){let g=E.map(T=>T().then(P=>({ok:!0,value:P}),P=>({ok:!1,err:P})));for(let T=0;T<g.length;T++){let P=await g[T];if(P.ok)yield P.value;else throw P.err}}}t.exports=n}),Kw=h((e,t)=>{u();var r=(...g)=>{let T;for(;g.length;)T=g.shift()(T);return T},n=g=>g&&(typeof g[Symbol.asyncIterator]=="function"||typeof g[Symbol.iterator]=="function"||typeof g.next=="function"),o=g=>g&&typeof g.sink=="function"&&n(g.source),y=g=>T=>(g.sink(T),g.source),E=(...g)=>{if(o(g[0])){let T=g[0];g[0]=()=>T.source}else if(n(g[0])){let T=g[0];g[0]=()=>T}if(g.length>1&&o(g[g.length-1])&&(g[g.length-1]=g[g.length-1].sink),g.length>2)for(let T=1;T<g.length-1;T++)o(g[T])&&(g[T]=y(g[T]));return r(...g)};t.exports=E,t.exports.pipe=E,t.exports.rawPipe=r,t.exports.isIterable=n,t.exports.isDuplex=o}),Ww=h((e,t)=>{u();var r=Fi$1();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let y=new r,E,g,T,P=()=>{if(!y.isEmpty()){if(n.writev){let le,ye=[];for(;!y.isEmpty();){if(le=y.shift(),le.error)throw le.error;ye.push(le.value)}return{done:le.done,value:ye}}let ie=y.shift();if(ie.error)throw ie.error;return ie}return T?{done:!0}:new Promise((ie,le)=>{g=ye=>(g=null,ye.error?le(ye.error):n.writev&&!ye.done?ie({done:ye.done,value:[ye.value]}):ie(ye),E)})},V=ie=>g?g(ie):(y.push(ie),E),X=ie=>(y=new r,g?g({error:ie}):(y.push({error:ie}),E)),re=ie=>T?E:V({done:!1,value:ie}),q=ie=>T?E:(T=!0,ie?X(ie):V({done:!0})),L=()=>(y=new r,q(),{done:!0}),I=ie=>(q(ie),{done:!0});if(E={[Symbol.asyncIterator](){return this},next:P,return:L,throw:I,push:re,end:q},!o)return E;let ee=E;return E={[Symbol.asyncIterator](){return this},next(){return ee.next()},throw(ie){return ee.throw(ie),o&&(o(ie),o=null),{done:!0}},return(){return ee.return(),o&&(o(),o=null),{done:!0}},push:re,end(ie){return ee.end(ie),o&&(o(ie),o=null),E}},E}}),of=h((e,t)=>{u();var r=Ww(),n=async function*(...o){let y=r();setTimeout(async()=>{try{await Promise.all(o.map(async E=>{for await(let g of E)y.push(g)})),y.end()}catch(E){y.end(E)}},0),yield*y};t.exports=n}),Is$1=h((e,t)=>{u();var r=async n=>{let o=[];for await(let y of n)o.push(y);return o};t.exports=r}),Ui=h((e,t)=>{u();var r=async function*(n,o){let y=0;if(!(o<1)){for await(let E of n)if(yield E,y++,y===o)return}};t.exports=r}),fb=h((e,t)=>{u();var r=(...g)=>{let T;for(;g.length;)T=g.shift()(T);return T},n=g=>g&&(typeof g[Symbol.asyncIterator]=="function"||typeof g[Symbol.iterator]=="function"||typeof g.next=="function"),o=g=>g&&typeof g.sink=="function"&&n(g.source),y=g=>T=>(g.sink(T),g.source),E=(...g)=>{if(o(g[0])){let T=g[0];g[0]=()=>T.source}else if(n(g[0])){let T=g[0];g[0]=()=>T}if(g.length>1&&o(g[g.length-1])&&(g[g.length-1]=g[g.length-1].sink),g.length>2)for(let T=1;T<g.length-1;T++)o(g[T])&&(g[T]=y(g[T]));return r(...g)};t.exports=E,t.exports.pipe=E,t.exports.rawPipe=r,t.exports.isIterable=n,t.exports.isDuplex=o}),pb=h((e,t)=>{u();var r=Fi$1();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let y=new r,E,g,T,P=()=>{if(!y.isEmpty()){if(n.writev){let le,ye=[];for(;!y.isEmpty();){if(le=y.shift(),le.error)throw le.error;ye.push(le.value)}return{done:le.done,value:ye}}let ie=y.shift();if(ie.error)throw ie.error;return ie}return T?{done:!0}:new Promise((ie,le)=>{g=ye=>(g=null,ye.error?le(ye.error):n.writev&&!ye.done?ie({done:ye.done,value:[ye.value]}):ie(ye),E)})},V=ie=>g?g(ie):(y.push(ie),E),X=ie=>(y=new r,g?g({error:ie}):(y.push({error:ie}),E)),re=ie=>T?E:V({done:!1,value:ie}),q=ie=>T?E:(T=!0,ie?X(ie):V({done:!0})),L=()=>(y=new r,q(),{done:!0}),I=ie=>(q(ie),{done:!0});if(E={[Symbol.asyncIterator](){return this},next:P,return:L,throw:I,push:re,end:q},!o)return E;let ee=E;return E={[Symbol.asyncIterator](){return this},next(){return ee.next()},throw(ie){return ee.throw(ie),o&&(o(ie),o=null),{done:!0}},return(){return ee.return(),o&&(o(),o=null),{done:!0}},push:re,end(ie){return ee.end(ie),o&&(o(ie),o=null),E}},E}}),gb=h((e,t)=>{u();var r=Is$1(),n=async function*(o,y){yield*(await r(o)).sort(y)};t.exports=n}),hf$1=h((e,t)=>{u(),t.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},n=Symbol("test"),o=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var y=42;r[n]=y;for(n in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var E=Object.getOwnPropertySymbols(r);if(E.length!==1||E[0]!==n||!Object.prototype.propertyIsEnumerable.call(r,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(r,n);if(g.value!==y||g.enumerable!==!0)return!1}return!0}}),$i$1=h((e,t)=>{u();var r=hf$1();t.exports=function(){return r()&&!!Symbol.toStringTag}}),Eb=h((e,t)=>{u();var r=typeof Symbol<"u"&&Symbol,n=hf$1();t.exports=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:n()}}),xb=h((e,t)=>{u();var r="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,o=Object.prototype.toString,y="[object Function]";t.exports=function(E){var g=this;if(typeof g!="function"||o.call(g)!==y)throw new TypeError(r+g);for(var T=n.call(arguments,1),P,V=function(){if(this instanceof P){var I=g.apply(this,T.concat(n.call(arguments)));return Object(I)===I?I:this}else return g.apply(E,T.concat(n.call(arguments)))},X=Math.max(0,g.length-T.length),re=[],q=0;q<X;q++)re.push("$"+q);if(P=Function("binder","return function ("+re.join(",")+"){ return binder.apply(this,arguments); }")(V),g.prototype){var L=function(){};L.prototype=g.prototype,P.prototype=new L,L.prototype=null}return P}}),Ps=h((e,t)=>{u();var r=xb();t.exports=Function.prototype.bind||r}),Sb=h((e,t)=>{u();var r=Ps();t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)}),Ns=h((e,t)=>{u();var r,n=SyntaxError,o=Function,y=TypeError,E=function(Pr){try{return o('"use strict"; return ('+Pr+").constructor;")()}catch{}},g=Object.getOwnPropertyDescriptor;if(g)try{g({},"")}catch{g=null}var T=function(){throw new y},P=g?function(){try{return arguments.callee,T}catch{try{return g(arguments,"callee").get}catch{return T}}}():T,V=Eb()(),X=Object.getPrototypeOf||function(Pr){return Pr.__proto__},re={},q=typeof Uint8Array>"u"?r:X(Uint8Array),L={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":V?X([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":re,"%AsyncGenerator%":re,"%AsyncGeneratorFunction%":re,"%AsyncIteratorPrototype%":re,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":re,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":V?X(X([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!V?r:X(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!V?r:X(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":V?X(""[Symbol.iterator]()):r,"%Symbol%":V?Symbol:r,"%SyntaxError%":n,"%ThrowTypeError%":P,"%TypedArray%":q,"%TypeError%":y,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet},I=function Pr(zr){var Hr;if(zr==="%AsyncFunction%")Hr=E("async function () {}");else if(zr==="%GeneratorFunction%")Hr=E("function* () {}");else if(zr==="%AsyncGeneratorFunction%")Hr=E("async function* () {}");else if(zr==="%AsyncGenerator%"){var en=Pr("%AsyncGeneratorFunction%");en&&(Hr=en.prototype)}else if(zr==="%AsyncIteratorPrototype%"){var rn=Pr("%AsyncGenerator%");rn&&(Hr=X(rn.prototype))}return L[zr]=Hr,Hr},ee={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ie=Ps(),le=Sb(),ye=ie.call(Function.call,Array.prototype.concat),ot=ie.call(Function.apply,Array.prototype.splice),qe=ie.call(Function.call,String.prototype.replace),Ee=ie.call(Function.call,String.prototype.slice),it=ie.call(Function.call,RegExp.prototype.exec),Ie=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,jt=/\\(\\)?/g,Qt=function(Pr){var zr=Ee(Pr,0,1),Hr=Ee(Pr,-1);if(zr==="%"&&Hr!=="%")throw new n("invalid intrinsic syntax, expected closing `%`");if(Hr==="%"&&zr!=="%")throw new n("invalid intrinsic syntax, expected opening `%`");var en=[];return qe(Pr,Ie,function(rn,wo,Gr,ni){en[en.length]=Gr?qe(ni,jt,"$1"):wo||rn}),en},sr=function(Pr,zr){var Hr=Pr,en;if(le(ee,Hr)&&(en=ee[Hr],Hr="%"+en[0]+"%"),le(L,Hr)){var rn=L[Hr];if(rn===re&&(rn=I(Hr)),typeof rn>"u"&&!zr)throw new y("intrinsic "+Pr+" exists, but is not available. Please file an issue!");return{alias:en,name:Hr,value:rn}}throw new n("intrinsic "+Pr+" does not exist!")};t.exports=function(Pr,zr){if(typeof Pr!="string"||Pr.length===0)throw new y("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof zr!="boolean")throw new y('"allowMissing" argument must be a boolean');if(it(/^%?[^%]*%?$/g,Pr)===null)throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Hr=Qt(Pr),en=Hr.length>0?Hr[0]:"",rn=sr("%"+en+"%",zr),wo=rn.name,Gr=rn.value,ni=!1,ki=rn.alias;ki&&(en=ki[0],ot(Hr,ye([0,1],ki)));for(var Xr=1,Dt=!0;Xr<Hr.length;Xr+=1){var tr=Hr[Xr],Wt=Ee(tr,0,1),Jr=Ee(tr,-1);if((Wt==='"'||Wt==="'"||Wt==="`"||Jr==='"'||Jr==="'"||Jr==="`")&&Wt!==Jr)throw new n("property names with quotes must have matching quotes");if((tr==="constructor"||!Dt)&&(ni=!0),en+="."+tr,wo="%"+en+"%",le(L,wo))Gr=L[wo];else if(Gr!=null){if(!(tr in Gr)){if(!zr)throw new y("base intrinsic for "+Pr+" exists, but the property is not available.");return}if(g&&Xr+1>=Hr.length){var ao=g(Gr,tr);Dt=!!ao,Dt&&"get"in ao&&!("originalValue"in ao.get)?Gr=ao.get:Gr=Gr[tr]}else Dt=le(Gr,tr),Gr=Gr[tr];Dt&&!ni&&(L[wo]=Gr)}}return Gr}}),Nb=h((e,t)=>{u();var r=Ps(),n=Ns(),o=n("%Function.prototype.apply%"),y=n("%Function.prototype.call%"),E=n("%Reflect.apply%",!0)||r.call(y,o),g=n("%Object.getOwnPropertyDescriptor%",!0),T=n("%Object.defineProperty%",!0),P=n("%Math.max%");if(T)try{T({},"a",{value:1})}catch{T=null}t.exports=function(X){var re=E(r,y,arguments);if(g&&T){var q=g(re,"length");q.configurable&&T(re,"length",{value:1+P(0,X.length-(arguments.length-1))})}return re};var V=function(){return E(r,o,arguments)};T?T(t.exports,"apply",{value:V}):t.exports.apply=V}),Ms=h((e,t)=>{u();var r=Ns(),n=Nb(),o=n(r("String.prototype.indexOf"));t.exports=function(y,E){var g=r(y,!!E);return typeof g=="function"&&o(y,".prototype.")>-1?n(g):g}}),$b=h((e,t)=>{u();var r=$i$1()(),n=Ms(),o=n("Object.prototype.toString"),y=function(T){return r&&T&&typeof T=="object"&&Symbol.toStringTag in T?!1:o(T)==="[object Arguments]"},E=function(T){return y(T)?!0:T!==null&&typeof T=="object"&&typeof T.length=="number"&&T.length>=0&&o(T)!=="[object Array]"&&o(T.callee)==="[object Function]"},g=function(){return y(arguments)}();y.isLegacyArguments=E,t.exports=g?y:E}),Wb=h((e,t)=>{u();var r=Object.prototype.toString,n=Function.prototype.toString,o=/^\s*(?:function)?\*/,y=$i$1()(),E=Object.getPrototypeOf,g=function(){if(!y)return!1;try{return Function("return function*() {}")()}catch{}},T;t.exports=function(P){if(typeof P!="function")return!1;if(o.test(n.call(P)))return!0;if(!y){var V=r.call(P);return V==="[object GeneratorFunction]"}if(!E)return!1;if(typeof T>"u"){var X=g();T=X?E(X):!1}return E(P)===T}}),Jb=h((e,t)=>{u();var r=Function.prototype.toString,n=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,o,y;if(typeof n=="function"&&typeof Object.defineProperty=="function")try{o=Object.defineProperty({},"length",{get:function(){throw y}}),y={},n(function(){throw 42},null,o)}catch(L){L!==y&&(n=null)}else n=null;var E=/^\s*class\b/,g=function(L){try{var I=r.call(L);return E.test(I)}catch{return!1}},T=function(L){try{return g(L)?!1:(r.call(L),!0)}catch{return!1}},P=Object.prototype.toString,V="[object Function]",X="[object GeneratorFunction]",re=typeof Symbol=="function"&&!!Symbol.toStringTag,q=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{};t.exports=n?function(L){if(L===q)return!0;if(!L||typeof L!="function"&&typeof L!="object")return!1;if(typeof L=="function"&&!L.prototype)return!0;try{n(L,null,o)}catch(I){if(I!==y)return!1}return!g(L)}:function(L){if(L===q)return!0;if(!L||typeof L!="function"&&typeof L!="object")return!1;if(typeof L=="function"&&!L.prototype)return!0;if(re)return T(L);if(g(L))return!1;var I=P.call(L);return I===V||I===X}}),Df$1=h((e,t)=>{u();var r=Jb(),n=Object.prototype.toString,o=Object.prototype.hasOwnProperty,y=function(P,V,X){for(var re=0,q=P.length;re<q;re++)o.call(P,re)&&(X==null?V(P[re],re,P):V.call(X,P[re],re,P))},E=function(P,V,X){for(var re=0,q=P.length;re<q;re++)X==null?V(P.charAt(re),re,P):V.call(X,P.charAt(re),re,P)},g=function(P,V,X){for(var re in P)o.call(P,re)&&(X==null?V(P[re],re,P):V.call(X,P[re],re,P))},T=function(P,V,X){if(!r(V))throw new TypeError("iterator must be a function");var re;arguments.length>=3&&(re=X),n.call(P)==="[object Array]"?y(P,V,re):typeof P=="string"?E(P,V,re):g(P,V,re)};t.exports=T}),Sf$1=h((e,t)=>{u();var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n=typeof globalThis>"u"?global:globalThis;t.exports=function(){for(var o=[],y=0;y<r.length;y++)typeof n[r[y]]=="function"&&(o[o.length]=r[y]);return o}}),Cf$1=h((e,t)=>{u();var r=Ns(),n=r("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch{n=null}t.exports=n}),If$1=h((e,t)=>{u();var r=Df$1(),n=Sf$1(),o=Ms(),y=o("Object.prototype.toString"),E=$i$1()(),g=typeof globalThis>"u"?global:globalThis,T=n(),P=o("Array.prototype.indexOf",!0)||function(I,ee){for(var ie=0;ie<I.length;ie+=1)if(I[ie]===ee)return ie;return-1},V=o("String.prototype.slice"),X={},re=Cf$1(),q=Object.getPrototypeOf;E&&re&&q&&r(T,function(I){var ee=new g[I];if(Symbol.toStringTag in ee){var ie=q(ee),le=re(ie,Symbol.toStringTag);if(!le){var ye=q(ie);le=re(ye,Symbol.toStringTag)}X[I]=le.get}});var L=function(I){var ee=!1;return r(X,function(ie,le){if(!ee)try{ee=ie.call(I)===le}catch{}}),ee};t.exports=function(I){if(!I||typeof I!="object")return!1;if(!E||!(Symbol.toStringTag in I)){var ee=V(y(I),8,-1);return P(T,ee)>-1}return re?L(I):!1}}),l0=h((e,t)=>{u();var r=Df$1(),n=Sf$1(),o=Ms(),y=o("Object.prototype.toString"),E=$i$1()(),g=typeof globalThis>"u"?global:globalThis,T=n(),P=o("String.prototype.slice"),V={},X=Cf$1(),re=Object.getPrototypeOf;E&&X&&re&&r(T,function(I){if(typeof g[I]=="function"){var ee=new g[I];if(Symbol.toStringTag in ee){var ie=re(ee),le=X(ie,Symbol.toStringTag);if(!le){var ye=re(ie);le=X(ye,Symbol.toStringTag)}V[I]=le.get}}});var q=function(I){var ee=!1;return r(V,function(ie,le){if(!ee)try{var ye=ie.call(I);ye===le&&(ee=ye)}catch{}}),ee},L=If$1();t.exports=function(I){return L(I)?!E||!(Symbol.toStringTag in I)?P(y(I),8,-1):q(I):!1}}),A0=h(e=>{u();var t=$b(),r=Wb(),n=l0(),o=If$1();function y(st){return st.call.bind(st)}var E=typeof BigInt<"u",g=typeof Symbol<"u",T=y(Object.prototype.toString),P=y(Number.prototype.valueOf),V=y(String.prototype.valueOf),X=y(Boolean.prototype.valueOf);E&&(re=y(BigInt.prototype.valueOf));var re;g&&(q=y(Symbol.prototype.valueOf));var q;function L(st,qr){if(typeof st!="object")return!1;try{return qr(st),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=o;function I(st){return typeof Promise<"u"&&st instanceof Promise||st!==null&&typeof st=="object"&&typeof st.then=="function"&&typeof st.catch=="function"}e.isPromise=I;function ee(st){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(st):o(st)||tr(st)}e.isArrayBufferView=ee;function ie(st){return n(st)==="Uint8Array"}e.isUint8Array=ie;function le(st){return n(st)==="Uint8ClampedArray"}e.isUint8ClampedArray=le;function ye(st){return n(st)==="Uint16Array"}e.isUint16Array=ye;function ot(st){return n(st)==="Uint32Array"}e.isUint32Array=ot;function qe(st){return n(st)==="Int8Array"}e.isInt8Array=qe;function Ee(st){return n(st)==="Int16Array"}e.isInt16Array=Ee;function it(st){return n(st)==="Int32Array"}e.isInt32Array=it;function Ie(st){return n(st)==="Float32Array"}e.isFloat32Array=Ie;function jt(st){return n(st)==="Float64Array"}e.isFloat64Array=jt;function Qt(st){return n(st)==="BigInt64Array"}e.isBigInt64Array=Qt;function sr(st){return n(st)==="BigUint64Array"}e.isBigUint64Array=sr;function Pr(st){return T(st)==="[object Map]"}Pr.working=typeof Map<"u"&&Pr(new Map);function zr(st){return typeof Map>"u"?!1:Pr.working?Pr(st):st instanceof Map}e.isMap=zr;function Hr(st){return T(st)==="[object Set]"}Hr.working=typeof Set<"u"&&Hr(new Set);function en(st){return typeof Set>"u"?!1:Hr.working?Hr(st):st instanceof Set}e.isSet=en;function rn(st){return T(st)==="[object WeakMap]"}rn.working=typeof WeakMap<"u"&&rn(new WeakMap);function wo(st){return typeof WeakMap>"u"?!1:rn.working?rn(st):st instanceof WeakMap}e.isWeakMap=wo;function Gr(st){return T(st)==="[object WeakSet]"}Gr.working=typeof WeakSet<"u"&&Gr(new WeakSet);function ni(st){return Gr(st)}e.isWeakSet=ni;function ki(st){return T(st)==="[object ArrayBuffer]"}ki.working=typeof ArrayBuffer<"u"&&ki(new ArrayBuffer);function Xr(st){return typeof ArrayBuffer>"u"?!1:ki.working?ki(st):st instanceof ArrayBuffer}e.isArrayBuffer=Xr;function Dt(st){return T(st)==="[object DataView]"}Dt.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Dt(new DataView(new ArrayBuffer(1),0,1));function tr(st){return typeof DataView>"u"?!1:Dt.working?Dt(st):st instanceof DataView}e.isDataView=tr;var Wt=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Jr(st){return T(st)==="[object SharedArrayBuffer]"}function ao(st){return typeof Wt>"u"?!1:(typeof Jr.working>"u"&&(Jr.working=Jr(new Wt)),Jr.working?Jr(st):st instanceof Wt)}e.isSharedArrayBuffer=ao;function yo(st){return T(st)==="[object AsyncFunction]"}e.isAsyncFunction=yo;function rr(st){return T(st)==="[object Map Iterator]"}e.isMapIterator=rr;function Br(st){return T(st)==="[object Set Iterator]"}e.isSetIterator=Br;function je(st){return T(st)==="[object Generator]"}e.isGeneratorObject=je;function Gt(st){return T(st)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=Gt;function Xt(st){return L(st,P)}e.isNumberObject=Xt;function et(st){return L(st,V)}e.isStringObject=et;function _e(st){return L(st,X)}e.isBooleanObject=_e;function ir(st){return E&&L(st,re)}e.isBigIntObject=ir;function Rr(st){return g&&L(st,q)}e.isSymbolObject=Rr;function vr(st){return Xt(st)||et(st)||_e(st)||ir(st)||Rr(st)}e.isBoxedPrimitive=vr;function Fr(st){return typeof Uint8Array<"u"&&(Xr(st)||ao(st))}e.isAnyArrayBuffer=Fr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(st){Object.defineProperty(e,st,{enumerable:!1,value:function(){throw new Error(st+" is not supported in userland")}})})}),C0=h((e,t)=>{u(),t.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}}),Te=h((e,t)=>{u(),typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var o=function(){};o.prototype=n.prototype,r.prototype=new o,r.prototype.constructor=r}}}),P0=h(e=>{u();var t=Object.getOwnPropertyDescriptors||function(Dt){for(var tr=Object.keys(Dt),Wt={},Jr=0;Jr<tr.length;Jr++)Wt[tr[Jr]]=Object.getOwnPropertyDescriptor(Dt,tr[Jr]);return Wt},r=/%[sdj%]/g;e.format=function(Dt){if(!qe(Dt)){for(var tr=[],Wt=0;Wt<arguments.length;Wt++)tr.push(E(arguments[Wt]));return tr.join(" ")}for(var Wt=1,Jr=arguments,ao=Jr.length,yo=String(Dt).replace(r,function(je){if(je==="%%")return"%";if(Wt>=ao)return je;switch(je){case"%s":return String(Jr[Wt++]);case"%d":return Number(Jr[Wt++]);case"%j":try{return JSON.stringify(Jr[Wt++])}catch{return"[Circular]"}default:return je}}),rr=Jr[Wt];Wt<ao;rr=Jr[++Wt])le(rr)||!jt(rr)?yo+=" "+rr:yo+=" "+E(rr);return yo},e.deprecate=function(Dt,tr){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return Dt;if(typeof process$1>"u")return function(){return e.deprecate(Dt,tr).apply(this,arguments)};var Wt=!1;function Jr(){if(!Wt){if(process$1.throwDeprecation)throw new Error(tr);process$1.traceDeprecation?console.trace(tr):console.error(tr),Wt=!0}return Dt.apply(this,arguments)}return Jr};var n={},o=/^$/;process$1.env.NODE_DEBUG&&(y=process$1.env.NODE_DEBUG,y=y.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+y+"$","i"));var y;e.debuglog=function(Dt){if(Dt=Dt.toUpperCase(),!n[Dt])if(o.test(Dt)){var tr=process$1.pid;n[Dt]=function(){var Wt=e.format.apply(e,arguments);console.error("%s %d: %s",Dt,tr,Wt)}}else n[Dt]=function(){};return n[Dt]};function E(Dt,tr){var Wt={seen:[],stylize:T};return arguments.length>=3&&(Wt.depth=arguments[2]),arguments.length>=4&&(Wt.colors=arguments[3]),ie(tr)?Wt.showHidden=tr:tr&&e._extend(Wt,tr),it(Wt.showHidden)&&(Wt.showHidden=!1),it(Wt.depth)&&(Wt.depth=2),it(Wt.colors)&&(Wt.colors=!1),it(Wt.customInspect)&&(Wt.customInspect=!0),Wt.colors&&(Wt.stylize=g),V(Wt,Dt,Wt.depth)}e.inspect=E,E.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},E.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function g(Dt,tr){var Wt=E.styles[tr];return Wt?"\x1B["+E.colors[Wt][0]+"m"+Dt+"\x1B["+E.colors[Wt][1]+"m":Dt}function T(Dt,tr){return Dt}function P(Dt){var tr={};return Dt.forEach(function(Wt,Jr){tr[Wt]=!0}),tr}function V(Dt,tr,Wt){if(Dt.customInspect&&tr&&Pr(tr.inspect)&&tr.inspect!==e.inspect&&!(tr.constructor&&tr.constructor.prototype===tr)){var Jr=tr.inspect(Wt,Dt);return qe(Jr)||(Jr=V(Dt,Jr,Wt)),Jr}var ao=X(Dt,tr);if(ao)return ao;var yo=Object.keys(tr),rr=P(yo);if(Dt.showHidden&&(yo=Object.getOwnPropertyNames(tr)),sr(tr)&&(yo.indexOf("message")>=0||yo.indexOf("description")>=0))return re(tr);if(yo.length===0){if(Pr(tr)){var Br=tr.name?": "+tr.name:"";return Dt.stylize("[Function"+Br+"]","special")}if(Ie(tr))return Dt.stylize(RegExp.prototype.toString.call(tr),"regexp");if(Qt(tr))return Dt.stylize(Date.prototype.toString.call(tr),"date");if(sr(tr))return re(tr)}var je="",Gt=!1,Xt=["{","}"];if(ee(tr)&&(Gt=!0,Xt=["[","]"]),Pr(tr)){var et=tr.name?": "+tr.name:"";je=" [Function"+et+"]"}if(Ie(tr)&&(je=" "+RegExp.prototype.toString.call(tr)),Qt(tr)&&(je=" "+Date.prototype.toUTCString.call(tr)),sr(tr)&&(je=" "+re(tr)),yo.length===0&&(!Gt||tr.length==0))return Xt[0]+je+Xt[1];if(Wt<0)return Ie(tr)?Dt.stylize(RegExp.prototype.toString.call(tr),"regexp"):Dt.stylize("[Object]","special");Dt.seen.push(tr);var _e;return Gt?_e=q(Dt,tr,Wt,rr,yo):_e=yo.map(function(ir){return L(Dt,tr,Wt,rr,ir,Gt)}),Dt.seen.pop(),I(_e,je,Xt)}function X(Dt,tr){if(it(tr))return Dt.stylize("undefined","undefined");if(qe(tr)){var Wt="'"+JSON.stringify(tr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Dt.stylize(Wt,"string")}if(ot(tr))return Dt.stylize(""+tr,"number");if(ie(tr))return Dt.stylize(""+tr,"boolean");if(le(tr))return Dt.stylize("null","null")}function re(Dt){return"["+Error.prototype.toString.call(Dt)+"]"}function q(Dt,tr,Wt,Jr,ao){for(var yo=[],rr=0,Br=tr.length;rr<Br;++rr)Gr(tr,String(rr))?yo.push(L(Dt,tr,Wt,Jr,String(rr),!0)):yo.push("");return ao.forEach(function(je){je.match(/^\d+$/)||yo.push(L(Dt,tr,Wt,Jr,je,!0))}),yo}function L(Dt,tr,Wt,Jr,ao,yo){var rr,Br,je;if(je=Object.getOwnPropertyDescriptor(tr,ao)||{value:tr[ao]},je.get?je.set?Br=Dt.stylize("[Getter/Setter]","special"):Br=Dt.stylize("[Getter]","special"):je.set&&(Br=Dt.stylize("[Setter]","special")),Gr(Jr,ao)||(rr="["+ao+"]"),Br||(Dt.seen.indexOf(je.value)<0?(le(Wt)?Br=V(Dt,je.value,null):Br=V(Dt,je.value,Wt-1),Br.indexOf(`
`)>-1&&(yo?Br=Br.split(`
`).map(function(Gt){return"  "+Gt}).join(`
`).substr(2):Br=`
`+Br.split(`
`).map(function(Gt){return"   "+Gt}).join(`
`))):Br=Dt.stylize("[Circular]","special")),it(rr)){if(yo&&ao.match(/^\d+$/))return Br;rr=JSON.stringify(""+ao),rr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(rr=rr.substr(1,rr.length-2),rr=Dt.stylize(rr,"name")):(rr=rr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),rr=Dt.stylize(rr,"string"))}return rr+": "+Br}function I(Dt,tr,Wt){var Jr=0,ao=Dt.reduce(function(yo,rr){return Jr++,rr.indexOf(`
`)>=0&&Jr++,yo+rr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ao>60?Wt[0]+(tr===""?"":tr+`
 `)+" "+Dt.join(`,
  `)+" "+Wt[1]:Wt[0]+tr+" "+Dt.join(", ")+" "+Wt[1]}e.types=A0();function ee(Dt){return Array.isArray(Dt)}e.isArray=ee;function ie(Dt){return typeof Dt=="boolean"}e.isBoolean=ie;function le(Dt){return Dt===null}e.isNull=le;function ye(Dt){return Dt==null}e.isNullOrUndefined=ye;function ot(Dt){return typeof Dt=="number"}e.isNumber=ot;function qe(Dt){return typeof Dt=="string"}e.isString=qe;function Ee(Dt){return typeof Dt=="symbol"}e.isSymbol=Ee;function it(Dt){return Dt===void 0}e.isUndefined=it;function Ie(Dt){return jt(Dt)&&Hr(Dt)==="[object RegExp]"}e.isRegExp=Ie,e.types.isRegExp=Ie;function jt(Dt){return typeof Dt=="object"&&Dt!==null}e.isObject=jt;function Qt(Dt){return jt(Dt)&&Hr(Dt)==="[object Date]"}e.isDate=Qt,e.types.isDate=Qt;function sr(Dt){return jt(Dt)&&(Hr(Dt)==="[object Error]"||Dt instanceof Error)}e.isError=sr,e.types.isNativeError=sr;function Pr(Dt){return typeof Dt=="function"}e.isFunction=Pr;function zr(Dt){return Dt===null||typeof Dt=="boolean"||typeof Dt=="number"||typeof Dt=="string"||typeof Dt=="symbol"||typeof Dt>"u"}e.isPrimitive=zr,e.isBuffer=C0();function Hr(Dt){return Object.prototype.toString.call(Dt)}function en(Dt){return Dt<10?"0"+Dt.toString(10):Dt.toString(10)}var rn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function wo(){var Dt=new Date,tr=[en(Dt.getHours()),en(Dt.getMinutes()),en(Dt.getSeconds())].join(":");return[Dt.getDate(),rn[Dt.getMonth()],tr].join(" ")}e.log=function(){console.log("%s - %s",wo(),e.format.apply(e,arguments))},e.inherits=Te(),e._extend=function(Dt,tr){if(!tr||!jt(tr))return Dt;for(var Wt=Object.keys(tr),Jr=Wt.length;Jr--;)Dt[Wt[Jr]]=tr[Wt[Jr]];return Dt};function Gr(Dt,tr){return Object.prototype.hasOwnProperty.call(Dt,tr)}var ni=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(Dt){if(typeof Dt!="function")throw new TypeError('The "original" argument must be of type Function');if(ni&&Dt[ni]){var tr=Dt[ni];if(typeof tr!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(tr,ni,{value:tr,enumerable:!1,writable:!1,configurable:!0}),tr}function tr(){for(var Wt,Jr,ao=new Promise(function(Br,je){Wt=Br,Jr=je}),yo=[],rr=0;rr<arguments.length;rr++)yo.push(arguments[rr]);yo.push(function(Br,je){Br?Jr(Br):Wt(je)});try{Dt.apply(this,yo)}catch(Br){Jr(Br)}return ao}return Object.setPrototypeOf(tr,Object.getPrototypeOf(Dt)),ni&&Object.defineProperty(tr,ni,{value:tr,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(tr,t(Dt))},e.promisify.custom=ni;function ki(Dt,tr){if(!Dt){var Wt=new Error("Promise was rejected with a falsy value");Wt.reason=Dt,Dt=Wt}return tr(Dt)}function Xr(Dt){if(typeof Dt!="function")throw new TypeError('The "original" argument must be of type Function');function tr(){for(var Wt=[],Jr=0;Jr<arguments.length;Jr++)Wt.push(arguments[Jr]);var ao=Wt.pop();if(typeof ao!="function")throw new TypeError("The last argument must be of type Function");var yo=this,rr=function(){return ao.apply(yo,arguments)};Dt.apply(this,Wt).then(function(Br){process$1.nextTick(rr.bind(null,null,Br))},function(Br){process$1.nextTick(ki.bind(null,Br,rr))})}return Object.setPrototypeOf(tr,Object.getPrototypeOf(Dt)),Object.defineProperties(tr,t(Dt)),tr}e.callbackify=Xr}),Uf$1=h((e,t)=>{u(),t.exports=function(...n){let o=n.reduce((y,E)=>Object.assign(y,E),{});return Object.assign(o,{bufferKeys:o.bufferKeys||!1,snapshots:o.snapshots||!1,permanence:o.permanence||!1,seek:o.seek||!1,clear:o.clear||!1,getMany:o.getMany||!1,keyIterator:o.keyIterator||!1,valueIterator:o.valueIterator||!1,iteratorNextv:o.iteratorNextv||!1,iteratorAll:o.iteratorAll||!1,status:o.status||!1,idempotentOpen:o.idempotentOpen||!1,passiveOpen:o.passiveOpen||!1,serialize:o.serialize||!1,createIfMissing:o.createIfMissing||!1,errorIfExists:o.errorIfExists||!1,deferredOpen:o.deferredOpen||!1,openCallback:o.openCallback||!1,promises:o.promises||!1,streams:o.streams||!1,encodings:r(o.encodings),events:r(o.events),additionalMethods:Object.assign({},o.additionalMethods)})};function r(n){return n?Object.assign({},n):!1}}),L0=h((e,t)=>{u(),t.exports=function(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}}),j0=h((e,t)=>{u(),t.exports=typeof queueMicrotask=="function"?queueMicrotask:r=>Promise.resolve().then(r)}),ta=h(e=>{u();var t=j0();e.fromCallback=function(r,n){if(r===void 0){var o=new Promise(function(y,E){r=function(g,T){g?E(g):y(T)}});r[n!==void 0?n:"promise"]=o}else if(typeof r!="function")throw new TypeError("Callback must be a function");return r},e.fromPromise=function(r,n){if(n===void 0)return r;r.then(function(o){t(()=>n(null,o))}).catch(function(o){t(()=>n(o))})}}),ra=h((e,t)=>{u();var r;t.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):n=>(r||(r=Promise.resolve())).then(n).catch(o=>setTimeout(()=>{throw o},0))}),na=h((e,t)=>{u();var r=ra();t.exports=function(n,...o){o.length===0?r(n):r(()=>n(...o))}}),Kf=h((e,t)=>{u();function r(n){if(typeof n!="object"||n===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=n,this._ended=!1,this._nexting=!1}r.prototype.next=function(n){let o=this;if(n===void 0)o=new Promise(function(y,E){n=function(g,T,P){g?E(g):T===void 0&&P===void 0?y():y([T,P])}});else if(typeof n!="function")throw new Error("next() requires a callback argument");return this._ended?(this._nextTick(n,new Error("cannot call next() after end()")),o):this._nexting?(this._nextTick(n,new Error("cannot call next() before previous next() has completed")),o):(this._nexting=!0,this._next((y,...E)=>{this._nexting=!1,n(y,...E)}),o)},r.prototype._next=function(n){this._nextTick(n)},r.prototype.seek=function(n){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");n=this.db._serializeKey(n),this._seek(n)},r.prototype._seek=function(n){},r.prototype.end=function(n){let o;if(n===void 0)o=new Promise(function(y,E){n=function(g){g?E(g):y()}});else if(typeof n!="function")throw new Error("end() requires a callback argument");return this._ended?(this._nextTick(n,new Error("end() already called on iterator")),o):(this._ended=!0,this._end(n),o)},r.prototype._end=function(n){this._nextTick(n)},r.prototype[Symbol.asyncIterator]=async function*(){try{let n;for(;(n=await this.next())!==void 0;)yield n}finally{this._ended||await this.end()}},r.prototype._nextTick=na(),t.exports=r}),zf$1=h((e,t)=>{u();var r=Object.freeze({});function n(o){if(typeof o!="object"||o===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=o,this._operations=[],this._written=!1}n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(o,y,E){this._checkWritten();let g=this.db._checkKey(o)||this.db._checkValue(y);if(g)throw g;return o=this.db._serializeKey(o),y=this.db._serializeValue(y),this._put(o,y,E!=null?E:r),this},n.prototype._put=function(o,y,E){this._operations.push({...E,type:"put",key:o,value:y})},n.prototype.del=function(o,y){this._checkWritten();let E=this.db._checkKey(o);if(E)throw E;return o=this.db._serializeKey(o),this._del(o,y!=null?y:r),this},n.prototype._del=function(o,y){this._operations.push({...y,type:"del",key:o})},n.prototype.clear=function(){return this._checkWritten(),this._clear(),this},n.prototype._clear=function(){this._operations=[]},n.prototype.write=function(o,y){if(this._checkWritten(),typeof o=="function"&&(y=o),typeof y!="function")throw new Error("write() requires a callback argument");(typeof o!="object"||o===null)&&(o={}),this._written=!0,this._write(o,y)},n.prototype._write=function(o,y){this.db._batch(this._operations,o,y)},n.prototype._nextTick=na(),t.exports=n}),Vf$1=h(e=>{u(),e.getCallback=function(t,r){return typeof t=="function"?t:r},e.getOptions=function(t){return typeof t=="object"&&t!==null?t:{}}}),Y0=h((e,t)=>{u();var r=Uf$1(),n=L0(),o=ta(),y=Kf(),E=zf$1(),g=Vf$1().getCallback,T=Vf$1().getOptions,P=Object.prototype.hasOwnProperty,V=["lt","lte","gt","gte"];function X(I){this.status="new",this.supports=r(I,{status:!0})}X.prototype.open=function(I,ee){let ie=this.status;if(typeof I=="function"&&(ee=I),typeof ee!="function")throw new Error("open() requires a callback argument");(typeof I!="object"||I===null)&&(I={}),I.createIfMissing=I.createIfMissing!==!1,I.errorIfExists=!!I.errorIfExists,this.status="opening",this._open(I,le=>{if(le)return this.status=ie,ee(le);this.status="open",ee()})},X.prototype._open=function(I,ee){this._nextTick(ee)},X.prototype.close=function(I){let ee=this.status;if(typeof I!="function")throw new Error("close() requires a callback argument");this.status="closing",this._close(ie=>{if(ie)return this.status=ee,I(ie);this.status="closed",I()})},X.prototype._close=function(I){this._nextTick(I)},X.prototype.get=function(I,ee,ie){if(typeof ee=="function"&&(ie=ee),typeof ie!="function")throw new Error("get() requires a callback argument");let le=this._checkKey(I);if(le)return this._nextTick(ie,le);I=this._serializeKey(I),(typeof ee!="object"||ee===null)&&(ee={}),ee.asBuffer=ee.asBuffer!==!1,this._get(I,ee,ie)},X.prototype._get=function(I,ee,ie){this._nextTick(function(){ie(new Error("NotFound"))})},X.prototype.getMany=function(I,ee,ie){if(ie=g(ee,ie),ie=o.fromCallback(ie),ee=T(ee),L(this,ie))return ie.promise;if(!Array.isArray(I))return this._nextTick(ie,new Error("getMany() requires an array argument")),ie.promise;if(I.length===0)return this._nextTick(ie,null,[]),ie.promise;typeof ee.asBuffer!="boolean"&&(ee={...ee,asBuffer:!0});let le=new Array(I.length);for(let ye=0;ye<I.length;ye++){let ot=I[ye],qe=this._checkKey(ot);if(qe)return this._nextTick(ie,qe),ie.promise;le[ye]=this._serializeKey(ot)}return this._getMany(le,ee,ie),ie.promise},X.prototype._getMany=function(I,ee,ie){this._nextTick(ie,null,new Array(I.length).fill(void 0))},X.prototype.put=function(I,ee,ie,le){if(typeof ie=="function"&&(le=ie),typeof le!="function")throw new Error("put() requires a callback argument");let ye=this._checkKey(I)||this._checkValue(ee);if(ye)return this._nextTick(le,ye);I=this._serializeKey(I),ee=this._serializeValue(ee),(typeof ie!="object"||ie===null)&&(ie={}),this._put(I,ee,ie,le)},X.prototype._put=function(I,ee,ie,le){this._nextTick(le)},X.prototype.del=function(I,ee,ie){if(typeof ee=="function"&&(ie=ee),typeof ie!="function")throw new Error("del() requires a callback argument");let le=this._checkKey(I);if(le)return this._nextTick(ie,le);I=this._serializeKey(I),(typeof ee!="object"||ee===null)&&(ee={}),this._del(I,ee,ie)},X.prototype._del=function(I,ee,ie){this._nextTick(ie)},X.prototype.batch=function(I,ee,ie){if(!arguments.length)return this._chainedBatch();if(typeof ee=="function"&&(ie=ee),typeof I=="function"&&(ie=I),typeof ie!="function")throw new Error("batch(array) requires a callback argument");if(!Array.isArray(I))return this._nextTick(ie,new Error("batch(array) requires an array argument"));if(I.length===0)return this._nextTick(ie);(typeof ee!="object"||ee===null)&&(ee={});let le=new Array(I.length);for(let ye=0;ye<I.length;ye++){if(typeof I[ye]!="object"||I[ye]===null)return this._nextTick(ie,new Error("batch(array) element must be an object and not `null`"));let ot=Object.assign({},I[ye]);if(ot.type!=="put"&&ot.type!=="del")return this._nextTick(ie,new Error("`type` must be 'put' or 'del'"));let qe=this._checkKey(ot.key);if(qe)return this._nextTick(ie,qe);if(ot.key=this._serializeKey(ot.key),ot.type==="put"){let Ee=this._checkValue(ot.value);if(Ee)return this._nextTick(ie,Ee);ot.value=this._serializeValue(ot.value)}le[ye]=ot}this._batch(le,ee,ie)},X.prototype._batch=function(I,ee,ie){this._nextTick(ie)},X.prototype.clear=function(I,ee){if(typeof I=="function")ee=I;else if(typeof ee!="function")throw new Error("clear() requires a callback argument");I=re(this,I),I.reverse=!!I.reverse,I.limit="limit"in I?I.limit:-1,this._clear(I,ee)},X.prototype._clear=function(I,ee){I.keys=!0,I.values=!1,I.keyAsBuffer=!0,I.valueAsBuffer=!0;let ie=this._iterator(I),le={},ye=ot=>{if(ot)return ie.end(function(){ee(ot)});ie.next((qe,Ee)=>{if(qe)return ye(qe);if(Ee===void 0)return ie.end(ee);this._del(Ee,le,ye)})};ye()},X.prototype._setupIteratorOptions=function(I){return I=re(this,I),I.reverse=!!I.reverse,I.keys=I.keys!==!1,I.values=I.values!==!1,I.limit="limit"in I?I.limit:-1,I.keyAsBuffer=I.keyAsBuffer!==!1,I.valueAsBuffer=I.valueAsBuffer!==!1,I};function re(I,ee){let ie={};for(let le in ee){if(!P.call(ee,le))continue;if(le==="start"||le==="end")throw new Error('Legacy range options ("start" and "end") have been removed');let ye=ee[le];q(le)&&(ye=I._serializeKey(ye)),ie[le]=ye}return ie}function q(I){return V.indexOf(I)!==-1}X.prototype.iterator=function(I){return(typeof I!="object"||I===null)&&(I={}),I=this._setupIteratorOptions(I),this._iterator(I)},X.prototype._iterator=function(I){return new y(this)},X.prototype._chainedBatch=function(){return new E(this)},X.prototype._serializeKey=function(I){return I},X.prototype._serializeValue=function(I){return I},X.prototype._checkKey=function(I){if(I==null)return new Error("key cannot be `null` or `undefined`");if(n(I)&&I.length===0)return new Error("key cannot be an empty Buffer");if(I==="")return new Error("key cannot be an empty String");if(Array.isArray(I)&&I.length===0)return new Error("key cannot be an empty Array")},X.prototype._checkValue=function(I){if(I==null)return new Error("value cannot be `null` or `undefined`")},X.prototype.isOperational=function(){return this.status==="open"||this._isOperational()},X.prototype._isOperational=function(){return!1},X.prototype._nextTick=na(),t.exports=X;function L(I,ee){return I.isOperational()?!1:(I._nextTick(ee,new Error("Database is not open")),!0)}}),Nt=h(e=>{u(),e.AbstractLevelDOWN=Y0(),e.AbstractIterator=Kf(),e.AbstractChainedBatch=zf$1()}),Gf$1=h(e=>{u(),e.getCallback=function(t,r,n){let o=t[t.length-1];if(typeof o!="function"){let y=new Promise((E,g)=>{t.push(o=function(T,...P){T?g(T):E(n?n(...P):P[0])})});o[r]=y}return o}}),rv=h((e,t)=>{u();var{AbstractIterator:r}=Nt(),n=Te(),o=Gf$1().getCallback,y=Symbol("options"),E=Symbol("iterator"),g=Symbol("operations"),T=Symbol("promise");function P(V,X){r.call(this,V),this[y]=X,this[E]=null,this[g]=[]}n(P,r),P.prototype.setDb=function(V){this[E]=V.iterator(this[y]);for(let X of this[g].splice(0,this[g].length))this[E][X.method](...X.args)},P.prototype.next=function(...V){if(this.db.status==="open")return this[E].next(...V);let X=o(V,T,function(re,q){if(!(re===void 0&&q===void 0))return[re,q]});return this.db.status==="opening"?this[g].push({method:"next",args:V}):this._nextTick(X,new Error("Database is not open")),X[T]||this},P.prototype.seek=function(...V){if(this.db.status==="open")this[E].seek(...V);else if(this.db.status==="opening")this[g].push({method:"seek",args:V});else throw new Error("Database is not open")},P.prototype.end=function(...V){if(this.db.status==="open")return this[E].end(...V);let X=o(V,T);return this.db.status==="opening"?this[g].push({method:"end",args:V}):this._nextTick(X,new Error("Database is not open")),X[T]||this};for(let V of["next","seek","end"])P.prototype["_"+V]=function(){throw new Error("Did not expect private method to be called: "+V)};t.exports=P}),iv=h((e,t)=>{u();var{AbstractChainedBatch:r}=Nt(),n=Symbol("operations");t.exports=class extends r{constructor(o){super(o),this[n]=[]}_put(o,y,E){this[n].push({...E,type:"put",key:o,value:y})}_del(o,y){this[n].push({...y,type:"del",key:o})}_clear(){this[n]=[]}_write(o,y){this.db.batch(this[n],o,y)}}}),cv=h((e,t)=>{u();var{AbstractLevelDOWN:r}=Nt(),n=Te(),o=rv(),y=iv(),E=Gf$1().getCallback,g=["put","get","getMany","del","batch","clear"],T=["approximateSize","compactRange"],P=Symbol("innerDb"),V=Symbol("operations"),X=Symbol("promise");function re(L){r.call(this,L.supports||{});for(let I of T)typeof L[I]=="function"&&!this.supports.additionalMethods[I]&&(this.supports.additionalMethods[I]=!0);this[P]=L,this[V]=[],q(this)}n(re,r),re.prototype.type="deferred-leveldown",Object.defineProperty(re.prototype,"_db",{enumerable:!0,get(){return this[P]}}),re.prototype._open=function(L,I){let ee=ie=>{if(ie||this[P].status!=="open")return I(ie||new Error("Database is not open"));let le=this[V];this[V]=[];for(let ye of le)ye.iterator?ye.iterator.setDb(this[P]):this[P][ye.method](...ye.args);if(this[V].length>0)throw new Error("Did not expect further operations");I()};this[P].status==="new"||this[P].status==="closed"?this[P].open(L,ee):this._nextTick(ee)},re.prototype._close=function(L){this[P].close(L)},re.prototype._isOperational=function(){return this.status==="opening"};function q(L){let I=Object.keys(L.supports.additionalMethods);for(let ee of g.concat(I))L[ee]=function(...ie){if(ee==="batch"&&ie.length===0)return new y(this);if(this.status==="open")return this[P][ee](...ie);let le=E(ie,X);return this.status==="opening"?this[V].push({method:ee,args:ie}):this._nextTick(le,new Error("Database is not open")),le[X]};L.iterator=function(ee){if(this.status==="open")return this[P].iterator(ee);if(this.status==="opening"){let ie=new o(this,ee);return this[V].push({iterator:ie}),ie}else throw new Error("Database is not open")};for(let ee of g.concat(["iterator"]))L["_"+ee]=function(){throw new Error("Did not expect private method to be called: "+ee)}}t.exports=re,t.exports.DeferredIterator=o}),Jf$1=h((e,t)=>{u(),t.exports=Rn().EventEmitter}),Yf$1=h(()=>{u()}),hv=h((e,t)=>{u();function r(L,I){var ee=Object.keys(L);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(L);I&&(ie=ie.filter(function(le){return Object.getOwnPropertyDescriptor(L,le).enumerable})),ee.push.apply(ee,ie)}return ee}function n(L){for(var I=1;I<arguments.length;I++){var ee=arguments[I]!=null?arguments[I]:{};I%2?r(Object(ee),!0).forEach(function(ie){o(L,ie,ee[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(ee)):r(Object(ee)).forEach(function(ie){Object.defineProperty(L,ie,Object.getOwnPropertyDescriptor(ee,ie))})}return L}function o(L,I,ee){return I in L?Object.defineProperty(L,I,{value:ee,enumerable:!0,configurable:!0,writable:!0}):L[I]=ee,L}function y(L,I){if(!(L instanceof I))throw new TypeError("Cannot call a class as a function")}function E(L,I){for(var ee=0;ee<I.length;ee++){var ie=I[ee];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(L,ie.key,ie)}}function g(L,I,ee){return I&&E(L.prototype,I),ee&&E(L,ee),L}var T=ct$1(),P=T.Buffer,V=Yf$1(),X=V.inspect,re=X&&X.custom||"inspect";function q(L,I,ee){P.prototype.copy.call(L,I,ee)}t.exports=function(){function L(){y(this,L),this.head=null,this.tail=null,this.length=0}return g(L,[{key:"push",value:function(I){var ee={data:I,next:null};this.length>0?this.tail.next=ee:this.head=ee,this.tail=ee,++this.length}},{key:"unshift",value:function(I){var ee={data:I,next:this.head};this.length===0&&(this.tail=ee),this.head=ee,++this.length}},{key:"shift",value:function(){if(this.length!==0){var I=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,I}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(I){if(this.length===0)return"";for(var ee=this.head,ie=""+ee.data;ee=ee.next;)ie+=I+ee.data;return ie}},{key:"concat",value:function(I){if(this.length===0)return P.alloc(0);for(var ee=P.allocUnsafe(I>>>0),ie=this.head,le=0;ie;)q(ie.data,ee,le),le+=ie.data.length,ie=ie.next;return ee}},{key:"consume",value:function(I,ee){var ie;return I<this.head.data.length?(ie=this.head.data.slice(0,I),this.head.data=this.head.data.slice(I)):I===this.head.data.length?ie=this.shift():ie=ee?this._getString(I):this._getBuffer(I),ie}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(I){var ee=this.head,ie=1,le=ee.data;for(I-=le.length;ee=ee.next;){var ye=ee.data,ot=I>ye.length?ye.length:I;if(ot===ye.length?le+=ye:le+=ye.slice(0,I),I-=ot,I===0){ot===ye.length?(++ie,ee.next?this.head=ee.next:this.head=this.tail=null):(this.head=ee,ee.data=ye.slice(ot));break}++ie}return this.length-=ie,le}},{key:"_getBuffer",value:function(I){var ee=P.allocUnsafe(I),ie=this.head,le=1;for(ie.data.copy(ee),I-=ie.data.length;ie=ie.next;){var ye=ie.data,ot=I>ye.length?ye.length:I;if(ye.copy(ee,ee.length-I,0,ot),I-=ot,I===0){ot===ye.length?(++le,ie.next?this.head=ie.next:this.head=this.tail=null):(this.head=ie,ie.data=ye.slice(ot));break}++le}return this.length-=le,ee}},{key:re,value:function(I,ee){return X(this,n({},ee,{depth:0,customInspect:!1}))}}]),L}()}),Xf$1=h((e,t)=>{u();function r(T,P){var V=this,X=this._readableState&&this._readableState.destroyed,re=this._writableState&&this._writableState.destroyed;return X||re?(P?P(T):T&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(E,this,T)):process$1.nextTick(E,this,T)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(T||null,function(q){!P&&q?V._writableState?V._writableState.errorEmitted?process$1.nextTick(o,V):(V._writableState.errorEmitted=!0,process$1.nextTick(n,V,q)):process$1.nextTick(n,V,q):P?(process$1.nextTick(o,V),P(q)):process$1.nextTick(o,V)}),this)}function n(T,P){E(T,P),o(T)}function o(T){T._writableState&&!T._writableState.emitClose||T._readableState&&!T._readableState.emitClose||T.emit("close")}function y(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function E(T,P){T.emit("error",P)}function g(T,P){var V=T._readableState,X=T._writableState;V&&V.autoDestroy||X&&X.autoDestroy?T.destroy(P):T.emit("error",P)}t.exports={destroy:r,undestroy:y,errorOrDestroy:g}}),Mr=h((e,t)=>{u();function r(P,V){P.prototype=Object.create(V.prototype),P.prototype.constructor=P,P.__proto__=V}var n={};function o(P,V,X){X||(X=Error);function re(L,I,ee){return typeof V=="string"?V:V(L,I,ee)}var q=function(L){r(I,L);function I(ee,ie,le){return L.call(this,re(ee,ie,le))||this}return I}(X);q.prototype.name=X.name,q.prototype.code=P,n[P]=q}function y(P,V){if(Array.isArray(P)){var X=P.length;return P=P.map(function(re){return String(re)}),X>2?"one of ".concat(V," ").concat(P.slice(0,X-1).join(", "),", or ")+P[X-1]:X===2?"one of ".concat(V," ").concat(P[0]," or ").concat(P[1]):"of ".concat(V," ").concat(P[0])}else return"of ".concat(V," ").concat(String(P))}function E(P,V,X){return P.substr(!X||X<0?0:+X,V.length)===V}function g(P,V,X){return(X===void 0||X>P.length)&&(X=P.length),P.substring(X-V.length,X)===V}function T(P,V,X){return typeof X!="number"&&(X=0),X+V.length>P.length?!1:P.indexOf(V,X)!==-1}o("ERR_INVALID_OPT_VALUE",function(P,V){return'The value "'+V+'" is invalid for option "'+P+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(P,V,X){var re;typeof V=="string"&&E(V,"not ")?(re="must not be",V=V.replace(/^not /,"")):re="must be";var q;if(g(P," argument"))q="The ".concat(P," ").concat(re," ").concat(y(V,"type"));else{var L=T(P,".")?"property":"argument";q='The "'.concat(P,'" ').concat(L," ").concat(re," ").concat(y(V,"type"))}return q+=". Received type ".concat(typeof X),q},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(P){return"The "+P+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(P){return"Cannot call "+P+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(P){return"Unknown encoding: "+P},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}),el=h((e,t)=>{u();var r=Mr().codes.ERR_INVALID_OPT_VALUE;function n(y,E,g){return y.highWaterMark!=null?y.highWaterMark:E?y[g]:null}function o(y,E,g,T){var P=n(E,T,g);if(P!=null){if(!(isFinite(P)&&Math.floor(P)===P)||P<0){var V=T?g:"highWaterMark";throw new r(V,P)}return Math.floor(P)}return y.objectMode?16:16*1024}t.exports={getHighWaterMark:o}}),_v=h((e,t)=>{u(),t.exports=r;function r(o,y){if(n("noDeprecation"))return o;var E=!1;function g(){if(!E){if(n("throwDeprecation"))throw new Error(y);n("traceDeprecation")?console.trace(y):console.warn(y),E=!0}return o.apply(this,arguments)}return g}function n(o){try{if(!global.localStorage)return!1}catch{return!1}var y=global.localStorage[o];return y==null?!1:String(y).toLowerCase()==="true"}}),il=h((e,t)=>{u(),t.exports=Qt;function r(rr){var Br=this;this.next=null,this.entry=null,this.finish=function(){yo(Br,rr)}}var n;Qt.WritableState=Ie;var o={deprecate:_v()},y=Jf$1(),E=ct$1().Buffer,g=global.Uint8Array||function(){};function T(rr){return E.from(rr)}function P(rr){return E.isBuffer(rr)||rr instanceof g}var V=Xf$1(),X=el(),re=X.getHighWaterMark,q=Mr().codes,L=q.ERR_INVALID_ARG_TYPE,I=q.ERR_METHOD_NOT_IMPLEMENTED,ee=q.ERR_MULTIPLE_CALLBACK,ie=q.ERR_STREAM_CANNOT_PIPE,le=q.ERR_STREAM_DESTROYED,ye=q.ERR_STREAM_NULL_VALUES,ot=q.ERR_STREAM_WRITE_AFTER_END,qe=q.ERR_UNKNOWN_ENCODING,Ee=V.errorOrDestroy;Te()(Qt,y);function it(){}function Ie(rr,Br,je){n=n||jr(),rr=rr||{},typeof je!="boolean"&&(je=Br instanceof n),this.objectMode=!!rr.objectMode,je&&(this.objectMode=this.objectMode||!!rr.writableObjectMode),this.highWaterMark=re(this,rr,"writableHighWaterMark",je),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Gt=rr.decodeStrings===!1;this.decodeStrings=!Gt,this.defaultEncoding=rr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Xt){Gr(Br,Xt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=rr.emitClose!==!1,this.autoDestroy=!!rr.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}Ie.prototype.getBuffer=function(){for(var rr=this.bufferedRequest,Br=[];rr;)Br.push(rr),rr=rr.next;return Br},function(){try{Object.defineProperty(Ie.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var jt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(jt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Qt,Symbol.hasInstance,{value:function(rr){return jt.call(this,rr)?!0:this!==Qt?!1:rr&&rr._writableState instanceof Ie}})):jt=function(rr){return rr instanceof this};function Qt(rr){n=n||jr();var Br=this instanceof n;if(!Br&&!jt.call(Qt,this))return new Qt(rr);this._writableState=new Ie(rr,this,Br),this.writable=!0,rr&&(typeof rr.write=="function"&&(this._write=rr.write),typeof rr.writev=="function"&&(this._writev=rr.writev),typeof rr.destroy=="function"&&(this._destroy=rr.destroy),typeof rr.final=="function"&&(this._final=rr.final)),y.call(this)}Qt.prototype.pipe=function(){Ee(this,new ie)};function sr(rr,Br){var je=new ot;Ee(rr,je),process$1.nextTick(Br,je)}function Pr(rr,Br,je,Gt){var Xt;return je===null?Xt=new ye:typeof je!="string"&&!Br.objectMode&&(Xt=new L("chunk",["string","Buffer"],je)),Xt?(Ee(rr,Xt),process$1.nextTick(Gt,Xt),!1):!0}Qt.prototype.write=function(rr,Br,je){var Gt=this._writableState,Xt=!1,et=!Gt.objectMode&&P(rr);return et&&!E.isBuffer(rr)&&(rr=T(rr)),typeof Br=="function"&&(je=Br,Br=null),et?Br="buffer":Br||(Br=Gt.defaultEncoding),typeof je!="function"&&(je=it),Gt.ending?sr(this,je):(et||Pr(this,Gt,rr,je))&&(Gt.pendingcb++,Xt=Hr(this,Gt,et,rr,Br,je)),Xt},Qt.prototype.cork=function(){this._writableState.corked++},Qt.prototype.uncork=function(){var rr=this._writableState;rr.corked&&(rr.corked--,!rr.writing&&!rr.corked&&!rr.bufferProcessing&&rr.bufferedRequest&&Xr(this,rr))},Qt.prototype.setDefaultEncoding=function(rr){if(typeof rr=="string"&&(rr=rr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((rr+"").toLowerCase())>-1))throw new qe(rr);return this._writableState.defaultEncoding=rr,this},Object.defineProperty(Qt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function zr(rr,Br,je){return!rr.objectMode&&rr.decodeStrings!==!1&&typeof Br=="string"&&(Br=E.from(Br,je)),Br}Object.defineProperty(Qt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Hr(rr,Br,je,Gt,Xt,et){if(!je){var _e=zr(Br,Gt,Xt);Gt!==_e&&(je=!0,Xt="buffer",Gt=_e)}var ir=Br.objectMode?1:Gt.length;Br.length+=ir;var Rr=Br.length<Br.highWaterMark;if(Rr||(Br.needDrain=!0),Br.writing||Br.corked){var vr=Br.lastBufferedRequest;Br.lastBufferedRequest={chunk:Gt,encoding:Xt,isBuf:je,callback:et,next:null},vr?vr.next=Br.lastBufferedRequest:Br.bufferedRequest=Br.lastBufferedRequest,Br.bufferedRequestCount+=1}else en(rr,Br,!1,ir,Gt,Xt,et);return Rr}function en(rr,Br,je,Gt,Xt,et,_e){Br.writelen=Gt,Br.writecb=_e,Br.writing=!0,Br.sync=!0,Br.destroyed?Br.onwrite(new le("write")):je?rr._writev(Xt,Br.onwrite):rr._write(Xt,et,Br.onwrite),Br.sync=!1}function rn(rr,Br,je,Gt,Xt){--Br.pendingcb,je?(process$1.nextTick(Xt,Gt),process$1.nextTick(Jr,rr,Br),rr._writableState.errorEmitted=!0,Ee(rr,Gt)):(Xt(Gt),rr._writableState.errorEmitted=!0,Ee(rr,Gt),Jr(rr,Br))}function wo(rr){rr.writing=!1,rr.writecb=null,rr.length-=rr.writelen,rr.writelen=0}function Gr(rr,Br){var je=rr._writableState,Gt=je.sync,Xt=je.writecb;if(typeof Xt!="function")throw new ee;if(wo(je),Br)rn(rr,je,Gt,Br,Xt);else{var et=Dt(je)||rr.destroyed;!et&&!je.corked&&!je.bufferProcessing&&je.bufferedRequest&&Xr(rr,je),Gt?process$1.nextTick(ni,rr,je,et,Xt):ni(rr,je,et,Xt)}}function ni(rr,Br,je,Gt){je||ki(rr,Br),Br.pendingcb--,Gt(),Jr(rr,Br)}function ki(rr,Br){Br.length===0&&Br.needDrain&&(Br.needDrain=!1,rr.emit("drain"))}function Xr(rr,Br){Br.bufferProcessing=!0;var je=Br.bufferedRequest;if(rr._writev&&je&&je.next){var Gt=Br.bufferedRequestCount,Xt=new Array(Gt),et=Br.corkedRequestsFree;et.entry=je;for(var _e=0,ir=!0;je;)Xt[_e]=je,je.isBuf||(ir=!1),je=je.next,_e+=1;Xt.allBuffers=ir,en(rr,Br,!0,Br.length,Xt,"",et.finish),Br.pendingcb++,Br.lastBufferedRequest=null,et.next?(Br.corkedRequestsFree=et.next,et.next=null):Br.corkedRequestsFree=new r(Br),Br.bufferedRequestCount=0}else{for(;je;){var Rr=je.chunk,vr=je.encoding,Fr=je.callback,st=Br.objectMode?1:Rr.length;if(en(rr,Br,!1,st,Rr,vr,Fr),je=je.next,Br.bufferedRequestCount--,Br.writing)break}je===null&&(Br.lastBufferedRequest=null)}Br.bufferedRequest=je,Br.bufferProcessing=!1}Qt.prototype._write=function(rr,Br,je){je(new I("_write()"))},Qt.prototype._writev=null,Qt.prototype.end=function(rr,Br,je){var Gt=this._writableState;return typeof rr=="function"?(je=rr,rr=null,Br=null):typeof Br=="function"&&(je=Br,Br=null),rr!=null&&this.write(rr,Br),Gt.corked&&(Gt.corked=1,this.uncork()),Gt.ending||ao(this,Gt,je),this},Object.defineProperty(Qt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Dt(rr){return rr.ending&&rr.length===0&&rr.bufferedRequest===null&&!rr.finished&&!rr.writing}function tr(rr,Br){rr._final(function(je){Br.pendingcb--,je&&Ee(rr,je),Br.prefinished=!0,rr.emit("prefinish"),Jr(rr,Br)})}function Wt(rr,Br){!Br.prefinished&&!Br.finalCalled&&(typeof rr._final=="function"&&!Br.destroyed?(Br.pendingcb++,Br.finalCalled=!0,process$1.nextTick(tr,rr,Br)):(Br.prefinished=!0,rr.emit("prefinish")))}function Jr(rr,Br){var je=Dt(Br);if(je&&(Wt(rr,Br),Br.pendingcb===0&&(Br.finished=!0,rr.emit("finish"),Br.autoDestroy))){var Gt=rr._readableState;(!Gt||Gt.autoDestroy&&Gt.endEmitted)&&rr.destroy()}return je}function ao(rr,Br,je){Br.ending=!0,Jr(rr,Br),je&&(Br.finished?process$1.nextTick(je):rr.once("finish",je)),Br.ended=!0,rr.writable=!1}function yo(rr,Br,je){var Gt=rr.entry;for(rr.entry=null;Gt;){var Xt=Gt.callback;Br.pendingcb--,Xt(je),Gt=Gt.next}Br.corkedRequestsFree.next=rr}Object.defineProperty(Qt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(rr){!this._writableState||(this._writableState.destroyed=rr)}}),Qt.prototype.destroy=V.destroy,Qt.prototype._undestroy=V.undestroy,Qt.prototype._destroy=function(rr,Br){Br(rr)}}),jr=h((e,t)=>{u();var r=Object.keys||function(X){var re=[];for(var q in X)re.push(q);return re};t.exports=T;var n=al(),o=il();for(Te()(T,n),y=r(o.prototype),g=0;g<y.length;g++)E=y[g],T.prototype[E]||(T.prototype[E]=o.prototype[E]);var y,E,g;function T(X){if(!(this instanceof T))return new T(X);n.call(this,X),o.call(this,X),this.allowHalfOpen=!0,X&&(X.readable===!1&&(this.readable=!1),X.writable===!1&&(this.writable=!1),X.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",P)))}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function P(){this._writableState.ended||process$1.nextTick(V,this)}function V(X){X.end()}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(X){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=X,this._writableState.destroyed=X)}})}),Pv=h((e,t)=>{u();var r=ct$1(),n=r.Buffer;function o(E,g){for(var T in E)g[T]=E[T]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=y);function y(E,g,T){return n(E,g,T)}y.prototype=Object.create(n.prototype),o(n,y),y.from=function(E,g,T){if(typeof E=="number")throw new TypeError("Argument must not be a number");return n(E,g,T)},y.alloc=function(E,g,T){if(typeof E!="number")throw new TypeError("Argument must be a number");var P=n(E);return g!==void 0?typeof T=="string"?P.fill(g,T):P.fill(g):P.fill(0),P},y.allocUnsafe=function(E){if(typeof E!="number")throw new TypeError("Argument must be a number");return n(E)},y.allocUnsafeSlow=function(E){if(typeof E!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(E)}}),ll$1=h(e=>{u();var t=Pv().Buffer,r=t.isEncoding||function(le){switch(le=""+le,le&&le.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(le){if(!le)return"utf8";for(var ye;;)switch(le){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return le;default:if(ye)return;le=(""+le).toLowerCase(),ye=!0}}function o(le){var ye=n(le);if(typeof ye!="string"&&(t.isEncoding===r||!r(le)))throw new Error("Unknown encoding: "+le);return ye||le}e.StringDecoder=y;function y(le){this.encoding=o(le);var ye;switch(this.encoding){case"utf16le":this.text=re,this.end=q,ye=4;break;case"utf8":this.fillLast=P,ye=4;break;case"base64":this.text=L,this.end=I,ye=3;break;default:this.write=ee,this.end=ie;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(ye)}y.prototype.write=function(le){if(le.length===0)return"";var ye,ot;if(this.lastNeed){if(ye=this.fillLast(le),ye===void 0)return"";ot=this.lastNeed,this.lastNeed=0}else ot=0;return ot<le.length?ye?ye+this.text(le,ot):this.text(le,ot):ye||""},y.prototype.end=X,y.prototype.text=V,y.prototype.fillLast=function(le){if(this.lastNeed<=le.length)return le.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);le.copy(this.lastChar,this.lastTotal-this.lastNeed,0,le.length),this.lastNeed-=le.length};function E(le){return le<=127?0:le>>5===6?2:le>>4===14?3:le>>3===30?4:le>>6===2?-1:-2}function g(le,ye,ot){var qe=ye.length-1;if(qe<ot)return 0;var Ee=E(ye[qe]);return Ee>=0?(Ee>0&&(le.lastNeed=Ee-1),Ee):--qe<ot||Ee===-2?0:(Ee=E(ye[qe]),Ee>=0?(Ee>0&&(le.lastNeed=Ee-2),Ee):--qe<ot||Ee===-2?0:(Ee=E(ye[qe]),Ee>=0?(Ee>0&&(Ee===2?Ee=0:le.lastNeed=Ee-3),Ee):0))}function T(le,ye,ot){if((ye[0]&192)!==128)return le.lastNeed=0,"\uFFFD";if(le.lastNeed>1&&ye.length>1){if((ye[1]&192)!==128)return le.lastNeed=1,"\uFFFD";if(le.lastNeed>2&&ye.length>2&&(ye[2]&192)!==128)return le.lastNeed=2,"\uFFFD"}}function P(le){var ye=this.lastTotal-this.lastNeed,ot=T(this,le);if(ot!==void 0)return ot;if(this.lastNeed<=le.length)return le.copy(this.lastChar,ye,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);le.copy(this.lastChar,ye,0,le.length),this.lastNeed-=le.length}function V(le,ye){var ot=g(this,le,ye);if(!this.lastNeed)return le.toString("utf8",ye);this.lastTotal=ot;var qe=le.length-(ot-this.lastNeed);return le.copy(this.lastChar,0,qe),le.toString("utf8",ye,qe)}function X(le){var ye=le&&le.length?this.write(le):"";return this.lastNeed?ye+"\uFFFD":ye}function re(le,ye){if((le.length-ye)%2===0){var ot=le.toString("utf16le",ye);if(ot){var qe=ot.charCodeAt(ot.length-1);if(qe>=55296&&qe<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=le[le.length-2],this.lastChar[1]=le[le.length-1],ot.slice(0,-1)}return ot}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=le[le.length-1],le.toString("utf16le",ye,le.length-1)}function q(le){var ye=le&&le.length?this.write(le):"";if(this.lastNeed){var ot=this.lastTotal-this.lastNeed;return ye+this.lastChar.toString("utf16le",0,ot)}return ye}function L(le,ye){var ot=(le.length-ye)%3;return ot===0?le.toString("base64",ye):(this.lastNeed=3-ot,this.lastTotal=3,ot===1?this.lastChar[0]=le[le.length-1]:(this.lastChar[0]=le[le.length-2],this.lastChar[1]=le[le.length-1]),le.toString("base64",ye,le.length-ot))}function I(le){var ye=le&&le.length?this.write(le):"";return this.lastNeed?ye+this.lastChar.toString("base64",0,3-this.lastNeed):ye}function ee(le){return le.toString(this.encoding)}function ie(le){return le&&le.length?this.write(le):""}}),pa=h((e,t)=>{u();var r=Mr().codes.ERR_STREAM_PREMATURE_CLOSE;function n(g){var T=!1;return function(){if(!T){T=!0;for(var P=arguments.length,V=new Array(P),X=0;X<P;X++)V[X]=arguments[X];g.apply(this,V)}}}function o(){}function y(g){return g.setHeader&&typeof g.abort=="function"}function E(g,T,P){if(typeof T=="function")return E(g,null,T);T||(T={}),P=n(P||o);var V=T.readable||T.readable!==!1&&g.readable,X=T.writable||T.writable!==!1&&g.writable,re=function(){g.writable||L()},q=g._writableState&&g._writableState.finished,L=function(){X=!1,q=!0,V||P.call(g)},I=g._readableState&&g._readableState.endEmitted,ee=function(){V=!1,I=!0,X||P.call(g)},ie=function(ot){P.call(g,ot)},le=function(){var ot;if(V&&!I)return(!g._readableState||!g._readableState.ended)&&(ot=new r),P.call(g,ot);if(X&&!q)return(!g._writableState||!g._writableState.ended)&&(ot=new r),P.call(g,ot)},ye=function(){g.req.on("finish",L)};return y(g)?(g.on("complete",L),g.on("abort",le),g.req?ye():g.on("request",ye)):X&&!g._writableState&&(g.on("end",re),g.on("close",re)),g.on("end",ee),g.on("finish",L),T.error!==!1&&g.on("error",ie),g.on("close",le),function(){g.removeListener("complete",L),g.removeListener("abort",le),g.removeListener("request",ye),g.req&&g.req.removeListener("finish",L),g.removeListener("end",re),g.removeListener("close",re),g.removeListener("finish",L),g.removeListener("end",ee),g.removeListener("error",ie),g.removeListener("close",le)}}t.exports=E}),qv=h((e,t)=>{u();var r;function n(ye,ot,qe){return ot in ye?Object.defineProperty(ye,ot,{value:qe,enumerable:!0,configurable:!0,writable:!0}):ye[ot]=qe,ye}var o=pa(),y=Symbol("lastResolve"),E=Symbol("lastReject"),g=Symbol("error"),T=Symbol("ended"),P=Symbol("lastPromise"),V=Symbol("handlePromise"),X=Symbol("stream");function re(ye,ot){return{value:ye,done:ot}}function q(ye){var ot=ye[y];if(ot!==null){var qe=ye[X].read();qe!==null&&(ye[P]=null,ye[y]=null,ye[E]=null,ot(re(qe,!1)))}}function L(ye){process$1.nextTick(q,ye)}function I(ye,ot){return function(qe,Ee){ye.then(function(){if(ot[T]){qe(re(void 0,!0));return}ot[V](qe,Ee)},Ee)}}var ee=Object.getPrototypeOf(function(){}),ie=Object.setPrototypeOf((r={get stream(){return this[X]},next:function(){var ye=this,ot=this[g];if(ot!==null)return Promise.reject(ot);if(this[T])return Promise.resolve(re(void 0,!0));if(this[X].destroyed)return new Promise(function(Ie,jt){process$1.nextTick(function(){ye[g]?jt(ye[g]):Ie(re(void 0,!0))})});var qe=this[P],Ee;if(qe)Ee=new Promise(I(qe,this));else{var it=this[X].read();if(it!==null)return Promise.resolve(re(it,!1));Ee=new Promise(this[V])}return this[P]=Ee,Ee}},n(r,Symbol.asyncIterator,function(){return this}),n(r,"return",function(){var ye=this;return new Promise(function(ot,qe){ye[X].destroy(null,function(Ee){if(Ee){qe(Ee);return}ot(re(void 0,!0))})})}),r),ee),le=function(ye){var ot,qe=Object.create(ie,(ot={},n(ot,X,{value:ye,writable:!0}),n(ot,y,{value:null,writable:!0}),n(ot,E,{value:null,writable:!0}),n(ot,g,{value:null,writable:!0}),n(ot,T,{value:ye._readableState.endEmitted,writable:!0}),n(ot,V,{value:function(Ee,it){var Ie=qe[X].read();Ie?(qe[P]=null,qe[y]=null,qe[E]=null,Ee(re(Ie,!1))):(qe[y]=Ee,qe[E]=it)},writable:!0}),ot));return qe[P]=null,o(ye,function(Ee){if(Ee&&Ee.code!=="ERR_STREAM_PREMATURE_CLOSE"){var it=qe[E];it!==null&&(qe[P]=null,qe[y]=null,qe[E]=null,it(Ee)),qe[g]=Ee;return}var Ie=qe[y];Ie!==null&&(qe[P]=null,qe[y]=null,qe[E]=null,Ie(re(void 0,!0))),qe[T]=!0}),ye.on("readable",L.bind(null,qe)),qe};t.exports=le}),$v=h((e,t)=>{u(),t.exports=function(){throw new Error("Readable.from is not available in the browser")}}),al=h((e,t)=>{u(),t.exports=sr;var r;sr.ReadableState=Qt,Rn().EventEmitter;var n=function(et,_e){return et.listeners(_e).length},o=Jf$1(),y=ct$1().Buffer,E=global.Uint8Array||function(){};function g(et){return y.from(et)}function T(et){return y.isBuffer(et)||et instanceof E}var P=Yf$1(),V;P&&P.debuglog?V=P.debuglog("stream"):V=function(){};var X=hv(),re=Xf$1(),q=el(),L=q.getHighWaterMark,I=Mr().codes,ee=I.ERR_INVALID_ARG_TYPE,ie=I.ERR_STREAM_PUSH_AFTER_EOF,le=I.ERR_METHOD_NOT_IMPLEMENTED,ye=I.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,ot,qe,Ee;Te()(sr,o);var it=re.errorOrDestroy,Ie=["error","close","destroy","pause","resume"];function jt(et,_e,ir){if(typeof et.prependListener=="function")return et.prependListener(_e,ir);!et._events||!et._events[_e]?et.on(_e,ir):Array.isArray(et._events[_e])?et._events[_e].unshift(ir):et._events[_e]=[ir,et._events[_e]]}function Qt(et,_e,ir){r=r||jr(),et=et||{},typeof ir!="boolean"&&(ir=_e instanceof r),this.objectMode=!!et.objectMode,ir&&(this.objectMode=this.objectMode||!!et.readableObjectMode),this.highWaterMark=L(this,et,"readableHighWaterMark",ir),this.buffer=new X,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=et.emitClose!==!1,this.autoDestroy=!!et.autoDestroy,this.destroyed=!1,this.defaultEncoding=et.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,et.encoding&&(ot||(ot=ll$1().StringDecoder),this.decoder=new ot(et.encoding),this.encoding=et.encoding)}function sr(et){if(r=r||jr(),!(this instanceof sr))return new sr(et);var _e=this instanceof r;this._readableState=new Qt(et,this,_e),this.readable=!0,et&&(typeof et.read=="function"&&(this._read=et.read),typeof et.destroy=="function"&&(this._destroy=et.destroy)),o.call(this)}Object.defineProperty(sr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(et){!this._readableState||(this._readableState.destroyed=et)}}),sr.prototype.destroy=re.destroy,sr.prototype._undestroy=re.undestroy,sr.prototype._destroy=function(et,_e){_e(et)},sr.prototype.push=function(et,_e){var ir=this._readableState,Rr;return ir.objectMode?Rr=!0:typeof et=="string"&&(_e=_e||ir.defaultEncoding,_e!==ir.encoding&&(et=y.from(et,_e),_e=""),Rr=!0),Pr(this,et,_e,!1,Rr)},sr.prototype.unshift=function(et){return Pr(this,et,null,!0,!1)};function Pr(et,_e,ir,Rr,vr){V("readableAddChunk",_e);var Fr=et._readableState;if(_e===null)Fr.reading=!1,Gr(et,Fr);else{var st;if(vr||(st=Hr(Fr,_e)),st)it(et,st);else if(Fr.objectMode||_e&&_e.length>0)if(typeof _e!="string"&&!Fr.objectMode&&Object.getPrototypeOf(_e)!==y.prototype&&(_e=g(_e)),Rr)Fr.endEmitted?it(et,new ye):zr(et,Fr,_e,!0);else if(Fr.ended)it(et,new ie);else{if(Fr.destroyed)return!1;Fr.reading=!1,Fr.decoder&&!ir?(_e=Fr.decoder.write(_e),Fr.objectMode||_e.length!==0?zr(et,Fr,_e,!1):Xr(et,Fr)):zr(et,Fr,_e,!1)}else Rr||(Fr.reading=!1,Xr(et,Fr))}return!Fr.ended&&(Fr.length<Fr.highWaterMark||Fr.length===0)}function zr(et,_e,ir,Rr){_e.flowing&&_e.length===0&&!_e.sync?(_e.awaitDrain=0,et.emit("data",ir)):(_e.length+=_e.objectMode?1:ir.length,Rr?_e.buffer.unshift(ir):_e.buffer.push(ir),_e.needReadable&&ni(et)),Xr(et,_e)}function Hr(et,_e){var ir;return!T(_e)&&typeof _e!="string"&&_e!==void 0&&!et.objectMode&&(ir=new ee("chunk",["string","Buffer","Uint8Array"],_e)),ir}sr.prototype.isPaused=function(){return this._readableState.flowing===!1},sr.prototype.setEncoding=function(et){ot||(ot=ll$1().StringDecoder);var _e=new ot(et);this._readableState.decoder=_e,this._readableState.encoding=this._readableState.decoder.encoding;for(var ir=this._readableState.buffer.head,Rr="";ir!==null;)Rr+=_e.write(ir.data),ir=ir.next;return this._readableState.buffer.clear(),Rr!==""&&this._readableState.buffer.push(Rr),this._readableState.length=Rr.length,this};var en=1073741824;function rn(et){return et>=en?et=en:(et--,et|=et>>>1,et|=et>>>2,et|=et>>>4,et|=et>>>8,et|=et>>>16,et++),et}function wo(et,_e){return et<=0||_e.length===0&&_e.ended?0:_e.objectMode?1:et!==et?_e.flowing&&_e.length?_e.buffer.head.data.length:_e.length:(et>_e.highWaterMark&&(_e.highWaterMark=rn(et)),et<=_e.length?et:_e.ended?_e.length:(_e.needReadable=!0,0))}sr.prototype.read=function(et){V("read",et),et=parseInt(et,10);var _e=this._readableState,ir=et;if(et!==0&&(_e.emittedReadable=!1),et===0&&_e.needReadable&&((_e.highWaterMark!==0?_e.length>=_e.highWaterMark:_e.length>0)||_e.ended))return V("read: emitReadable",_e.length,_e.ended),_e.length===0&&_e.ended?je(this):ni(this),null;if(et=wo(et,_e),et===0&&_e.ended)return _e.length===0&&je(this),null;var Rr=_e.needReadable;V("need readable",Rr),(_e.length===0||_e.length-et<_e.highWaterMark)&&(Rr=!0,V("length less than watermark",Rr)),_e.ended||_e.reading?(Rr=!1,V("reading or ended",Rr)):Rr&&(V("do read"),_e.reading=!0,_e.sync=!0,_e.length===0&&(_e.needReadable=!0),this._read(_e.highWaterMark),_e.sync=!1,_e.reading||(et=wo(ir,_e)));var vr;return et>0?vr=Br(et,_e):vr=null,vr===null?(_e.needReadable=_e.length<=_e.highWaterMark,et=0):(_e.length-=et,_e.awaitDrain=0),_e.length===0&&(_e.ended||(_e.needReadable=!0),ir!==et&&_e.ended&&je(this)),vr!==null&&this.emit("data",vr),vr};function Gr(et,_e){if(V("onEofChunk"),!_e.ended){if(_e.decoder){var ir=_e.decoder.end();ir&&ir.length&&(_e.buffer.push(ir),_e.length+=_e.objectMode?1:ir.length)}_e.ended=!0,_e.sync?ni(et):(_e.needReadable=!1,_e.emittedReadable||(_e.emittedReadable=!0,ki(et)))}}function ni(et){var _e=et._readableState;V("emitReadable",_e.needReadable,_e.emittedReadable),_e.needReadable=!1,_e.emittedReadable||(V("emitReadable",_e.flowing),_e.emittedReadable=!0,process$1.nextTick(ki,et))}function ki(et){var _e=et._readableState;V("emitReadable_",_e.destroyed,_e.length,_e.ended),!_e.destroyed&&(_e.length||_e.ended)&&(et.emit("readable"),_e.emittedReadable=!1),_e.needReadable=!_e.flowing&&!_e.ended&&_e.length<=_e.highWaterMark,rr(et)}function Xr(et,_e){_e.readingMore||(_e.readingMore=!0,process$1.nextTick(Dt,et,_e))}function Dt(et,_e){for(;!_e.reading&&!_e.ended&&(_e.length<_e.highWaterMark||_e.flowing&&_e.length===0);){var ir=_e.length;if(V("maybeReadMore read 0"),et.read(0),ir===_e.length)break}_e.readingMore=!1}sr.prototype._read=function(et){it(this,new le("_read()"))},sr.prototype.pipe=function(et,_e){var ir=this,Rr=this._readableState;switch(Rr.pipesCount){case 0:Rr.pipes=et;break;case 1:Rr.pipes=[Rr.pipes,et];break;default:Rr.pipes.push(et);break}Rr.pipesCount+=1,V("pipe count=%d opts=%j",Rr.pipesCount,_e);var vr=(!_e||_e.end!==!1)&&et!==process$1.stdout&&et!==process$1.stderr,Fr=vr?qr:w;Rr.endEmitted?process$1.nextTick(Fr):ir.once("end",Fr),et.on("unpipe",st);function st(k,he){V("onunpipe"),k===ir&&he&&he.hasUnpiped===!1&&(he.hasUnpiped=!0,ei())}function qr(){V("onend"),et.end()}var Kr=tr(ir);et.on("drain",Kr);var Qr=!1;function ei(){V("cleanup"),et.removeListener("close",Ii),et.removeListener("finish",s),et.removeListener("drain",Kr),et.removeListener("error",_i),et.removeListener("unpipe",st),ir.removeListener("end",qr),ir.removeListener("end",w),ir.removeListener("data",Bi),Qr=!0,Rr.awaitDrain&&(!et._writableState||et._writableState.needDrain)&&Kr()}ir.on("data",Bi);function Bi(k){V("ondata");var he=et.write(k);V("dest.write",he),he===!1&&((Rr.pipesCount===1&&Rr.pipes===et||Rr.pipesCount>1&&Xt(Rr.pipes,et)!==-1)&&!Qr&&(V("false write response, pause",Rr.awaitDrain),Rr.awaitDrain++),ir.pause())}function _i(k){V("onerror",k),w(),et.removeListener("error",_i),n(et,"error")===0&&it(et,k)}jt(et,"error",_i);function Ii(){et.removeListener("finish",s),w()}et.once("close",Ii);function s(){V("onfinish"),et.removeListener("close",Ii),w()}et.once("finish",s);function w(){V("unpipe"),ir.unpipe(et)}return et.emit("pipe",ir),Rr.flowing||(V("pipe resume"),ir.resume()),et};function tr(et){return function(){var _e=et._readableState;V("pipeOnDrain",_e.awaitDrain),_e.awaitDrain&&_e.awaitDrain--,_e.awaitDrain===0&&n(et,"data")&&(_e.flowing=!0,rr(et))}}sr.prototype.unpipe=function(et){var _e=this._readableState,ir={hasUnpiped:!1};if(_e.pipesCount===0)return this;if(_e.pipesCount===1)return et&&et!==_e.pipes?this:(et||(et=_e.pipes),_e.pipes=null,_e.pipesCount=0,_e.flowing=!1,et&&et.emit("unpipe",this,ir),this);if(!et){var Rr=_e.pipes,vr=_e.pipesCount;_e.pipes=null,_e.pipesCount=0,_e.flowing=!1;for(var Fr=0;Fr<vr;Fr++)Rr[Fr].emit("unpipe",this,{hasUnpiped:!1});return this}var st=Xt(_e.pipes,et);return st===-1?this:(_e.pipes.splice(st,1),_e.pipesCount-=1,_e.pipesCount===1&&(_e.pipes=_e.pipes[0]),et.emit("unpipe",this,ir),this)},sr.prototype.on=function(et,_e){var ir=o.prototype.on.call(this,et,_e),Rr=this._readableState;return et==="data"?(Rr.readableListening=this.listenerCount("readable")>0,Rr.flowing!==!1&&this.resume()):et==="readable"&&!Rr.endEmitted&&!Rr.readableListening&&(Rr.readableListening=Rr.needReadable=!0,Rr.flowing=!1,Rr.emittedReadable=!1,V("on readable",Rr.length,Rr.reading),Rr.length?ni(this):Rr.reading||process$1.nextTick(Jr,this)),ir},sr.prototype.addListener=sr.prototype.on,sr.prototype.removeListener=function(et,_e){var ir=o.prototype.removeListener.call(this,et,_e);return et==="readable"&&process$1.nextTick(Wt,this),ir},sr.prototype.removeAllListeners=function(et){var _e=o.prototype.removeAllListeners.apply(this,arguments);return(et==="readable"||et===void 0)&&process$1.nextTick(Wt,this),_e};function Wt(et){var _e=et._readableState;_e.readableListening=et.listenerCount("readable")>0,_e.resumeScheduled&&!_e.paused?_e.flowing=!0:et.listenerCount("data")>0&&et.resume()}function Jr(et){V("readable nexttick read 0"),et.read(0)}sr.prototype.resume=function(){var et=this._readableState;return et.flowing||(V("resume"),et.flowing=!et.readableListening,ao(this,et)),et.paused=!1,this};function ao(et,_e){_e.resumeScheduled||(_e.resumeScheduled=!0,process$1.nextTick(yo,et,_e))}function yo(et,_e){V("resume",_e.reading),_e.reading||et.read(0),_e.resumeScheduled=!1,et.emit("resume"),rr(et),_e.flowing&&!_e.reading&&et.read(0)}sr.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function rr(et){var _e=et._readableState;for(V("flow",_e.flowing);_e.flowing&&et.read()!==null;);}sr.prototype.wrap=function(et){var _e=this,ir=this._readableState,Rr=!1;et.on("end",function(){if(V("wrapped end"),ir.decoder&&!ir.ended){var st=ir.decoder.end();st&&st.length&&_e.push(st)}_e.push(null)}),et.on("data",function(st){if(V("wrapped data"),ir.decoder&&(st=ir.decoder.write(st)),!(ir.objectMode&&st==null)&&!(!ir.objectMode&&(!st||!st.length))){var qr=_e.push(st);qr||(Rr=!0,et.pause())}});for(var vr in et)this[vr]===void 0&&typeof et[vr]=="function"&&(this[vr]=function(st){return function(){return et[st].apply(et,arguments)}}(vr));for(var Fr=0;Fr<Ie.length;Fr++)et.on(Ie[Fr],this.emit.bind(this,Ie[Fr]));return this._read=function(st){V("wrapped _read",st),Rr&&(Rr=!1,et.resume())},this},typeof Symbol=="function"&&(sr.prototype[Symbol.asyncIterator]=function(){return qe===void 0&&(qe=qv()),qe(this)}),Object.defineProperty(sr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(sr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(sr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(et){this._readableState&&(this._readableState.flowing=et)}}),sr._fromList=Br,Object.defineProperty(sr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Br(et,_e){if(_e.length===0)return null;var ir;return _e.objectMode?ir=_e.buffer.shift():!et||et>=_e.length?(_e.decoder?ir=_e.buffer.join(""):_e.buffer.length===1?ir=_e.buffer.first():ir=_e.buffer.concat(_e.length),_e.buffer.clear()):ir=_e.buffer.consume(et,_e.decoder),ir}function je(et){var _e=et._readableState;V("endReadable",_e.endEmitted),_e.endEmitted||(_e.ended=!0,process$1.nextTick(Gt,_e,et))}function Gt(et,_e){if(V("endReadableNT",et.endEmitted,et.length),!et.endEmitted&&et.length===0&&(et.endEmitted=!0,_e.readable=!1,_e.emit("end"),et.autoDestroy)){var ir=_e._writableState;(!ir||ir.autoDestroy&&ir.finished)&&_e.destroy()}}typeof Symbol=="function"&&(sr.from=function(et,_e){return Ee===void 0&&(Ee=$v()),Ee(sr,et,_e)});function Xt(et,_e){for(var ir=0,Rr=et.length;ir<Rr;ir++)if(et[ir]===_e)return ir;return-1}}),_l$1=h((e,t)=>{u(),t.exports=P;var r=Mr().codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,y=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,E=r.ERR_TRANSFORM_WITH_LENGTH_0,g=jr();Te()(P,g);function T(re,q){var L=this._transformState;L.transforming=!1;var I=L.writecb;if(I===null)return this.emit("error",new o);L.writechunk=null,L.writecb=null,q!=null&&this.push(q),I(re);var ee=this._readableState;ee.reading=!1,(ee.needReadable||ee.length<ee.highWaterMark)&&this._read(ee.highWaterMark)}function P(re){if(!(this instanceof P))return new P(re);g.call(this,re),this._transformState={afterTransform:T.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,re&&(typeof re.transform=="function"&&(this._transform=re.transform),typeof re.flush=="function"&&(this._flush=re.flush)),this.on("prefinish",V)}function V(){var re=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(q,L){X(re,q,L)}):X(this,null,null)}P.prototype.push=function(re,q){return this._transformState.needTransform=!1,g.prototype.push.call(this,re,q)},P.prototype._transform=function(re,q,L){L(new n("_transform()"))},P.prototype._write=function(re,q,L){var I=this._transformState;if(I.writecb=L,I.writechunk=re,I.writeencoding=q,!I.transforming){var ee=this._readableState;(I.needTransform||ee.needReadable||ee.length<ee.highWaterMark)&&this._read(ee.highWaterMark)}},P.prototype._read=function(re){var q=this._transformState;q.writechunk!==null&&!q.transforming?(q.transforming=!0,this._transform(q.writechunk,q.writeencoding,q.afterTransform)):q.needTransform=!0},P.prototype._destroy=function(re,q){g.prototype._destroy.call(this,re,function(L){q(L)})};function X(re,q,L){if(q)return re.emit("error",q);if(L!=null&&re.push(L),re._writableState.length)throw new E;if(re._transformState.transforming)throw new y;return re.push(null)}}),nE=h((e,t)=>{u(),t.exports=n;var r=_l$1();Te()(n,r);function n(o){if(!(this instanceof n))return new n(o);r.call(this,o)}n.prototype._transform=function(o,y,E){E(null,o)}}),uE=h((e,t)=>{u();var r;function n(L){var I=!1;return function(){I||(I=!0,L.apply(void 0,arguments))}}var o=Mr().codes,y=o.ERR_MISSING_ARGS,E=o.ERR_STREAM_DESTROYED;function g(L){if(L)throw L}function T(L){return L.setHeader&&typeof L.abort=="function"}function P(L,I,ee,ie){ie=n(ie);var le=!1;L.on("close",function(){le=!0}),r===void 0&&(r=pa()),r(L,{readable:I,writable:ee},function(ot){if(ot)return ie(ot);le=!0,ie()});var ye=!1;return function(ot){if(!le&&!ye){if(ye=!0,T(L))return L.abort();if(typeof L.destroy=="function")return L.destroy();ie(ot||new E("pipe"))}}}function V(L){L()}function X(L,I){return L.pipe(I)}function re(L){return!L.length||typeof L[L.length-1]!="function"?g:L.pop()}function q(){for(var L=arguments.length,I=new Array(L),ee=0;ee<L;ee++)I[ee]=arguments[ee];var ie=re(I);if(Array.isArray(I[0])&&(I=I[0]),I.length<2)throw new y("streams");var le,ye=I.map(function(ot,qe){var Ee=qe<I.length-1,it=qe>0;return P(ot,Ee,it,function(Ie){le||(le=Ie),Ie&&ye.forEach(V),!Ee&&(ye.forEach(V),ie(le))})});return I.reduce(X)}t.exports=q}),fE=h((e,t)=>{u(),e=t.exports=al(),e.Stream=e,e.Readable=e,e.Writable=il(),e.Duplex=jr(),e.Transform=_l$1(),e.PassThrough=nE(),e.finished=pa(),e.pipeline=uE()}),pE=h((e,t)=>{u();var r=Te(),{Readable:n}=fE();t.exports=o,r(o,n);function o(y,E){if(!(this instanceof o))return new o(y,E);E=E||{},n.call(this,Object.assign({},E,{objectMode:!0})),this._iterator=y,this._options=E,this.on("end",this.destroy.bind(this,null,null))}o.prototype._read=function(){this.destroyed||this._iterator.next((y,E,g)=>{if(!this.destroyed){if(y)return this.destroy(y);E===void 0&&g===void 0?this.push(null):this._options.keys!==!1&&this._options.values===!1?this.push(E):this._options.keys===!1&&this._options.values!==!1?this.push(g):this.push({key:E,value:g})}})},o.prototype._destroy=function(y,E){this._iterator.end(function(g){E(y||g)})}}),_a$1=h((e,t)=>{u();function r(o,y){let E=function(g,T){if(typeof g=="object"&&g!==null&&(T=T||g,g=g.message||g.name),g=g||"",T=T||void 0,typeof T=="object"&&T.type===o&&T.message===g)return T;Object.defineProperty(this,"type",{value:o,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"name",{value:o,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"cause",{value:T,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"message",{value:g,enumerable:!1,writable:!0,configurable:!0}),Error.call(this),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,E)};return E.prototype=new y,E}var n=r("LevelUPError",Error);t.exports={LevelUPError:n,InitializationError:r("InitializationError",n),OpenError:r("OpenError",n),ReadError:r("ReadError",n),WriteError:r("WriteError",n),NotFoundError:r("NotFoundError",n),EncodingError:r("EncodingError",n)},t.exports.NotFoundError.prototype.notFound=!0,t.exports.NotFoundError.prototype.status=404}),ro$1=h(e=>{u(),e.getCallback=function(t,r){return typeof t=="function"?t:r},e.getOptions=function(t){return typeof t=="object"&&t!==null?t:{}}}),yE=h((e,t)=>{u();var r=_a$1().WriteError,n=ta(),o=ro$1().getCallback,y=ro$1().getOptions;function E(g){this.db=g,this.batch=g.db.batch(),this.ops=[],this.length=0}E.prototype.put=function(g,T,P){try{this.batch.put(g,T,P)}catch(V){throw new r(V)}return this.ops.push({...P,type:"put",key:g,value:T}),this.length++,this},E.prototype.del=function(g,T){try{this.batch.del(g,T)}catch(P){throw new r(P)}return this.ops.push({...T,type:"del",key:g}),this.length++,this},E.prototype.clear=function(){try{this.batch.clear()}catch(g){throw new r(g)}return this.ops=[],this.length=0,this},E.prototype.write=function(g,T){let P=this.db,V=this.ops;T=o(g,T),T=n.fromCallback(T),g=y(g);try{this.batch.write(g,function(X){if(X)return T(new r(X));P.emit("batch",V),T()})}catch(X){throw new r(X)}return T.promise},t.exports=E}),wE=h((e,t)=>{u();var r=ra();t.exports=function(n,...o){o.length===0?r(n):r(()=>n(...o))}}),EE=h((e,t)=>{u();var r=Rn().EventEmitter,n=P0().inherits,o=cv(),y=pE(),E=yE(),g=_a$1(),T=Uf$1(),P=ta(),V=ro$1().getCallback,X=ro$1().getOptions,re=wE(),q=g.WriteError,L=g.ReadError,I=g.NotFoundError,ee=g.OpenError,ie=g.InitializationError;function le(ot,qe,Ee){if(!(this instanceof le))return new le(ot,qe,Ee);let it;if(r.call(this),this.setMaxListeners(1/0),typeof qe=="function"&&(Ee=qe,qe={}),qe=qe||{},!ot||typeof ot!="object"){if(it=new ie("First argument must be an abstract-leveldown compliant store"),typeof Ee=="function")return re(Ee,it);throw it}if(typeof ot.status!="string")throw new Error(".status required, old abstract-leveldown");this.options=X(qe),this._db=ot,this.db=null,this.open(Ee||(Ie=>{Ie&&this.emit("error",Ie)})),this.supports=T(this.db.supports,{status:!0,deferredOpen:!0,openCallback:!0,promises:!0,streams:!0});for(let Ie of Object.keys(this.supports.additionalMethods))this[Ie]==null&&(this[Ie]=function(...jt){return this.db[Ie](...jt)})}le.prototype.emit=r.prototype.emit,le.prototype.once=r.prototype.once,n(le,r),Object.defineProperty(le.prototype,"status",{enumerable:!0,get(){return this.db.status}}),le.prototype.isOperational=function(){return this.db.status==="open"||this.db.status==="opening"},le.prototype.open=function(ot,qe){return typeof ot=="function"&&(qe=ot,ot=null),qe=P.fromCallback(qe),ot||(ot=this.options),this.db&&this.isOpen()?(re(qe,null,this),qe.promise):this.db&&this._isOpening()?(this.once("open",()=>{qe(null,this)}),qe.promise):(this.db=new o(this._db),this.emit("opening"),this.db.open(ot,Ee=>{if(Ee)return qe(new ee(Ee));this.db=this._db,qe(null,this),this.emit("open"),this.emit("ready")}),qe.promise)},le.prototype.close=function(ot){return ot=P.fromCallback(ot),this.isOpen()?(this.db.close((qe,...Ee)=>{this.emit("closed"),ot(qe,...Ee)}),this.emit("closing")):this.isClosed()?re(ot):this.db.status==="closing"?this.once("closed",ot):this._isOpening()&&this.once("open",()=>{this.close(ot)}),ot.promise},le.prototype.isOpen=function(){return this.db.status==="open"},le.prototype._isOpening=function(){return this.db.status==="opening"},le.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},le.prototype.get=function(ot,qe,Ee){return Ee=V(qe,Ee),Ee=P.fromCallback(Ee),ye(this,Ee)||(qe=X(qe),this.db.get(ot,qe,function(it,Ie){if(it)return/notfound/i.test(it)||it.notFound?it=new I("Key not found in database ["+ot+"]",it):it=new L(it),Ee(it);Ee(null,Ie)})),Ee.promise},le.prototype.getMany=function(ot,qe,Ee){return this.db.getMany(ot,qe,Ee)},le.prototype.put=function(ot,qe,Ee,it){return it=V(Ee,it),it=P.fromCallback(it),ye(this,it)||(Ee=X(Ee),this.db.put(ot,qe,Ee,Ie=>{if(Ie)return it(new q(Ie));this.emit("put",ot,qe),it()})),it.promise},le.prototype.del=function(ot,qe,Ee){return Ee=V(qe,Ee),Ee=P.fromCallback(Ee),ye(this,Ee)||(qe=X(qe),this.db.del(ot,qe,it=>{if(it)return Ee(new q(it));this.emit("del",ot),Ee()})),Ee.promise},le.prototype.batch=function(ot,qe,Ee){return arguments.length?(typeof ot=="function"?Ee=ot:Ee=V(qe,Ee),Ee=P.fromCallback(Ee),ye(this,Ee)||(qe=X(qe),this.db.batch(ot,qe,it=>{if(it)return Ee(new q(it));this.emit("batch",ot),Ee()})),Ee.promise):new E(this)},le.prototype.iterator=function(ot){return this.db.iterator(ot)},le.prototype.clear=function(ot,qe){return qe=V(ot,qe),ot=X(ot),qe=P.fromCallback(qe),ye(this,qe)||this.db.clear(ot,Ee=>{if(Ee)return qe(new q(Ee));this.emit("clear",ot),qe()}),qe.promise},le.prototype.readStream=le.prototype.createReadStream=function(ot){return ot=Object.assign({keys:!0,values:!0},ot),typeof ot.limit!="number"&&(ot.limit=-1),new y(this.db.iterator(ot),ot)},le.prototype.keyStream=le.prototype.createKeyStream=function(ot){return this.createReadStream(Object.assign({},ot,{keys:!0,values:!1}))},le.prototype.valueStream=le.prototype.createValueStream=function(ot){return this.createReadStream(Object.assign({},ot,{keys:!1,values:!0}))},le.prototype.toString=function(){return"LevelUP"},le.prototype.type="levelup",le.prototype._nextTick=re;function ye(ot,qe){return ot.isOperational()?!1:(re(qe,new L("Database is not open")),!0)}le.errors=g,t.exports=le}),_E=h(e=>{u();var{Buffer:t}=ct$1();e.utf8=e["utf-8"]={encode:function(y){return o(y)?y:String(y)},decode:n,buffer:!1,type:"utf8"},e.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},e.binary={encode:function(y){return o(y)?y:t.from(y)},decode:n,buffer:!0,type:"binary"},e.none={encode:n,decode:n,buffer:!1,type:"id"},e.id=e.none;var r=["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"];for(let y of r)e[y]={encode:function(E){return o(E)?E:t.from(E,y)},decode:function(E){return E.toString(y)},buffer:!0,type:y};function n(y){return y}function o(y){return y==null||t.isBuffer(y)}}),DE=h((e,t)=>{u();var r=_E(),n=new Set(["lt","gt","lte","gte"]);t.exports=o;function o(y){if(!(this instanceof o))return new o(y);this.opts=y||{},this.encodings=r}o.prototype._encoding=function(y){return typeof y=="string"&&(y=r[y]),y||(y=r.id),y},o.prototype._keyEncoding=function(y,E){return this._encoding(E&&E.keyEncoding||y&&y.keyEncoding||this.opts.keyEncoding)},o.prototype._valueEncoding=function(y,E){return this._encoding(E&&(E.valueEncoding||E.encoding)||y&&(y.valueEncoding||y.encoding)||this.opts.valueEncoding||this.opts.encoding)},o.prototype.encodeKey=function(y,E,g){return this._keyEncoding(E,g).encode(y)},o.prototype.encodeValue=function(y,E,g){return this._valueEncoding(E,g).encode(y)},o.prototype.decodeKey=function(y,E){return this._keyEncoding(E).decode(y)},o.prototype.decodeValue=function(y,E){return this._valueEncoding(E).decode(y)},o.prototype.encodeBatch=function(y,E){return y.map(g=>{let T={type:g.type,key:this.encodeKey(g.key,E,g)};return this.keyAsBuffer(E,g)&&(T.keyEncoding="binary"),g.prefix&&(T.prefix=g.prefix),"value"in g&&(T.value=this.encodeValue(g.value,E,g),this.valueAsBuffer(E,g)&&(T.valueEncoding="binary")),T})},o.prototype.encodeLtgt=function(y){let E={};for(let g of Object.keys(y)){if(g==="start"||g==="end")throw new Error('Legacy range options ("start" and "end") have been removed');E[g]=n.has(g)?this.encodeKey(y[g],y):y[g]}return E},o.prototype.createStreamDecoder=function(y){return y.keys&&y.values?(E,g)=>({key:this.decodeKey(E,y),value:this.decodeValue(g,y)}):y.keys?E=>this.decodeKey(E,y):y.values?(E,g)=>this.decodeValue(g,y):function(){}},o.prototype.keyAsBuffer=function(y){return this._keyEncoding(y).buffer},o.prototype.valueAsBuffer=function(y){return this._valueEncoding(y).buffer}}),TE=h((e,t)=>{u();var r=Nt().AbstractLevelDOWN,n=Nt().AbstractChainedBatch,o=Nt().AbstractIterator,y=Te(),E=DE(),g=_a$1().EncodingError,T=["approximateSize","compactRange"];t.exports=P;function P(re,q){if(!(this instanceof P))return new P(re,q);let L=re.supports||{},I=L.additionalMethods||{};r.call(this,L),this.supports.encodings=!0,this.supports.additionalMethods={},T.forEach(function(ee){let ie=typeof re[ee]=="function";(I[ee]||ie)&&(this.supports.additionalMethods[ee]=!0,this[ee]=function(le,ye,ot,qe){return le=this.codec.encodeKey(le,ot),ye=this.codec.encodeKey(ye,ot),this.db[ee](le,ye,ot,qe)})},this),q=q||{},typeof q.keyEncoding>"u"&&(q.keyEncoding="utf8"),typeof q.valueEncoding>"u"&&(q.valueEncoding="utf8"),this.db=re,this.codec=new E(q)}y(P,r),P.prototype.type="encoding-down",P.prototype._serializeKey=P.prototype._serializeValue=function(re){return re},P.prototype._open=function(re,q){this.db.open(re,q)},P.prototype._close=function(re){this.db.close(re)},P.prototype._put=function(re,q,L,I){re=this.codec.encodeKey(re,L),q=this.codec.encodeValue(q,L),this.db.put(re,q,L,I)},P.prototype._get=function(re,q,L){re=this.codec.encodeKey(re,q),q.asBuffer=this.codec.valueAsBuffer(q),this.db.get(re,q,(I,ee)=>{if(I)return L(I);try{ee=this.codec.decodeValue(ee,q)}catch(ie){return L(new g(ie))}L(null,ee)})},P.prototype._getMany=function(re,q,L){re=re.map(I=>this.codec.encodeKey(I,q)),q.asBuffer=this.codec.valueAsBuffer(q),this.db.getMany(re,q,(I,ee)=>{if(I)return L(I);let ie=new Array(ee.length);for(let le=0;le<ee.length;le++){if(ee[le]===void 0){ie[le]=void 0;continue}try{ie[le]=this.codec.decodeValue(ee[le],q)}catch(ye){return L(new g(ye))}}L(null,ie)})},P.prototype._del=function(re,q,L){re=this.codec.encodeKey(re,q),this.db.del(re,q,L)},P.prototype._chainedBatch=function(){return new X(this)},P.prototype._batch=function(re,q,L){re=this.codec.encodeBatch(re,q),this.db.batch(re,q,L)},P.prototype._iterator=function(re){return re.keyAsBuffer=this.codec.keyAsBuffer(re),re.valueAsBuffer=this.codec.valueAsBuffer(re),new V(this,re)},P.prototype._clear=function(re,q){re=this.codec.encodeLtgt(re),this.db.clear(re,q)};function V(re,q){o.call(this,re),this.codec=re.codec,this.keys=q.keys,this.values=q.values,this.opts=this.codec.encodeLtgt(q),this.it=re.db.iterator(this.opts)}y(V,o),V.prototype._next=function(re){this.it.next((q,L,I)=>{if(q)return re(q);try{this.keys&&typeof L<"u"?L=this.codec.decodeKey(L,this.opts):L=void 0,this.values&&typeof I<"u"?I=this.codec.decodeValue(I,this.opts):I=void 0}catch(ee){return re(new g(ee))}re(null,L,I)})},V.prototype._seek=function(re){re=this.codec.encodeKey(re,this.opts),this.it.seek(re)},V.prototype._end=function(re){this.it.end(re)};function X(re,q){n.call(this,re),this.codec=re.codec,this.batch=re.db.batch()}y(X,n),X.prototype._put=function(re,q,L){re=this.codec.encodeKey(re,L),q=this.codec.encodeValue(q,L),this.batch.put(re,q)},X.prototype._del=function(re,q){re=this.codec.encodeKey(re,q),this.batch.del(re)},X.prototype._clear=function(){this.batch.clear()},X.prototype._write=function(re,q){this.batch.write(re,q)}}),BE=h((e,t)=>{u();var r=EE(),n=TE();function o(y){function E(T,P,V){return typeof T=="function"?V=T:typeof P=="function"&&(V=P),g(P)||(P=g(T)?T:{}),r(n(y(T,P),P),P,V)}function g(T){return typeof T=="object"&&T!==null}for(let T of["destroy","repair"])typeof y[T]=="function"&&(E[T]=function(...P){y[T](...P)});return E.errors=r.errors,E}t.exports=o}),kE=h((e,t)=>{u(),t.exports=n;var r=ra();function n(o,y,E){if(typeof y!="number")throw new Error("second argument must be a Number");let g,T,P,V,X,re=!0,q;Array.isArray(o)?(g=[],P=T=o.length):(V=Object.keys(o),g={},P=T=V.length);function L(ee){function ie(){E&&E(ee,g),E=null}re?r(ie):ie()}function I(ee,ie,le){if(g[ee]=le,ie&&(X=!0),--P===0||ie)L(ie);else if(!X&&q<T){let ye;V?(ye=V[q],q+=1,o[ye](function(ot,qe){I(ye,ot,qe)})):(ye=q,q+=1,o[ye](function(ot,qe){I(ye,ot,qe)}))}}q=y,P?V?V.some(function(ee,ie){return o[ee](function(le,ye){I(ee,le,ye)}),ie===y-1}):o.some(function(ee,ie){return ee(function(le,ye){I(ie,le,ye)}),ie===y-1}):L(null),re=!1}}),NE=h(e=>{u(),e.compare=function(q,L){if(Buffer$1.isBuffer(q)){for(var I=Math.min(q.length,L.length),ee=0;ee<I;ee++){var ie=q[ee]-L[ee];if(ie)return ie}return q.length-L.length}return q<L?-1:q>L?1:0};function t(q){return q!==void 0&&q!==""}function r(q,L){return Object.hasOwnProperty.call(q,L)}function n(q,L){return Object.hasOwnProperty.call(q,L)&&L}var o=e.lowerBoundKey=function(q){return n(q,"gt")||n(q,"gte")||n(q,"min")||(q.reverse?n(q,"end"):n(q,"start"))||void 0},y=e.lowerBound=function(q,L){var I=o(q);return I?q[I]:L},E=e.lowerBoundInclusive=function(q){return!r(q,"gt")},g=e.upperBoundInclusive=function(q){return!r(q,"lt")},T=e.lowerBoundExclusive=function(q){return!E(q)},P=e.upperBoundExclusive=function(q){return!g(q)},V=e.upperBoundKey=function(q){return n(q,"lt")||n(q,"lte")||n(q,"max")||(q.reverse?n(q,"start"):n(q,"end"))||void 0},X=e.upperBound=function(q,L){var I=V(q);return I?q[I]:L};e.start=function(q,L){return q.reverse?X(q,L):y(q,L)},e.end=function(q,L){return q.reverse?y(q,L):X(q,L)},e.startInclusive=function(q){return q.reverse?g(q):E(q)},e.endInclusive=function(q){return q.reverse?E(q):g(q)};function re(q){return q}e.toLtgt=function(q,L,I,ee,ie){L=L||{},I=I||re;var le=arguments.length>3,ye=e.lowerBoundKey(q),ot=e.upperBoundKey(q);return ye?ye==="gt"?L.gt=I(q.gt,!1):L.gte=I(q[ye],!1):le&&(L.gte=I(ee,!1)),ot?ot==="lt"?L.lt=I(q.lt,!0):L.lte=I(q[ot],!0):le&&(L.lte=I(ie,!0)),q.reverse!=null&&(L.reverse=!!q.reverse),r(L,"max")&&delete L.max,r(L,"min")&&delete L.min,r(L,"start")&&delete L.start,r(L,"end")&&delete L.end,L},e.contains=function(q,L,I){I=I||e.compare;var ee=y(q);if(t(ee)){var ie=I(L,ee);if(ie<0||ie===0&&T(q))return!1}var le=X(q);if(t(le)){var ie=I(L,le);if(ie>0||ie===0&&P(q))return!1}return!0},e.filter=function(q,L){return function(I){return e.contains(q,I,L)}}}),kl=h((e,t)=>{u();var r=NE(),n=Symbol("none");t.exports=function(o){let y=r.lowerBound(o,n),E=r.upperBound(o,n),g=r.lowerBoundExclusive(o,n),T=r.upperBoundExclusive(o,n);return y!==n&&E!==n?IDBKeyRange.bound(y,E,g,T):y!==n?IDBKeyRange.lowerBound(y,g):E!==n?IDBKeyRange.upperBound(E,T):null}}),Fl$1=h((e,t)=>{u();var r=ct$1().Buffer,n=function(){if(global.TextDecoder){let E=new TextDecoder("utf-8");return E.decode.bind(E)}else return function(E){return y(E).toString()}}(),o=function(){if(global.TextDecoder){let E=new TextDecoder("utf-8");return E.decode.bind(E)}else return function(E){return r.from(E).toString()}}();function y(E){let g=r.from(E.buffer);return E.byteLength===E.buffer.byteLength?g:g.slice(E.byteOffset,E.byteOffset+E.byteLength)}t.exports=function(E,g){return E instanceof Uint8Array?g?y(E):n(E):E instanceof ArrayBuffer?g?r.from(E):o(E):g?r.from(String(E)):String(E)}}),KE=h((e,t)=>{u();var r=Te(),n=Nt().AbstractIterator,o=kl(),y=Fl$1(),E=function(){};t.exports=g;function g(T,P,V){if(n.call(this,T),this._limit=V.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keys=V.keys,this._values=V.values,this._keyAsBuffer=V.keyAsBuffer,this._valueAsBuffer=V.valueAsBuffer,this._limit===0){this._completed=!0;return}let X;try{X=o(V)}catch{this._completed=!0;return}this.createIterator(P,X,V.reverse)}r(g,n),g.prototype.createIterator=function(T,P,V){let X=this.db.db.transaction([T],"readonly"),re=X.objectStore(T).openCursor(P,V?"prev":"next");re.onsuccess=q=>{let L=q.target.result;L&&this.onItem(L)},this._transaction=X,X.onabort=()=>{this.onAbort(this._transaction.error||new Error("aborted by user"))},X.oncomplete=()=>{this.onComplete()}},g.prototype.onItem=function(T){this._cache.push(T.key,T.value),(this._limit<=0||++this._count<this._limit)&&T.continue(),this.maybeNext()},g.prototype.onAbort=function(T){this._aborted=!0,this._error=T,this.maybeNext()},g.prototype.onComplete=function(){this._completed=!0,this.maybeNext()},g.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)},g.prototype._next=function(T){if(this._aborted){let P=this._error;this._error=null,this._nextTick(T,P)}else if(this._cache.length>0){let P=this._cache.shift(),V=this._cache.shift();this._keys&&P!==void 0?P=this._deserializeKey(P,this._keyAsBuffer):P=void 0,this._values&&V!==void 0?V=this._deserializeValue(V,this._valueAsBuffer):V=void 0,this._nextTick(T,null,P,V)}else this._completed?this._nextTick(T):this._callback=T},g.prototype._deserializeKey=y,g.prototype._deserializeValue=y,g.prototype._end=function(T){if(this._aborted||this._completed)return this._nextTick(T,this._error);this.onItem=E,this.onAbort=T,this.onComplete=T}}),VE=h((e,t)=>{u();var r=ct$1().Buffer,n=function(){if(global.TextEncoder){let o=new TextEncoder("utf-8");return o.encode.bind(o)}else return r.from}();t.exports=function(o,y){return y?r.isBuffer(o)?o:n(String(o)):String(o)}}),GE=h(e=>{u();var t=ct$1().Buffer;e.test=function(r){return function(n){try{return n.cmp(r,0),!0}catch{return!1}}},e.bufferKeys=e.test(t.alloc(0))}),JE=h((e,t)=>{u(),t.exports=function(r,n,o,y,E){if(y.limit===0)return r._nextTick(E);let g=r.db.transaction([n],"readwrite"),T=g.objectStore(n),P=0;g.oncomplete=function(){E()},g.onabort=function(){E(g.error||new Error("aborted by user"))};let V=T.openKeyCursor?"openKeyCursor":"openCursor",X=y.reverse?"prev":"next";T[V](o,X).onsuccess=function(re){let q=re.target.result;q&&(T.delete(q.key).onsuccess=function(){(y.limit<=0||++P<y.limit)&&q.continue()})}}}),e_=h((e,t)=>{u(),t.exports=re;var r=Nt().AbstractLevelDOWN,n=Te(),o=kE(),y=KE(),E=VE(),g=Fl$1(),T=GE(),P=JE(),V=kl(),X="level-js-";function re(q,L){if(!(this instanceof re))return new re(q,L);if(r.call(this,{bufferKeys:T.bufferKeys(indexedDB),snapshots:!0,permanence:!0,clear:!0,getMany:!0}),L=L||{},typeof q!="string")throw new Error("constructor requires a location string argument");this.location=q,this.prefix=L.prefix==null?X:L.prefix,this.version=parseInt(L.version||1,10)}n(re,r),re.prototype.type="level-js",re.prototype._open=function(q,L){let I=indexedDB.open(this.prefix+this.location,this.version);I.onerror=function(){L(I.error||new Error("unknown error"))},I.onsuccess=()=>{this.db=I.result,L()},I.onupgradeneeded=ee=>{let ie=ee.target.result;ie.objectStoreNames.contains(this.location)||ie.createObjectStore(this.location)}},re.prototype.store=function(q){return this.db.transaction([this.location],q).objectStore(this.location)},re.prototype.await=function(q,L){let I=q.transaction;I.onabort=function(){L(I.error||new Error("aborted by user"))},I.oncomplete=function(){L(null,q.result)}},re.prototype._get=function(q,L,I){let ee=this.store("readonly"),ie;try{ie=ee.get(q)}catch(le){return this._nextTick(I,le)}this.await(ie,function(le,ye){if(le)return I(le);if(ye===void 0)return I(new Error("NotFound"));I(null,g(ye,L.asBuffer))})},re.prototype._getMany=function(q,L,I){let ee=L.asBuffer,ie=this.store("readonly"),le=q.map(ye=>ot=>{let qe;try{qe=ie.get(ye)}catch(Ee){return ot(Ee)}qe.onsuccess=()=>{let Ee=qe.result;ot(null,Ee===void 0?Ee:g(Ee,ee))},qe.onerror=Ee=>{Ee.stopPropagation(),ot(qe.error)}});o(le,16,I)},re.prototype._del=function(q,L,I){let ee=this.store("readwrite"),ie;try{ie=ee.delete(q)}catch(le){return this._nextTick(I,le)}this.await(ie,I)},re.prototype._put=function(q,L,I,ee){let ie=this.store("readwrite"),le;try{le=ie.put(L,q)}catch(ye){return this._nextTick(ee,ye)}this.await(le,ee)},re.prototype._serializeKey=function(q){return E(q,this.supports.bufferKeys)},re.prototype._serializeValue=function(q){return E(q,!0)},re.prototype._iterator=function(q){return new y(this,this.location,q)},re.prototype._batch=function(q,L,I){if(q.length===0)return this._nextTick(I);let ee=this.store("readwrite"),ie=ee.transaction,le=0,ye;ie.onabort=function(){I(ye||ie.error||new Error("aborted by user"))},ie.oncomplete=function(){I()};function ot(){let qe=q[le++],Ee=qe.key,it;try{it=qe.type==="del"?ee.delete(Ee):ee.put(qe.value,Ee)}catch(Ie){ye=Ie,ie.abort();return}le<q.length&&(it.onsuccess=ot)}ot()},re.prototype._clear=function(q,L){let I,ee;try{I=V(q)}catch{return this._nextTick(L)}if(q.limit>=0)return P(this,this.location,I,q,L);try{let ie=this.store("readwrite");ee=I?ie.delete(I):ie.clear()}catch(ie){return this._nextTick(L,ie)}this.await(ee,L)},re.prototype._close=function(q){this.db.close(),this._nextTick(q)},re.prototype.upgrade=function(q){if(this.status!=="open")return this._nextTick(q,new Error("cannot upgrade() before open()"));let L=this.iterator(),I={},ee=this;L._deserializeKey=L._deserializeValue=ot,ie();function ie(qe){if(qe)return ye(qe);L.next(le)}function le(qe,Ee,it){if(qe||Ee===void 0)return ye(qe);let Ie=ee._serializeKey(g(Ee,!0)),jt=ee._serializeValue(g(it,!0));ee._batch([{type:"del",key:Ee},{type:"put",key:Ie,value:jt}],I,ie)}function ye(qe){L.end(function(Ee){q(qe||Ee)})}function ot(qe){return qe}},re.destroy=function(q,L,I){typeof L=="function"&&(I=L,L=X);let ee=indexedDB.deleteDatabase(L+q);ee.onsuccess=function(){I()},ee.onerror=function(ie){I(ie)}}}),r_=h((e,t)=>{u(),t.exports=BE()(e_())}),s_=h((e,t)=>{u();var r=Fi$1();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let y=new r,E,g,T,P=()=>{if(!y.isEmpty()){if(n.writev){let le,ye=[];for(;!y.isEmpty();){if(le=y.shift(),le.error)throw le.error;ye.push(le.value)}return{done:le.done,value:ye}}let ie=y.shift();if(ie.error)throw ie.error;return ie}return T?{done:!0}:new Promise((ie,le)=>{g=ye=>(g=null,ye.error?le(ye.error):n.writev&&!ye.done?ie({done:ye.done,value:[ye.value]}):ie(ye),E)})},V=ie=>g?g(ie):(y.push(ie),E),X=ie=>(y=new r,g?g({error:ie}):(y.push({error:ie}),E)),re=ie=>T?E:V({done:!1,value:ie}),q=ie=>T?E:(T=!0,ie?X(ie):V({done:!0})),L=()=>(y=new r,q(),{done:!0}),I=ie=>(q(ie),{done:!0});if(E={[Symbol.asyncIterator](){return this},next:P,return:L,throw:I,push:re,end:q},!o)return E;let ee=E;return E={[Symbol.asyncIterator](){return this},next(){return ee.next()},throw(ie){return ee.throw(ie),o&&(o(ie),o=null),{done:!0}},return(){return ee.return(),o&&(o(),o=null),{done:!0}},push:re,end(ie){return ee.end(ie),o&&(o(ie),o=null),E}},E}});u();u();_$1(za(),1);var Xw=_$1(We(),1);_$1(dt$1(),1);u();u();u();ge();u();xo();ke$1();yt();var Tt$1="/",np=new TextEncoder().encode(Tt$1),To$1=np[0],A=class{constructor(e,t){if(typeof e=="string")this._buf=oe(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(t==null&&(t=!0),t&&this.clean(),this._buf.byteLength===0||this._buf[0]!==To$1)throw new Error("Invalid key")}toString(e="utf8"){return de(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new A(e.join(Tt$1))}static random(){return new A(eu().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new A(e):e.uint8Array?new A(e.uint8Array()):null}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=np),this._buf[0]!==To$1){let e=new Uint8Array(this._buf.byteLength+1);e.fill(To$1,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===To$1;)this._buf=this._buf.subarray(0,-1)}less(e){let t=this.list(),r=e.list();for(let n=0;n<t.length;n++){if(r.length<n+1)return!1;let o=t[n],y=r[n];if(o<y)return!0;if(o>y)return!1}return t.length<r.length}reverse(){return A.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(Tt$1).slice(1)}type(){return gx(this.baseNamespace())}name(){return mx(this.baseNamespace())}instance(e){return new A(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(Tt$1)||(e+=Tt$1),e+=this.type(),new A(e)}parent(){let e=this.list();return e.length===1?new A(Tt$1):new A(e.slice(0,-1).join(Tt$1))}child(e){return this.toString()===Tt$1?e:e.toString()===Tt$1?this:new A(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return A.withNamespaces([...this.namespaces(),...wx(e.map(t=>t.namespaces()))])}};function gx(e){let t=e.split(":");return t.length<2?"":t.slice(0,-1).join(":")}function mx(e){let t=e.split(":");return t[t.length-1]}function wx(e){return[].concat(...e)}var sp=_$1(We(),1),ap=_$1(Eu(),1);ht$1();ci$1();pt$1();var vx=(0,sp.default)("ipfs:repo:migrator:migration-8");function up(e){return e.child?up(e.child):e}function Ex(e){try{let t=U.decode(`b${e.toString().toLowerCase().slice(1)}`),r=S$1.decode(t).multihash.bytes,n=U.encode(r).slice(1).toUpperCase();return new A(`/${n}`,!1)}catch{return e}}function _x(e){try{let t=U.decode(`b${e.toString().toLowerCase().slice(1)}`),r=Ve(t),n=U.encode(S$1.createV1(ui$1,r).bytes).slice(1);return new A(`/${n.toUpperCase()}`,!1)}catch{return e}}async function op(e,t,r){let n=e.blocks;await n.open();let o=up(n),y=await(0,ap.default)(o.queryKeys({filters:[E=>r(E).toString()!==E.toString()]}));try{let E=0;for await(let g of o.query({})){let T=r(g.key);T.toString()!==g.key.toString()&&(E+=1,vx(`Migrating Block from ${g.key} to ${T}`,await o.has(g.key)),await o.delete(g.key),await o.put(T,g.value),t(E/y*100,`Migrated Block from ${g.key} to ${T}`))}}finally{await n.close()}}var cp={version:8,description:"Transforms key names into base32 encoding and converts Block store to use bare multihashes encoded as base32",migrate:(e,t=()=>{})=>op(e,t,Ex),revert:(e,t=()=>{})=>op(e,t,_x)};u();ge();u();ge();u();var xx=new TextDecoder;function _u(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");let o=e[t++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,t]}function Io(e,t){let r;[r,t]=_u(e,t);let n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function fp(e,t){let r;return[r,t]=_u(e,t),[r&7,r>>3,t]}function Dx(e){let t={},r=e.length,n=0;for(;n<r;){let o,y;if([o,y,n]=fp(e,n),y===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=Io(e,n)}else if(y===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let E;[E,n]=Io(e,n),t.Name=xx.decode(E)}else if(y===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,n]=_u(e,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${y}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function lp(e){let t=e.length,r=0,n,o=!1,y;for(;r<t;){let g,T;if([g,T,r]=fp(e,r),g!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${g}`);if(T===1){if(y)throw new Error("protobuf: (PBNode) duplicate Data section");[y,r]=Io(e,r),n&&(o=!0)}else if(T===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let P;[P,r]=Io(e,r),n.push(Dx(P))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${T}`)}if(r>t)throw new Error("protobuf: (PBNode) unexpected end of data");let E={};return y&&(E.Data=y),E.Links=n||[],E}u();var pp=new TextEncoder,dp=2**32,Ax=2**31;function Sx(e,t){let r=t.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=li$1(t,r,e.Tsize)-1,t[r]=24}if(typeof e.Name=="string"){let n=pp.encode(e.Name);r-=n.length,t.set(n,r),r=li$1(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=li$1(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function hp(e){let t=Ox(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=li$1(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){let y=Sx(e.Links[o],r.subarray(0,n));n-=y,n=li$1(r,n,y)-1,r[n]=18}return r}function Cx(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+cn(r)}if(typeof e.Name=="string"){let r=pp.encode(e.Name).length;t+=1+r+cn(r)}return typeof e.Tsize=="number"&&(t+=1+cn(e.Tsize)),t}function Ox(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+cn(r)}if(e.Links)for(let r of e.Links){let n=Cx(r);t+=1+n+cn(n)}return t}function li$1(e,t,r){t-=cn(r);let n=t;for(;r>=Ax;)e[t++]=r&127|128,r/=128;for(;r>=128;)e[t++]=r&127|128,r>>>=7;return e[t]=r,n}function cn(e){return e%2===0&&e++,Math.floor((Tx(e)+6)/7)}function Tx(e){let t=0;return e>=dp&&(e=Math.floor(e/dp),t=32),e>=1<<16&&(e>>>=16,t+=16),e>=1<<8&&(e>>>=8,t+=8),t+Ix[e]}var Ix=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];u();ge();var Rx=["Data","Links"],Bx=["Hash","Name","Tsize"],yp=new TextEncoder;function Px(e,t){if(e===t)return 0;let r=e.Name?yp.encode(e.Name):[],n=t.Name?yp.encode(t.Name):[],o=r.length,y=n.length;for(let E=0,g=Math.min(o,y);E<g;++E)if(r[E]!==n[E]){o=r[E],y=n[E];break}return o<y?-1:y<o?1:0}function gp(e,t){return!Object.keys(e).some(r=>!t.includes(r))}function mp(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!gp(e,Rx))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!gp(r,Bx))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&Px(r,e.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}var It=112;function di$1(e){mp(e);let t={};return e.Links&&(t.Links=e.Links.map(r=>{let n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),e.Data&&(t.Data=e.Data),hp(t)}function pi$1(e){let t=lp(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(n=>{let o={};try{o.Hash=S$1.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}u();u();u();var kx=["string","number","bigint","symbol"],Fx=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function wp(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;return kx.includes(t)?t:t==="function"?"Function":Array.isArray(e)?"Array":Nx(e)?"Buffer":Lx(e)||"Object"}function Nx(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function Lx(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(Fx.includes(t))return t}u();var m=class{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};m.uint=new m(0,"uint",!0);m.negint=new m(1,"negint",!0);m.bytes=new m(2,"bytes",!0);m.string=new m(3,"string",!0);m.array=new m(4,"array",!1);m.map=new m(5,"map",!1);m.tag=new m(6,"tag",!1);m.float=new m(7,"float",!0);m.false=new m(7,"false",!0);m.true=new m(7,"true",!0);m.null=new m(7,"null",!0);m.undefined=new m(7,"undefined",!0);m.break=new m(7,"break",!0);var x$1=class{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};u();u();var fn$1=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Mx=new TextDecoder,jx=new TextEncoder;function Ro$1(e){return fn$1&&globalThis.Buffer.isBuffer(e)}function Du(e){return e instanceof Uint8Array?Ro$1(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var _p=fn$1?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):vp(e,t,r):(e,t,r)=>r-t>64?Mx.decode(e.subarray(t,r)):vp(e,t,r),xp=fn$1?e=>e.length>64?globalThis.Buffer.from(e):bp(e):e=>e.length>64?jx.encode(e):bp(e),gt=e=>Uint8Array.from(e),ln$1=fn$1?(e,t,r)=>Ro$1(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Dp=fn$1?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Du(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},Ap=fn$1?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Sp(e,t){if(Ro$1(e)&&Ro$1(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function bp(e,t=1/0){let r,n=e.length,o=null,y=[];for(let E=0;E<n;++E){if(r=e.charCodeAt(E),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&y.push(239,191,189);continue}else if(E+1===n){(t-=3)>-1&&y.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&y.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&y.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;y.push(r)}else if(r<2048){if((t-=2)<0)break;y.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;y.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;y.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return y}function vp(e,t,r){let n=[];for(;t<r;){let o=e[t],y=null,E=o>239?4:o>223?3:o>191?2:1;if(t+E<=r){let g,T,P,V;switch(E){case 1:o<128&&(y=o);break;case 2:g=e[t+1],(g&192)===128&&(V=(o&31)<<6|g&63,V>127&&(y=V));break;case 3:g=e[t+1],T=e[t+2],(g&192)===128&&(T&192)===128&&(V=(o&15)<<12|(g&63)<<6|T&63,V>2047&&(V<55296||V>57343)&&(y=V));break;case 4:g=e[t+1],T=e[t+2],P=e[t+3],(g&192)===128&&(T&192)===128&&(P&192)===128&&(V=(o&15)<<18|(g&63)<<12|(T&63)<<6|P&63,V>65535&&V<1114112&&(y=V))}}y===null?(y=65533,E=1):y>65535&&(y-=65536,n.push(y>>>10&1023|55296),y=56320|y&1023),n.push(y),t+=E}return qx(n)}var Ep=4096;function qx(e){let t=e.length;if(t<=Ep)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Ep));return r}var Ux=256,hi$1=class{constructor(e=Ux){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let r=t.length-(this.maxCursor-this.cursor)-1;r<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,r),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Ap(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=ln$1(r,0,this.cursor)}else t=Dp(this.chunks,this.cursor);return e&&this.reset(),t}};u();var C$1="CBOR decode error:",Au="CBOR encode error:";function Rt$1(e,t,r){if(e.length-t<r)throw new Error(`${C$1} not enough data for type`)}u();u();var te=[24,256,65536,4294967296,BigInt("18446744073709551616")];function De(e,t,r){Rt$1(e,t,1);let n=e[t];if(r.strict===!0&&n<te[0])throw new Error(`${C$1} integer encoded in more bytes than necessary (strict decode)`);return n}function Ae(e,t,r){Rt$1(e,t,2);let n=e[t]<<8|e[t+1];if(r.strict===!0&&n<te[1])throw new Error(`${C$1} integer encoded in more bytes than necessary (strict decode)`);return n}function Se$1(e,t,r){Rt$1(e,t,4);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<te[2])throw new Error(`${C$1} integer encoded in more bytes than necessary (strict decode)`);return n}function Ce(e,t,r){Rt$1(e,t,8);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],y=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&y<te[3])throw new Error(`${C$1} integer encoded in more bytes than necessary (strict decode)`);if(y<=Number.MAX_SAFE_INTEGER)return Number(y);if(r.allowBigInt===!0)return y;throw new Error(`${C$1} integers outside of the safe integer range are not supported`)}function Cp(e,t,r,n){return new x$1(m.uint,De(e,t+1,n),2)}function Op(e,t,r,n){return new x$1(m.uint,Ae(e,t+1,n),3)}function Tp(e,t,r,n){return new x$1(m.uint,Se$1(e,t+1,n),5)}function Ip(e,t,r,n){return new x$1(m.uint,Ce(e,t+1,n),9)}function Fe(e,t){return se(e,0,t.value)}function se(e,t,r){if(r<te[0]){let n=Number(r);e.push([t|n])}else if(r<te[1]){let n=Number(r);e.push([t|24,n])}else if(r<te[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<te[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<te[4]){let o=[t|27,0,0,0,0,0,0,0],y=Number(n&BigInt(4294967295)),E=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=y&255,y=y>>8,o[7]=y&255,y=y>>8,o[6]=y&255,y=y>>8,o[5]=y&255,o[4]=E&255,E=E>>8,o[3]=E&255,E=E>>8,o[2]=E&255,E=E>>8,o[1]=E&255,e.push(o)}else throw new Error(`${C$1} encountered BigInt larger than allowable range`)}}Fe.encodedSize=function(e){return se.encodedSize(e.value)};se.encodedSize=function(e){return e<te[0]?1:e<te[1]?2:e<te[2]?3:e<te[3]?5:9};Fe.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};u();function Rp(e,t,r,n){return new x$1(m.negint,-1-De(e,t+1,n),2)}function Bp(e,t,r,n){return new x$1(m.negint,-1-Ae(e,t+1,n),3)}function Pp(e,t,r,n){return new x$1(m.negint,-1-Se$1(e,t+1,n),5)}var Su=BigInt(-1),kp=BigInt(1);function Fp(e,t,r,n){let o=Ce(e,t+1,n);if(typeof o!="bigint"){let y=-1-o;if(y>=Number.MIN_SAFE_INTEGER)return new x$1(m.negint,y,9)}if(n.allowBigInt!==!0)throw new Error(`${C$1} integers outside of the safe integer range are not supported`);return new x$1(m.negint,Su-BigInt(o),9)}function Bo(e,t){let r=t.value,n=typeof r=="bigint"?r*Su-kp:r*-1-1;se(e,t.type.majorEncoded,n)}Bo.encodedSize=function(e){let t=e.value,r=typeof t=="bigint"?t*Su-kp:t*-1-1;return r<te[0]?1:r<te[1]?2:r<te[2]?3:r<te[3]?5:9};Bo.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};u();function gi$1(e,t,r,n){Rt$1(e,t,r+n);let o=ln$1(e,t+r,t+r+n);return new x$1(m.bytes,o,r+n)}function Np(e,t,r,n){return gi$1(e,t,1,r)}function Lp(e,t,r,n){return gi$1(e,t,2,De(e,t+1,n))}function Mp(e,t,r,n){return gi$1(e,t,3,Ae(e,t+1,n))}function jp(e,t,r,n){return gi$1(e,t,5,Se$1(e,t+1,n))}function qp(e,t,r,n){let o=Ce(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C$1} 64-bit integer bytes lengths not supported`);return gi$1(e,t,9,o)}function Po$1(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===m.string?xp(e.value):e.value),e.encodedBytes}function dn$1(e,t){let r=Po$1(t);se(e,t.type.majorEncoded,r.length),e.push(r)}dn$1.encodedSize=function(e){let t=Po$1(e);return se.encodedSize(t.length)+t.length};dn$1.compareTokens=function(e,t){return Kx(Po$1(e),Po$1(t))};function Kx(e,t){return e.length<t.length?-1:e.length>t.length?1:Sp(e,t)}u();function mi$1(e,t,r,n,o){let y=r+n;Rt$1(e,t,y);let E=new x$1(m.string,_p(e,t+r,t+y),y);return o.retainStringBytes===!0&&(E.byteValue=ln$1(e,t+r,t+y)),E}function Up(e,t,r,n){return mi$1(e,t,1,r,n)}function $p(e,t,r,n){return mi$1(e,t,2,De(e,t+1,n),n)}function Kp(e,t,r,n){return mi$1(e,t,3,Ae(e,t+1,n),n)}function zp(e,t,r,n){return mi$1(e,t,5,Se$1(e,t+1,n),n)}function Wp(e,t,r,n){let o=Ce(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C$1} 64-bit integer string lengths not supported`);return mi$1(e,t,9,o,n)}var Vp=dn$1;u();function pn$1(e,t,r,n){return new x$1(m.array,n,r)}function Gp(e,t,r,n){return pn$1(e,t,1,r)}function Hp(e,t,r,n){return pn$1(e,t,2,De(e,t+1,n))}function Jp(e,t,r,n){return pn$1(e,t,3,Ae(e,t+1,n))}function Yp(e,t,r,n){return pn$1(e,t,5,Se$1(e,t+1,n))}function Qp(e,t,r,n){let o=Ce(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C$1} 64-bit integer array lengths not supported`);return pn$1(e,t,9,o)}function Zp(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C$1} indefinite length items not allowed`);return pn$1(e,t,1,1/0)}function ko(e,t){se(e,m.array.majorEncoded,t.value)}ko.compareTokens=Fe.compareTokens;ko.encodedSize=function(e){return se.encodedSize(e.value)};u();function hn$1(e,t,r,n){return new x$1(m.map,n,r)}function Xp(e,t,r,n){return hn$1(e,t,1,r)}function eh(e,t,r,n){return hn$1(e,t,2,De(e,t+1,n))}function th(e,t,r,n){return hn$1(e,t,3,Ae(e,t+1,n))}function rh(e,t,r,n){return hn$1(e,t,5,Se$1(e,t+1,n))}function nh(e,t,r,n){let o=Ce(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C$1} 64-bit integer map lengths not supported`);return hn$1(e,t,9,o)}function ih(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C$1} indefinite length items not allowed`);return hn$1(e,t,1,1/0)}function Fo(e,t){se(e,m.map.majorEncoded,t.value)}Fo.compareTokens=Fe.compareTokens;Fo.encodedSize=function(e){return se.encodedSize(e.value)};u();function oh(e,t,r,n){return new x$1(m.tag,r,1)}function sh(e,t,r,n){return new x$1(m.tag,De(e,t+1,n),2)}function ah(e,t,r,n){return new x$1(m.tag,Ae(e,t+1,n),3)}function uh$1(e,t,r,n){return new x$1(m.tag,Se$1(e,t+1,n),5)}function ch(e,t,r,n){return new x$1(m.tag,Ce(e,t+1,n),9)}function No$1(e,t){se(e,m.tag.majorEncoded,t.value)}No$1.compareTokens=Fe.compareTokens;No$1.encodedSize=function(e){return se.encodedSize(e.value)};u();var Jx=20,Yx=21,Qx=22,Zx=23;function fh(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${C$1} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new x$1(m.null,null,1):new x$1(m.undefined,void 0,1)}function lh(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C$1} indefinite length items not allowed`);return new x$1(m.break,void 0,1)}function Cu(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${C$1} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${C$1} Infinity values are not supported`)}return new x$1(m.float,e,t)}function dh(e,t,r,n){return Cu(Ou(e,t+1),3,n)}function ph(e,t,r,n){return Cu(Tu(e,t+1),5,n)}function hh(e,t,r,n){return Cu(wh(e,t+1),9,n)}function Lo(e,t,r){let n=t.value;if(n===!1)e.push([m.float.majorEncoded|Jx]);else if(n===!0)e.push([m.float.majorEncoded|Yx]);else if(n===null)e.push([m.float.majorEncoded|Qx]);else if(n===void 0)e.push([m.float.majorEncoded|Zx]);else{let o,y=!1;(!r||r.float64!==!0)&&(gh(n),o=Ou(Je,1),n===o||Number.isNaN(n)?(Je[0]=249,e.push(Je.slice(0,3)),y=!0):(mh(n),o=Tu(Je,1),n===o&&(Je[0]=250,e.push(Je.slice(0,5)),y=!0))),y||(Xx(n),o=wh(Je,1),Je[0]=251,e.push(Je.slice(0,9)))}}Lo.encodedSize=function(e,t){let r=e.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!t||t.float64!==!0){gh(r);let n=Ou(Je,1);if(r===n||Number.isNaN(r))return 3;if(mh(r),n=Tu(Je,1),r===n)return 5}return 9};var yh=new ArrayBuffer(9),Ne$1=new DataView(yh,1),Je=new Uint8Array(yh,0);function gh(e){if(e===1/0)Ne$1.setUint16(0,31744,!1);else if(e===-1/0)Ne$1.setUint16(0,64512,!1);else if(Number.isNaN(e))Ne$1.setUint16(0,32256,!1);else{Ne$1.setFloat32(0,e);let t=Ne$1.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)Ne$1.setUint16(0,31744,!1);else if(r===0)Ne$1.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?Ne$1.setUint16(0,0):o<-14?Ne$1.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):Ne$1.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function Ou(e,t){if(e.length-t<2)throw new Error(`${C$1} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,y;return n===0?y=o*2**-24:n!==31?y=(o+1024)*2**(n-25):y=o===0?1/0:NaN,r&32768?-y:y}function mh(e){Ne$1.setFloat32(0,e,!1)}function Tu(e,t){if(e.length-t<4)throw new Error(`${C$1} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Xx(e){Ne$1.setFloat64(0,e,!1)}function wh(e,t){if(e.length-t<8)throw new Error(`${C$1} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}Lo.compareTokens=Fe.compareTokens;function N(e,t,r){throw new Error(`${C$1} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Mo(e){return()=>{throw new Error(`${C$1} ${e}`)}}var v=[];for(let e=0;e<=23;e++)v[e]=N;v[24]=Cp;v[25]=Op;v[26]=Tp;v[27]=Ip;v[28]=N;v[29]=N;v[30]=N;v[31]=N;for(let e=32;e<=55;e++)v[e]=N;v[56]=Rp;v[57]=Bp;v[58]=Pp;v[59]=Fp;v[60]=N;v[61]=N;v[62]=N;v[63]=N;for(let e=64;e<=87;e++)v[e]=Np;v[88]=Lp;v[89]=Mp;v[90]=jp;v[91]=qp;v[92]=N;v[93]=N;v[94]=N;v[95]=Mo("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)v[e]=Up;v[120]=$p;v[121]=Kp;v[122]=zp;v[123]=Wp;v[124]=N;v[125]=N;v[126]=N;v[127]=Mo("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)v[e]=Gp;v[152]=Hp;v[153]=Jp;v[154]=Yp;v[155]=Qp;v[156]=N;v[157]=N;v[158]=N;v[159]=Zp;for(let e=160;e<=183;e++)v[e]=Xp;v[184]=eh;v[185]=th;v[186]=rh;v[187]=nh;v[188]=N;v[189]=N;v[190]=N;v[191]=ih;for(let e=192;e<=215;e++)v[e]=oh;v[216]=sh;v[217]=ah;v[218]=uh$1;v[219]=ch;v[220]=N;v[221]=N;v[222]=N;v[223]=N;for(let e=224;e<=243;e++)v[e]=Mo("simple values are not supported");v[244]=N;v[245]=N;v[246]=N;v[247]=fh;v[248]=Mo("simple values are not supported");v[249]=dh;v[250]=ph;v[251]=hh;v[252]=N;v[253]=N;v[254]=N;v[255]=lh;var Ye=[];for(let e=0;e<24;e++)Ye[e]=new x$1(m.uint,e,1);for(let e=-1;e>=-24;e--)Ye[31-e]=new x$1(m.negint,e,1);Ye[64]=new x$1(m.bytes,new Uint8Array(0),1);Ye[96]=new x$1(m.string,"",1);Ye[128]=new x$1(m.array,0,1);Ye[160]=new x$1(m.map,0,1);Ye[244]=new x$1(m.false,!1,1);Ye[245]=new x$1(m.true,!0,1);Ye[246]=new x$1(m.null,null,1);function bh(e){switch(e.type){case m.false:return gt([244]);case m.true:return gt([245]);case m.null:return gt([246]);case m.bytes:return e.value.length?void 0:gt([64]);case m.string:return e.value===""?gt([96]):void 0;case m.array:return e.value===0?gt([128]):void 0;case m.map:return e.value===0?gt([160]):void 0;case m.uint:return e.value<24?gt([Number(e.value)]):void 0;case m.negint:if(e.value>=-24)return gt([31-Number(e.value)])}}var t2={float64:!1,mapSorter:i2,quickEncodeToken:bh};function r2(){let e=[];return e[m.uint.major]=Fe,e[m.negint.major]=Bo,e[m.bytes.major]=dn$1,e[m.string.major]=Vp,e[m.array.major]=ko,e[m.map.major]=Fo,e[m.tag.major]=No$1,e[m.float.major]=Lo,e}var vh=r2(),Iu=new hi$1,yn$1=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${Au} object contains circular references`);return new yn$1(t,e)}},Kt={null:new x$1(m.null,null),undefined:new x$1(m.undefined,void 0),true:new x$1(m.true,!0),false:new x$1(m.false,!1),emptyArray:new x$1(m.array,0),emptyMap:new x$1(m.map,0)},zt={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new x$1(m.float,e):e>=0?new x$1(m.uint,e):new x$1(m.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new x$1(m.uint,e):new x$1(m.negint,e)},Uint8Array(e,t,r,n){return new x$1(m.bytes,e)},string(e,t,r,n){return new x$1(m.string,e)},boolean(e,t,r,n){return e?Kt.true:Kt.false},null(e,t,r,n){return Kt.null},undefined(e,t,r,n){return Kt.undefined},ArrayBuffer(e,t,r,n){return new x$1(m.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new x$1(m.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[Kt.emptyArray,new x$1(m.break)]:Kt.emptyArray;n=yn$1.createCheck(n,e);let o=[],y=0;for(let E of e)o[y++]=jo(E,r,n);return r.addBreakTokens?[new x$1(m.array,e.length),o,new x$1(m.break)]:[new x$1(m.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",y=o?e.keys():Object.keys(e),E=o?e.size:y.length;if(!E)return r.addBreakTokens===!0?[Kt.emptyMap,new x$1(m.break)]:Kt.emptyMap;n=yn$1.createCheck(n,e);let g=[],T=0;for(let P of y)g[T++]=[jo(P,r,n),jo(o?e.get(P):e[P],r,n)];return n2(g,r),r.addBreakTokens?[new x$1(m.map,E),g,new x$1(m.break)]:[new x$1(m.map,E),g]}};zt.Map=zt.Object;zt.Buffer=zt.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))zt[`${e}Array`]=zt.DataView;function jo(e,t={},r){let n=wp(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||zt[n];if(typeof o=="function"){let E=o(e,n,t,r);if(E!=null)return E}let y=zt[n];if(!y)throw new Error(`${Au} unsupported type: ${n}`);return y(e,n,t,r)}function n2(e,t){t.mapSorter&&e.sort(t.mapSorter)}function i2(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,y=vh[o].compareTokens(r,n);return y===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),y}function Eh(e,t,r,n){if(Array.isArray(t))for(let o of t)Eh(e,o,r,n);else r[t.type.major](e,t,n)}function o2(e,t,r){let n=jo(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let y=t[n.type.major];if(y.encodedSize){let E=y.encodedSize(n,r),g=new hi$1(E);if(y(g,n,r),g.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Du(g.chunks[0])}}return Iu.reset(),Eh(Iu,n,t,r),Iu.toBytes(!0)}function wr$1(e,t){return t=Object.assign({},t2,t),o2(e,vh,t)}u();var s2={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Ru=class{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=Ye[e];if(t===void 0){let r=v[e];if(!r)throw new Error(`${C$1} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=e&31;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}},wi$1=Symbol.for("DONE"),qo=Symbol.for("BREAK");function a2(e,t,r){let n=[];for(let o=0;o<e.value;o++){let y=bi(t,r);if(y===qo){if(e.value===1/0)break;throw new Error(`${C$1} got unexpected break to lengthed array`)}if(y===wi$1)throw new Error(`${C$1} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=y}return n}function u2(e,t,r){let n=r.useMaps===!0,o=n?void 0:{},y=n?new Map:void 0;for(let E=0;E<e.value;E++){let g=bi(t,r);if(g===qo){if(e.value===1/0)break;throw new Error(`${C$1} got unexpected break to lengthed map`)}if(g===wi$1)throw new Error(`${C$1} found map but not enough entries (got ${E} [no key], expected ${e.value})`);if(n!==!0&&typeof g!="string")throw new Error(`${C$1} non-string keys not supported (got ${typeof g})`);let T=bi(t,r);if(T===wi$1)throw new Error(`${C$1} found map but not enough entries (got ${E} [no value], expected ${e.value})`);n?y.set(g,T):o[g]=T}return n?y:o}function bi(e,t){if(e.done())return wi$1;let r=e.next();if(r.type===m.break)return qo;if(r.type.terminal)return r.value;if(r.type===m.array)return a2(r,e,t);if(r.type===m.map)return u2(r,e,t);if(r.type===m.tag){if(t.tags&&typeof t.tags[r.value]=="function"){let n=bi(e,t);return t.tags[r.value](n)}throw new Error(`${C$1} tag not supported (${r.value})`)}throw new Error("unsupported")}function mt$1(e,t){if(!(e instanceof Uint8Array))throw new Error(`${C$1} data to decode must be a Uint8Array`);t=Object.assign({},s2,t);let r=t.tokenizer||new Ru(e,t),n=bi(r,t);if(n===wi$1)throw new Error(`${C$1} did not find any content to decode`);if(n===qo)throw new Error(`${C$1} got unexpected break`);if(!r.done())throw new Error(`${C$1} too many terminals, data makes no sense`);return n}u();ge();u();var Er=_$1(Ht(),1),by=Er.default.Reader,w2=Er.default.Writer;Er.default.util;var Wo=Er.default.roots.default||(Er.default.roots.default={}),vy=Wo.ipfs=(()=>{let e={};return e.pin=function(){let t={};return t.Set=function(){function r(n){if(n)for(var o=Object.keys(n),y=0;y<o.length;++y)n[o[y]]!=null&&(this[o[y]]=n[o[y]])}return r.prototype.version=0,r.prototype.fanout=0,r.prototype.seed=0,r.encode=function(n,o){return o||(o=w2.create()),n.version!=null&&Object.hasOwnProperty.call(n,"version")&&o.uint32(8).uint32(n.version),n.fanout!=null&&Object.hasOwnProperty.call(n,"fanout")&&o.uint32(16).uint32(n.fanout),n.seed!=null&&Object.hasOwnProperty.call(n,"seed")&&o.uint32(29).fixed32(n.seed),o},r.decode=function(n,o){n instanceof by||(n=by.create(n));for(var y=o===void 0?n.len:n.pos+o,E=new Wo.ipfs.pin.Set;n.pos<y;){var g=n.uint32();switch(g>>>3){case 1:E.version=n.uint32();break;case 2:E.fanout=n.uint32();break;case 3:E.seed=n.fixed32();break;default:n.skipType(g&7);break}}return E},r.fromObject=function(n){if(n instanceof Wo.ipfs.pin.Set)return n;var o=new Wo.ipfs.pin.Set;return n.version!=null&&(o.version=n.version>>>0),n.fanout!=null&&(o.fanout=n.fanout>>>0),n.seed!=null&&(o.seed=n.seed>>>0),o},r.toObject=function(n,o){o||(o={});var y={};return o.defaults&&(y.version=0,y.fanout=0,y.seed=0),n.version!=null&&n.hasOwnProperty("version")&&(y.version=n.version),n.fanout!=null&&n.hasOwnProperty("fanout")&&(y.fanout=n.fanout),n.seed!=null&&n.hasOwnProperty("seed")&&(y.seed=n.seed),y},r.prototype.toJSON=function(){return this.constructor.toObject(this,Er.default.util.toJSONOptions)},r}(),t}(),e})(),ky=_$1(_y(),1),Jo=_$1(xi(),1);u();ht$1();ge();var Di=new A("/local/pins"),Go=256,By=8192,Hu=S$1.parse("QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n"),_r={direct:"direct",recursive:"recursive"};function Ju(e){return new A(`/${U.encode(e.multihash.bytes).toUpperCase().substring(1)}`)}Ho();u();function Py(e,t){for(let r=0;r<e.byteLength;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}ke$1();yt();Do();var Qu=vy.pin.Set;function B2(e){let t=e.Data;if(!t)throw new Error("No data present");let r=Jo.default.decode(t),n=Jo.default.decode.bytes;if(n<=0)throw new Error("Invalid Set header length");if(n+r>t.length)throw new Error("Impossibly large set header length");let o=t.slice(n,r+n),y=Qu.toObject(Qu.decode(o),{defaults:!1,arrays:!0,longs:Number,objects:!1});if(y.version!==1)throw new Error(`Unsupported Set version: ${y.version}`);if(y.fanout>e.Links.length)throw new Error("Impossibly large fanout");return{header:y,data:t.slice(r+n)}}function P2(e,t){let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,e,!0);let n=oe(t.toString()),o=Ai([r,n],r.byteLength+n.byteLength);return(0,ky.default)(de(o))}async function*Fy(e,t){let r=B2(t),n=0;for(let o of t.Links){if(n<r.header.fanout){let y=o.Hash;if(!Hu.equals(y)){let E=await e.get(y),g=pi$1(E);yield*Fy(e,g)}}else yield o.Hash;n++}}async function*Si$1(e,t,r){let n=t.Links.find(E=>E.Name===r);if(!n)throw new Error("No link found with name "+r);let o=await e.get(n.Hash),y=pi$1(o);yield*Fy(e,y)}function k2(e,t){return r(t,0);async function r(n,o){let y=Qu.encode({version:1,fanout:Go,seed:o}).finish(),E=Jo.default.encode(y.length),g=Ai([E,y]),T=[];for(let V=0;V<Go;V++)T.push({Name:"",Tsize:1,Hash:Hu});if(n.length<=By){let V=n.map(re=>({link:{Name:"",Tsize:1,Hash:re.key},data:re.data||new Uint8Array})).sort((re,q)=>Py(re.link.Hash.bytes,q.link.Hash.bytes)),X=T.concat(V.map(re=>re.link));return{Data:Ai([g,...V.map(re=>re.data)]),Links:X}}else{let V=n.reduce((re,q)=>{let L=P2(o,q.key)%Go;return re[L]=L in re?re[L].concat([q]):[q],re},[]),X=0;for(let re of V){let q=await r(re,o+1);await P(q,X),X++}return{Data:g,Links:T}}async function P(V,X){let re=di$1(V),q=await un$1.digest(re),L=S$1.createV0(q);await e.put(L,re);let I=V.Links.reduce((ee,ie)=>ee+(ie.Tsize||0),0)+re.length;T[X]={Name:"",Tsize:I,Hash:L}}}}async function Zu(e,t,r){let n=await k2(e,r.map(T=>({key:T}))),o=di$1(n),y=await un$1.digest(o),E=S$1.createV0(y);await e.put(E,o);let g=n.Links.reduce((T,P)=>T+P.Tsize,0)+o.length;return{Name:t,Tsize:g,Hash:E}}var Yo=_$1(Eu(),1);Do();pt$1();ht$1();async function N2(e,t,r,n){if(!await t.has(Di))return;let o=await t.get(Di),y=S$1.decode(o),E=await e.get(y),g=pi$1(E),T=0,P=await(0,Yo.default)(Si$1(e,g,_r.recursive))+await(0,Yo.default)(Si$1(e,g,_r.direct));for await(let V of Si$1(e,g,_r.recursive)){T++;let X={depth:1/0};V.version!==0&&(X.version=V.version),V.code!==It&&(X.codec=V.code),await r.put(Ju(V),wr$1(X)),n(T/P*100,`Migrated recursive pin ${V}`)}for await(let V of Si$1(e,g,_r.direct)){T++;let X={depth:0};V.version!==0&&(X.version=V.version),V.code!==It&&(X.codec=V.code),await r.put(Ju(V),wr$1(X)),n(T/P*100,`Migrated direct pin ${V}`)}await e.delete(y),await t.delete(Di)}async function L2(e,t,r,n){let o=[],y=[],E=0,g=await(0,Yo.default)(r.queryKeys({}));for await(let{key:re,value:q}of r.query({})){E++;let L=mt$1(q),I=S$1.create(L.version||0,L.codec||It,Ve(U.decode("b"+re.toString().toLowerCase().split("/").pop())));L.depth===0?(n(E/g*100,`Reverted direct pin ${I}`),y.push(I)):(n(E/g*100,`Reverted recursive pin ${I}`),o.push(I))}n(100,"Updating pin root");let T={Links:[await Zu(e,_r.direct,y),await Zu(e,_r.recursive,o)]},P=di$1(T),V=await un$1.digest(P),X=S$1.createV0(V);await e.put(X,P),await t.put(Di,X.bytes)}async function Ny(e,t,r){let n=e.blocks,o=e.datastore,y=e.pins;await n.open(),await o.open(),await y.open();try{await r(n,o,y,t)}finally{await y.close(),await o.close(),await n.close()}}var Ly={version:9,description:"Migrates pins to datastore",migrate:(e,t=()=>{})=>Ny(e,t,N2),revert:(e,t=()=>{})=>Ny(e,t,L2)};u();u();var Me$1={};G$1(Me$1,{abortedError:()=>M2,dbDeleteFailedError:()=>ec$1,dbOpenFailedError:()=>Xu,dbWriteFailedError:()=>tc$1,notFoundError:()=>Bt});u();var mn$1=_$1(dt$1(),1);function Xu(e){return e=e||new Error("Cannot open database"),(0,mn$1.default)(e,"ERR_DB_OPEN_FAILED")}function ec$1(e){return e=e||new Error("Delete failed"),(0,mn$1.default)(e,"ERR_DB_DELETE_FAILED")}function tc$1(e){return e=e||new Error("Write failed"),(0,mn$1.default)(e,"ERR_DB_WRITE_FAILED")}function Bt(e){return e=e||new Error("Not Found"),(0,mn$1.default)(e,"ERR_NOT_FOUND")}function M2(e){return e=e||new Error("Aborted"),(0,mn$1.default)(e,"ERR_ABORTED")}new A("/config");new A("/version");function Oi(e){let t=e;for(;t.db||t.child;)if(t=t.db||t.child,t.type==="level-js"||t.constructor.name==="Level")return t}yt();ke$1();async function U2(e,t,r=()=>{}){let n=Oi(t);if(!n){r(`${e} did not need an upgrade`);return}r(`Upgrading ${e}`),await $y(n,(o,y)=>[{type:"del",key:o},{type:"put",key:oe(o),value:y}])}async function $2(e,t,r=()=>{}){let n=Oi(t);if(!n){r(`${e} did not need a downgrade`);return}r(`Downgrading ${e}`),await $y(n,(o,y)=>[{type:"del",key:o},{type:"put",key:de(o),value:y}])}function qy(e){return e.child?qy(e.child):e}async function jy(e,t,r){let n=Object.entries(e).map(([E,g])=>({key:E,backend:qy(g)})).filter(({key:E,backend:g})=>g.constructor.name==="LevelDatastore").map(({key:E,backend:g})=>({name:E,store:g}));t(0,`Migrating ${n.length} dbs`);let o=0,y=E=>{t(Math.round(o/n.length*100),E)};for(let{name:E,store:g}of n){await g.open();try{await r(E,g,y)}finally{o++,await g.close()}}t(100,`Migrated ${n.length} dbs`)}var Uy={version:10,description:"Migrates datastore-level keys to binary",migrate:(e,t=()=>{})=>jy(e,t,U2),revert:(e,t=()=>{})=>jy(e,t,$2)};function $y(e,t){function r(n,o){let y=e.store("readwrite"),E=y.transaction,g=0,T;E.onabort=()=>o(T||E.error||new Error("aborted by user")),E.oncomplete=()=>o();function P(){let V=n[g++],X=V.key,re;try{re=V.type==="del"?y.delete(X):y.put(V.value,X)}catch(q){T=q,E.abort();return}g<n.length&&(re.onsuccess=P)}P()}return new Promise((n,o)=>{let y=e.iterator(),E=T=>T;y._deserializeKey=y._deserializeValue=E,g();function g(){let T=(P,V,X)=>{if(P||V===void 0){let re=q=>{if(q){o(q);return}n()};y.end(re);return}r(t(V,X),g)};y.next(T)}})}u();var Jt=new A("/local/filesroot");async function K2(e,t=()=>{}){if(t(100,"Migrating MFS root to repo datastore"),await e.root.open(),await e.datastore.open(),await e.root.has(Jt)){let r=await e.root.get(Jt);await e.datastore.put(Jt,r),await e.root.delete(Jt)}await e.datastore.close(),await e.root.close(),t(100,"Stored MFS root in repo datastore")}async function z2(e,t=()=>{}){if(t(100,"Migrating MFS root to repo root datastore"),await e.root.open(),await e.datastore.open(),await e.datastore.has(Jt)){let r=await e.datastore.get(Jt);await e.root.put(Jt,r),await e.datastore.delete(Jt)}await e.datastore.close(),await e.root.close(),t(100,"Stored MFS root in repo root datastore")}var Ky={version:11,description:"Store mfs root in the datastore",migrate:K2,revert:z2};u();var bc=_$1(Ht(),1);u();var xr$1=_$1(Ht(),1),zy=xr$1.default.Reader,W2=xr$1.default.Writer,V2=xr$1.default.util,Zo=xr$1.default.roots.default||(xr$1.default.roots.default={}),nc=Zo.Protocols=(()=>{function e(t){if(this.protocols=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.protocols=V2.emptyArray,e.encode=function(t,r){if(r||(r=W2.create()),t.protocols!=null&&t.protocols.length)for(var n=0;n<t.protocols.length;++n)r.uint32(10).string(t.protocols[n]);return r},e.decode=function(t,r){t instanceof zy||(t=zy.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Zo.Protocols;t.pos<n;){var y=t.uint32();switch(y>>>3){case 1:o.protocols&&o.protocols.length||(o.protocols=[]),o.protocols.push(t.string());break;default:t.skipType(y&7);break}}return o},e.fromObject=function(t){if(t instanceof Zo.Protocols)return t;var r=new Zo.Protocols;if(t.protocols){if(!Array.isArray(t.protocols))throw TypeError(".Protocols.protocols: array expected");r.protocols=[];for(var n=0;n<t.protocols.length;++n)r.protocols[n]=String(t.protocols[n])}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.protocols=[]),t.protocols&&t.protocols.length){n.protocols=[];for(var o=0;o<t.protocols.length;++o)n.protocols[o]=t.protocols[o]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,xr$1.default.util.toJSONOptions)},e})();u();var Pt$1=_$1(Ht(),1),wn$1=Pt$1.default.Reader,ic=Pt$1.default.Writer,$=Pt$1.default.util,ne=Pt$1.default.roots.default||(Pt$1.default.roots.default={}),oc=ne.Addresses=(()=>{function e(t){if(this.addrs=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.addrs=$.emptyArray,e.prototype.certifiedRecord=null,e.encode=function(t,r){if(r||(r=ic.create()),t.addrs!=null&&t.addrs.length)for(var n=0;n<t.addrs.length;++n)ne.Addresses.Address.encode(t.addrs[n],r.uint32(10).fork()).ldelim();return t.certifiedRecord!=null&&Object.hasOwnProperty.call(t,"certifiedRecord")&&ne.Addresses.CertifiedRecord.encode(t.certifiedRecord,r.uint32(18).fork()).ldelim(),r},e.decode=function(t,r){t instanceof wn$1||(t=wn$1.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new ne.Addresses;t.pos<n;){var y=t.uint32();switch(y>>>3){case 1:o.addrs&&o.addrs.length||(o.addrs=[]),o.addrs.push(ne.Addresses.Address.decode(t,t.uint32()));break;case 2:o.certifiedRecord=ne.Addresses.CertifiedRecord.decode(t,t.uint32());break;default:t.skipType(y&7);break}}return o},e.fromObject=function(t){if(t instanceof ne.Addresses)return t;var r=new ne.Addresses;if(t.addrs){if(!Array.isArray(t.addrs))throw TypeError(".Addresses.addrs: array expected");r.addrs=[];for(var n=0;n<t.addrs.length;++n){if(typeof t.addrs[n]!="object")throw TypeError(".Addresses.addrs: object expected");r.addrs[n]=ne.Addresses.Address.fromObject(t.addrs[n])}}if(t.certifiedRecord!=null){if(typeof t.certifiedRecord!="object")throw TypeError(".Addresses.certifiedRecord: object expected");r.certifiedRecord=ne.Addresses.CertifiedRecord.fromObject(t.certifiedRecord)}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.addrs=[]),r.defaults&&(n.certifiedRecord=null),t.addrs&&t.addrs.length){n.addrs=[];for(var o=0;o<t.addrs.length;++o)n.addrs[o]=ne.Addresses.Address.toObject(t.addrs[o],r)}return t.certifiedRecord!=null&&t.hasOwnProperty("certifiedRecord")&&(n.certifiedRecord=ne.Addresses.CertifiedRecord.toObject(t.certifiedRecord,r)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Pt$1.default.util.toJSONOptions)},e.Address=function(){function t(n){if(n)for(var o=Object.keys(n),y=0;y<o.length;++y)n[o[y]]!=null&&(this[o[y]]=n[o[y]])}t.prototype.multiaddr=$.newBuffer([]),t.prototype.isCertified=null;let r;return Object.defineProperty(t.prototype,"_isCertified",{get:$.oneOfGetter(r=["isCertified"]),set:$.oneOfSetter(r)}),t.encode=function(n,o){return o||(o=ic.create()),n.multiaddr!=null&&Object.hasOwnProperty.call(n,"multiaddr")&&o.uint32(10).bytes(n.multiaddr),n.isCertified!=null&&Object.hasOwnProperty.call(n,"isCertified")&&o.uint32(16).bool(n.isCertified),o},t.decode=function(n,o){n instanceof wn$1||(n=wn$1.create(n));for(var y=o===void 0?n.len:n.pos+o,E=new ne.Addresses.Address;n.pos<y;){var g=n.uint32();switch(g>>>3){case 1:E.multiaddr=n.bytes();break;case 2:E.isCertified=n.bool();break;default:n.skipType(g&7);break}}return E},t.fromObject=function(n){if(n instanceof ne.Addresses.Address)return n;var o=new ne.Addresses.Address;return n.multiaddr!=null&&(typeof n.multiaddr=="string"?$.base64.decode(n.multiaddr,o.multiaddr=$.newBuffer($.base64.length(n.multiaddr)),0):n.multiaddr.length&&(o.multiaddr=n.multiaddr)),n.isCertified!=null&&(o.isCertified=Boolean(n.isCertified)),o},t.toObject=function(n,o){o||(o={});var y={};return o.defaults&&(o.bytes===String?y.multiaddr="":(y.multiaddr=[],o.bytes!==Array&&(y.multiaddr=$.newBuffer(y.multiaddr)))),n.multiaddr!=null&&n.hasOwnProperty("multiaddr")&&(y.multiaddr=o.bytes===String?$.base64.encode(n.multiaddr,0,n.multiaddr.length):o.bytes===Array?Array.prototype.slice.call(n.multiaddr):n.multiaddr),n.isCertified!=null&&n.hasOwnProperty("isCertified")&&(y.isCertified=n.isCertified,o.oneofs&&(y._isCertified="isCertified")),y},t.prototype.toJSON=function(){return this.constructor.toObject(this,Pt$1.default.util.toJSONOptions)},t}(),e.CertifiedRecord=function(){function t(r){if(r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}return t.prototype.seq=$.Long?$.Long.fromBits(0,0,!0):0,t.prototype.raw=$.newBuffer([]),t.encode=function(r,n){return n||(n=ic.create()),r.seq!=null&&Object.hasOwnProperty.call(r,"seq")&&n.uint32(8).uint64(r.seq),r.raw!=null&&Object.hasOwnProperty.call(r,"raw")&&n.uint32(18).bytes(r.raw),n},t.decode=function(r,n){r instanceof wn$1||(r=wn$1.create(r));for(var o=n===void 0?r.len:r.pos+n,y=new ne.Addresses.CertifiedRecord;r.pos<o;){var E=r.uint32();switch(E>>>3){case 1:y.seq=r.uint64();break;case 2:y.raw=r.bytes();break;default:r.skipType(E&7);break}}return y},t.fromObject=function(r){if(r instanceof ne.Addresses.CertifiedRecord)return r;var n=new ne.Addresses.CertifiedRecord;return r.seq!=null&&($.Long?(n.seq=$.Long.fromValue(r.seq)).unsigned=!0:typeof r.seq=="string"?n.seq=parseInt(r.seq,10):typeof r.seq=="number"?n.seq=r.seq:typeof r.seq=="object"&&(n.seq=new $.LongBits(r.seq.low>>>0,r.seq.high>>>0).toNumber(!0))),r.raw!=null&&(typeof r.raw=="string"?$.base64.decode(r.raw,n.raw=$.newBuffer($.base64.length(r.raw)),0):r.raw.length&&(n.raw=r.raw)),n},t.toObject=function(r,n){n||(n={});var o={};if(n.defaults){if($.Long){var y=new $.Long(0,0,!0);o.seq=n.longs===String?y.toString():n.longs===Number?y.toNumber():y}else o.seq=n.longs===String?"0":0;n.bytes===String?o.raw="":(o.raw=[],n.bytes!==Array&&(o.raw=$.newBuffer(o.raw)))}return r.seq!=null&&r.hasOwnProperty("seq")&&(typeof r.seq=="number"?o.seq=n.longs===String?String(r.seq):r.seq:o.seq=n.longs===String?$.Long.prototype.toString.call(r.seq):n.longs===Number?new $.LongBits(r.seq.low>>>0,r.seq.high>>>0).toNumber(!0):r.seq),r.raw!=null&&r.hasOwnProperty("raw")&&(o.raw=n.bytes===String?$.base64.encode(r.raw,0,r.raw.length):n.bytes===Array?Array.prototype.slice.call(r.raw):r.raw),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Pt$1.default.util.toJSONOptions)},t}(),e})();u();var kt=_$1(Ht(),1),bn=kt.default.Reader,sc=kt.default.Writer,M$1=kt.default.util,Q$1=kt.default.roots.default||(kt.default.roots.default={}),ac=Q$1.Peer=(()=>{function e(r){if(this.addresses=[],this.protocols=[],this.metadata=[],r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}e.prototype.addresses=M$1.emptyArray,e.prototype.protocols=M$1.emptyArray,e.prototype.metadata=M$1.emptyArray,e.prototype.pubKey=null,e.prototype.peerRecordEnvelope=null;let t;return Object.defineProperty(e.prototype,"_pubKey",{get:M$1.oneOfGetter(t=["pubKey"]),set:M$1.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_peerRecordEnvelope",{get:M$1.oneOfGetter(t=["peerRecordEnvelope"]),set:M$1.oneOfSetter(t)}),e.encode=function(r,n){if(n||(n=sc.create()),r.addresses!=null&&r.addresses.length)for(var o=0;o<r.addresses.length;++o)Q$1.Address.encode(r.addresses[o],n.uint32(10).fork()).ldelim();if(r.protocols!=null&&r.protocols.length)for(var o=0;o<r.protocols.length;++o)n.uint32(18).string(r.protocols[o]);if(r.metadata!=null&&r.metadata.length)for(var o=0;o<r.metadata.length;++o)Q$1.Metadata.encode(r.metadata[o],n.uint32(26).fork()).ldelim();return r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&n.uint32(34).bytes(r.pubKey),r.peerRecordEnvelope!=null&&Object.hasOwnProperty.call(r,"peerRecordEnvelope")&&n.uint32(42).bytes(r.peerRecordEnvelope),n},e.decode=function(r,n){r instanceof bn||(r=bn.create(r));for(var o=n===void 0?r.len:r.pos+n,y=new Q$1.Peer;r.pos<o;){var E=r.uint32();switch(E>>>3){case 1:y.addresses&&y.addresses.length||(y.addresses=[]),y.addresses.push(Q$1.Address.decode(r,r.uint32()));break;case 2:y.protocols&&y.protocols.length||(y.protocols=[]),y.protocols.push(r.string());break;case 3:y.metadata&&y.metadata.length||(y.metadata=[]),y.metadata.push(Q$1.Metadata.decode(r,r.uint32()));break;case 4:y.pubKey=r.bytes();break;case 5:y.peerRecordEnvelope=r.bytes();break;default:r.skipType(E&7);break}}return y},e.fromObject=function(r){if(r instanceof Q$1.Peer)return r;var n=new Q$1.Peer;if(r.addresses){if(!Array.isArray(r.addresses))throw TypeError(".Peer.addresses: array expected");n.addresses=[];for(var o=0;o<r.addresses.length;++o){if(typeof r.addresses[o]!="object")throw TypeError(".Peer.addresses: object expected");n.addresses[o]=Q$1.Address.fromObject(r.addresses[o])}}if(r.protocols){if(!Array.isArray(r.protocols))throw TypeError(".Peer.protocols: array expected");n.protocols=[];for(var o=0;o<r.protocols.length;++o)n.protocols[o]=String(r.protocols[o])}if(r.metadata){if(!Array.isArray(r.metadata))throw TypeError(".Peer.metadata: array expected");n.metadata=[];for(var o=0;o<r.metadata.length;++o){if(typeof r.metadata[o]!="object")throw TypeError(".Peer.metadata: object expected");n.metadata[o]=Q$1.Metadata.fromObject(r.metadata[o])}}return r.pubKey!=null&&(typeof r.pubKey=="string"?M$1.base64.decode(r.pubKey,n.pubKey=M$1.newBuffer(M$1.base64.length(r.pubKey)),0):r.pubKey.length&&(n.pubKey=r.pubKey)),r.peerRecordEnvelope!=null&&(typeof r.peerRecordEnvelope=="string"?M$1.base64.decode(r.peerRecordEnvelope,n.peerRecordEnvelope=M$1.newBuffer(M$1.base64.length(r.peerRecordEnvelope)),0):r.peerRecordEnvelope.length&&(n.peerRecordEnvelope=r.peerRecordEnvelope)),n},e.toObject=function(r,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.addresses=[],o.protocols=[],o.metadata=[]),r.addresses&&r.addresses.length){o.addresses=[];for(var y=0;y<r.addresses.length;++y)o.addresses[y]=Q$1.Address.toObject(r.addresses[y],n)}if(r.protocols&&r.protocols.length){o.protocols=[];for(var y=0;y<r.protocols.length;++y)o.protocols[y]=r.protocols[y]}if(r.metadata&&r.metadata.length){o.metadata=[];for(var y=0;y<r.metadata.length;++y)o.metadata[y]=Q$1.Metadata.toObject(r.metadata[y],n)}return r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(o.pubKey=n.bytes===String?M$1.base64.encode(r.pubKey,0,r.pubKey.length):n.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey,n.oneofs&&(o._pubKey="pubKey")),r.peerRecordEnvelope!=null&&r.hasOwnProperty("peerRecordEnvelope")&&(o.peerRecordEnvelope=n.bytes===String?M$1.base64.encode(r.peerRecordEnvelope,0,r.peerRecordEnvelope.length):n.bytes===Array?Array.prototype.slice.call(r.peerRecordEnvelope):r.peerRecordEnvelope,n.oneofs&&(o._peerRecordEnvelope="peerRecordEnvelope")),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,kt.default.util.toJSONOptions)},e})();Q$1.Address=(()=>{function e(r){if(r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}e.prototype.multiaddr=M$1.newBuffer([]),e.prototype.isCertified=null;let t;return Object.defineProperty(e.prototype,"_isCertified",{get:M$1.oneOfGetter(t=["isCertified"]),set:M$1.oneOfSetter(t)}),e.encode=function(r,n){return n||(n=sc.create()),r.multiaddr!=null&&Object.hasOwnProperty.call(r,"multiaddr")&&n.uint32(10).bytes(r.multiaddr),r.isCertified!=null&&Object.hasOwnProperty.call(r,"isCertified")&&n.uint32(16).bool(r.isCertified),n},e.decode=function(r,n){r instanceof bn||(r=bn.create(r));for(var o=n===void 0?r.len:r.pos+n,y=new Q$1.Address;r.pos<o;){var E=r.uint32();switch(E>>>3){case 1:y.multiaddr=r.bytes();break;case 2:y.isCertified=r.bool();break;default:r.skipType(E&7);break}}return y},e.fromObject=function(r){if(r instanceof Q$1.Address)return r;var n=new Q$1.Address;return r.multiaddr!=null&&(typeof r.multiaddr=="string"?M$1.base64.decode(r.multiaddr,n.multiaddr=M$1.newBuffer(M$1.base64.length(r.multiaddr)),0):r.multiaddr.length&&(n.multiaddr=r.multiaddr)),r.isCertified!=null&&(n.isCertified=Boolean(r.isCertified)),n},e.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(n.bytes===String?o.multiaddr="":(o.multiaddr=[],n.bytes!==Array&&(o.multiaddr=M$1.newBuffer(o.multiaddr)))),r.multiaddr!=null&&r.hasOwnProperty("multiaddr")&&(o.multiaddr=n.bytes===String?M$1.base64.encode(r.multiaddr,0,r.multiaddr.length):n.bytes===Array?Array.prototype.slice.call(r.multiaddr):r.multiaddr),r.isCertified!=null&&r.hasOwnProperty("isCertified")&&(o.isCertified=r.isCertified,n.oneofs&&(o._isCertified="isCertified")),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,kt.default.util.toJSONOptions)},e})();Q$1.Metadata=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.key="",e.prototype.value=M$1.newBuffer([]),e.encode=function(t,r){return r||(r=sc.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&r.uint32(10).string(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&r.uint32(18).bytes(t.value),r},e.decode=function(t,r){t instanceof bn||(t=bn.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Q$1.Metadata;t.pos<n;){var y=t.uint32();switch(y>>>3){case 1:o.key=t.string();break;case 2:o.value=t.bytes();break;default:t.skipType(y&7);break}}return o},e.fromObject=function(t){if(t instanceof Q$1.Metadata)return t;var r=new Q$1.Metadata;return t.key!=null&&(r.key=String(t.key)),t.value!=null&&(typeof t.value=="string"?M$1.base64.decode(t.value,r.value=M$1.newBuffer(M$1.base64.length(t.value)),0):t.value.length&&(r.value=t.value)),r},e.toObject=function(t,r){r||(r={});var n={};return r.defaults&&(n.key="",r.bytes===String?n.value="":(n.value=[],r.bytes!==Array&&(n.value=M$1.newBuffer(n.value)))),t.key!=null&&t.hasOwnProperty("key")&&(n.key=t.key),t.value!=null&&t.hasOwnProperty("value")&&(n.value=r.bytes===String?M$1.base64.encode(t.value,0,t.value.length):r.bytes===Array?Array.prototype.slice.call(t.value):t.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,kt.default.util.toJSONOptions)},e})();u();var Dr$1=_$1(Ht(),1),Wy=Dr$1.default.Reader,G2=Dr$1.default.Writer,K=Dr$1.default.util,Xo=Dr$1.default.roots.default||(Dr$1.default.roots.default={}),Vy=Xo.Envelope=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.publicKey=K.newBuffer([]),e.prototype.payloadType=K.newBuffer([]),e.prototype.payload=K.newBuffer([]),e.prototype.signature=K.newBuffer([]),e.encode=function(t,r){return r||(r=G2.create()),t.publicKey!=null&&Object.hasOwnProperty.call(t,"publicKey")&&r.uint32(10).bytes(t.publicKey),t.payloadType!=null&&Object.hasOwnProperty.call(t,"payloadType")&&r.uint32(18).bytes(t.payloadType),t.payload!=null&&Object.hasOwnProperty.call(t,"payload")&&r.uint32(26).bytes(t.payload),t.signature!=null&&Object.hasOwnProperty.call(t,"signature")&&r.uint32(42).bytes(t.signature),r},e.decode=function(t,r){t instanceof Wy||(t=Wy.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Xo.Envelope;t.pos<n;){var y=t.uint32();switch(y>>>3){case 1:o.publicKey=t.bytes();break;case 2:o.payloadType=t.bytes();break;case 3:o.payload=t.bytes();break;case 5:o.signature=t.bytes();break;default:t.skipType(y&7);break}}return o},e.fromObject=function(t){if(t instanceof Xo.Envelope)return t;var r=new Xo.Envelope;return t.publicKey!=null&&(typeof t.publicKey=="string"?K.base64.decode(t.publicKey,r.publicKey=K.newBuffer(K.base64.length(t.publicKey)),0):t.publicKey.length&&(r.publicKey=t.publicKey)),t.payloadType!=null&&(typeof t.payloadType=="string"?K.base64.decode(t.payloadType,r.payloadType=K.newBuffer(K.base64.length(t.payloadType)),0):t.payloadType.length&&(r.payloadType=t.payloadType)),t.payload!=null&&(typeof t.payload=="string"?K.base64.decode(t.payload,r.payload=K.newBuffer(K.base64.length(t.payload)),0):t.payload.length&&(r.payload=t.payload)),t.signature!=null&&(typeof t.signature=="string"?K.base64.decode(t.signature,r.signature=K.newBuffer(K.base64.length(t.signature)),0):t.signature.length&&(r.signature=t.signature)),r},e.toObject=function(t,r){r||(r={});var n={};return r.defaults&&(r.bytes===String?n.publicKey="":(n.publicKey=[],r.bytes!==Array&&(n.publicKey=K.newBuffer(n.publicKey))),r.bytes===String?n.payloadType="":(n.payloadType=[],r.bytes!==Array&&(n.payloadType=K.newBuffer(n.payloadType))),r.bytes===String?n.payload="":(n.payload=[],r.bytes!==Array&&(n.payload=K.newBuffer(n.payload))),r.bytes===String?n.signature="":(n.signature=[],r.bytes!==Array&&(n.signature=K.newBuffer(n.signature)))),t.publicKey!=null&&t.hasOwnProperty("publicKey")&&(n.publicKey=r.bytes===String?K.base64.encode(t.publicKey,0,t.publicKey.length):r.bytes===Array?Array.prototype.slice.call(t.publicKey):t.publicKey),t.payloadType!=null&&t.hasOwnProperty("payloadType")&&(n.payloadType=r.bytes===String?K.base64.encode(t.payloadType,0,t.payloadType.length):r.bytes===Array?Array.prototype.slice.call(t.payloadType):t.payloadType),t.payload!=null&&t.hasOwnProperty("payload")&&(n.payload=r.bytes===String?K.base64.encode(t.payload,0,t.payload.length):r.bytes===Array?Array.prototype.slice.call(t.payload):t.payload),t.signature!=null&&t.hasOwnProperty("signature")&&(n.signature=r.bytes===String?K.base64.encode(t.signature,0,t.signature.length):r.bytes===Array?Array.prototype.slice.call(t.signature):t.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Dr$1.default.util.toJSONOptions)},e})();u();var Yt$1=_$1(Ht(),1),es=Yt$1.default.Reader,Gy=Yt$1.default.Writer,W=Yt$1.default.util,Xe$1=Yt$1.default.roots.default||(Yt$1.default.roots.default={}),Hy=Xe$1.PeerRecord=(()=>{function e(t){if(this.addresses=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.peerId=W.newBuffer([]),e.prototype.seq=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.addresses=W.emptyArray,e.encode=function(t,r){if(r||(r=Gy.create()),t.peerId!=null&&Object.hasOwnProperty.call(t,"peerId")&&r.uint32(10).bytes(t.peerId),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&r.uint32(16).uint64(t.seq),t.addresses!=null&&t.addresses.length)for(var n=0;n<t.addresses.length;++n)Xe$1.PeerRecord.AddressInfo.encode(t.addresses[n],r.uint32(26).fork()).ldelim();return r},e.decode=function(t,r){t instanceof es||(t=es.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Xe$1.PeerRecord;t.pos<n;){var y=t.uint32();switch(y>>>3){case 1:o.peerId=t.bytes();break;case 2:o.seq=t.uint64();break;case 3:o.addresses&&o.addresses.length||(o.addresses=[]),o.addresses.push(Xe$1.PeerRecord.AddressInfo.decode(t,t.uint32()));break;default:t.skipType(y&7);break}}return o},e.fromObject=function(t){if(t instanceof Xe$1.PeerRecord)return t;var r=new Xe$1.PeerRecord;if(t.peerId!=null&&(typeof t.peerId=="string"?W.base64.decode(t.peerId,r.peerId=W.newBuffer(W.base64.length(t.peerId)),0):t.peerId.length&&(r.peerId=t.peerId)),t.seq!=null&&(W.Long?(r.seq=W.Long.fromValue(t.seq)).unsigned=!0:typeof t.seq=="string"?r.seq=parseInt(t.seq,10):typeof t.seq=="number"?r.seq=t.seq:typeof t.seq=="object"&&(r.seq=new W.LongBits(t.seq.low>>>0,t.seq.high>>>0).toNumber(!0))),t.addresses){if(!Array.isArray(t.addresses))throw TypeError(".PeerRecord.addresses: array expected");r.addresses=[];for(var n=0;n<t.addresses.length;++n){if(typeof t.addresses[n]!="object")throw TypeError(".PeerRecord.addresses: object expected");r.addresses[n]=Xe$1.PeerRecord.AddressInfo.fromObject(t.addresses[n])}}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.addresses=[]),r.defaults)if(r.bytes===String?n.peerId="":(n.peerId=[],r.bytes!==Array&&(n.peerId=W.newBuffer(n.peerId))),W.Long){var o=new W.Long(0,0,!0);n.seq=r.longs===String?o.toString():r.longs===Number?o.toNumber():o}else n.seq=r.longs===String?"0":0;if(t.peerId!=null&&t.hasOwnProperty("peerId")&&(n.peerId=r.bytes===String?W.base64.encode(t.peerId,0,t.peerId.length):r.bytes===Array?Array.prototype.slice.call(t.peerId):t.peerId),t.seq!=null&&t.hasOwnProperty("seq")&&(typeof t.seq=="number"?n.seq=r.longs===String?String(t.seq):t.seq:n.seq=r.longs===String?W.Long.prototype.toString.call(t.seq):r.longs===Number?new W.LongBits(t.seq.low>>>0,t.seq.high>>>0).toNumber(!0):t.seq),t.addresses&&t.addresses.length){n.addresses=[];for(var y=0;y<t.addresses.length;++y)n.addresses[y]=Xe$1.PeerRecord.AddressInfo.toObject(t.addresses[y],r)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Yt$1.default.util.toJSONOptions)},e.AddressInfo=function(){function t(r){if(r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}return t.prototype.multiaddr=W.newBuffer([]),t.encode=function(r,n){return n||(n=Gy.create()),r.multiaddr!=null&&Object.hasOwnProperty.call(r,"multiaddr")&&n.uint32(10).bytes(r.multiaddr),n},t.decode=function(r,n){r instanceof es||(r=es.create(r));for(var o=n===void 0?r.len:r.pos+n,y=new Xe$1.PeerRecord.AddressInfo;r.pos<o;){var E=r.uint32();switch(E>>>3){case 1:y.multiaddr=r.bytes();break;default:r.skipType(E&7);break}}return y},t.fromObject=function(r){if(r instanceof Xe$1.PeerRecord.AddressInfo)return r;var n=new Xe$1.PeerRecord.AddressInfo;return r.multiaddr!=null&&(typeof r.multiaddr=="string"?W.base64.decode(r.multiaddr,n.multiaddr=W.newBuffer(W.base64.length(r.multiaddr)),0):r.multiaddr.length&&(n.multiaddr=r.multiaddr)),n},t.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(n.bytes===String?o.multiaddr="":(o.multiaddr=[],n.bytes!==Array&&(o.multiaddr=W.newBuffer(o.multiaddr)))),r.multiaddr!=null&&r.hasOwnProperty("multiaddr")&&(o.multiaddr=n.bytes===String?W.base64.encode(r.multiaddr,0,r.multiaddr.length):n.bytes===Array?Array.prototype.slice.call(r.multiaddr):r.multiaddr),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Yt$1.default.util.toJSONOptions)},t}(),e})(),wc$1=_$1(Bg(),1);bc.default.util.Long=void 0;bc.default.configure();async function vD(e,t=()=>{}){t(0,"Storing each peerstore key under a single datastore key"),await e.datastore.open();let r={},n=[];for await(let{key:o,value:y}of e.datastore.query({prefix:"/peers"})){n.push(o);let E=o.toString(),[g,T,P,V,X]=E.split("/");if(T==="peers"&&!!["protos","addrs","metadata","keys"].includes(P)&&!!V)if(r[V]=r[V]||{addresses:[],protocols:[],metadata:[]},P==="protos"){let re=nc.decode(y);r[V].protocols=re.protocols.sort()}else if(P==="addrs"){let re=oc.decode(y);r[V].addresses=re.addrs.sort((q,L)=>new wc$1.Multiaddr(q.multiaddr).toString().localeCompare(new wc$1.Multiaddr(L.multiaddr).toString())),re.certifiedRecord&&re.certifiedRecord.raw&&(r[V].peerRecordEnvelope=re.certifiedRecord.raw)}else P==="metadata"?r[V].metadata.push({key:X,value:y}):P==="keys"&&(r[V].pubKey=y)}t(33,"Read peer data from store");for(let o of n)await e.datastore.delete(o);t(66,"Removed existing peer data from store");for(let o of Object.keys(r)){let y=r[o];y.metadata=y.metadata.sort((g,T)=>g.key.localeCompare(T.key));let E=ac.encode(y).finish();await e.datastore.put(new A(`/peers/${o}`),E)}await e.datastore.close(),t(100,"Stored each peerstore key under a single datastore key")}async function ED(e,t=()=>{}){t(0,"Storing each peerstore key under a multiple datastore keys"),await e.datastore.open();let r={},n=[];for await(let{key:o,value:y}of e.datastore.query({prefix:"/peers"})){n.push(o);let E=o.toString(),[g,T,P]=E.split("/");r[P]=ac.decode(y)}t(33,"Read peer data from store");for(let o of n)await e.datastore.delete(o);t(66,"Removed existing peer data from store");for(let[o,y]of Object.entries(r)){if(y.protocols&&y.protocols.length>0&&await e.datastore.put(new A(`/peers/protos/${o}`),nc.encode({protocols:y.protocols}).finish()),y.addresses&&y.addresses.length>0){let E=y.peerRecordEnvelope,g;if(E){let T=Vy.decode(E),P=Hy.decode(T.payload);g={raw:E,seq:P.seq}}await e.datastore.put(new A(`/peers/addrs/${o}`),oc.encode({addrs:y.addresses,certifiedRecord:g}).finish())}if(y.metadata&&y.metadata.length>0)for(let{key:E,value:g}of y.metadata)await e.datastore.put(new A(`/peers/metadata/${o}/${E}`),g);y.pubKey&&await e.datastore.put(new A(`/peers/keys/${o}`),y.pubKey)}await e.datastore.close(),t(100,"Stored each peerstore key under multiple datastore keys")}var Pg={version:12,description:"Store each peerstore peer under a single datastore key",migrate:vD,revert:ED},Ar$1={description:"Empty migration.",migrate:()=>{},revert:()=>{},empty:!0};Object.assign({version:1},Ar$1),Object.assign({version:2},Ar$1),Object.assign({version:3},Ar$1),Object.assign({version:4},Ar$1),Object.assign({version:5},Ar$1),Object.assign({version:6},Ar$1),Object.assign({version:7},Ar$1);u();u();var kg=_$1(We(),1),vc={};G$1(vc,{InvalidValueError:()=>An$1,MissingRepoOptionsError:()=>vt,NonReversibleMigrationError:()=>xn,NotInitializedRepoError:()=>Zt,RequiredParameterError:()=>Dn});u();var xn=class extends Error{constructor(e){super(e),this.name="NonReversibleMigrationError",this.code=xn.code,this.message=e}};xn.code="ERR_NON_REVERSIBLE_MIGRATION";var Zt=class extends Error{constructor(e){super(e),this.name="NotInitializedRepoError",this.code=Zt.code,this.message=e}};Zt.code="ERR_NOT_INITIALIZED_REPO";var Dn=class extends Error{constructor(e){super(e),this.name="RequiredParameterError",this.code=Dn.code,this.message=e}};Dn.code="ERR_REQUIRED_PARAMETER";var An$1=class extends Error{constructor(e){super(e),this.name="InvalidValueError",this.code=An$1.code,this.message=e}};An$1.code="ERR_INVALID_VALUE";var vt=class extends Error{constructor(e){super(e),this.name="MissingRepoOptionsError",this.code=vt.code,this.message=e}};vt.code="ERR_MISSING_REPO_OPTIONS";(0,kg.default)("ipfs:repo:migrator:repo:init");yt();ke$1();var Ng=_$1(We(),1);(0,Ng.default)("ipfs:repo:migrator");_$1($g(),1);u();var Yg=_$1(Jg(),1);Yg.default;u();u();var tm=_$1(We(),1);ke$1();yt();u();u();var Sr=class extends Error{constructor(e){super(e),this.name="LockExistsError",this.code=Sr.code}};Sr.code="ERR_LOCK_EXISTS";var Oe$1=class extends Error{constructor(e){super(e),this.name="NotFoundError",this.code=Oe$1.code}};Oe$1.code="ERR_NOT_FOUND";var Cr=class extends Error{constructor(e){super(e),this.name="InvalidRepoVersionError",this.code=Cr.code}};Cr.code="ERR_INVALID_REPO_VERSION";(0,tm.default)("ipfs:repo:version");new A("version");u();var ws=_$1(fm(),1);_$1(za(),1);_$1(pm(),1);_$1(dt$1(),1);ke$1();yt();ws.default.default?ws.default.default:ws.default;new A("config");u();u();_$1(wm(),1);ke$1();yt();new A("datastore_spec");u();yt();new A("api");u();_$1(Or(),1);_$1(Om(),1);_$1(On$1(),1);ge();_$1(dt$1(),1);gu$1();u();u();var Fm=_$1(We(),1);(0,Fm.default)("ipfs:repo:lock:memory");u();u();ge();_$1(dt$1(),1);_$1(We(),1);_$1(qm(),1);u();So();u();So();ci$1();_$1(dt$1(),1);ht$1();pt$1();u();var $m=_$1(We(),1);(0,$m.default)("ipfs:repo:utils:walk-dag");u();u();_$1(Mi(),1);_$1(dt$1(),1);_$1(Nw(),1);u();ge();var Gw=_$1(We(),1);_$1(qw(),1);_$1(Kw(),1);_$1(of(),1);_$1(Mi(),1);_$1(Or(),1);ht$1();(0,Gw.default)("ipfs:repo:gc");Bt().code;new A("/local/filesroot");(0,Xw.default)("ipfs:repo");u();u();u();u();var nb="SHARDING",ib="_README";u();u();_$1(Is$1(),1);_$1(On$1(),1);_$1(Or(),1);_$1(Ui(),1);u();u();_$1(Mi(),1);_$1(fb(),1);u();new A(nb);new A(ib);u();_$1(Or(),1);_$1(Ui(),1);_$1(of(),1);u();var hb=_$1(We(),1);_$1(pb(),1);_$1(On$1(),1);(0,hb.default)("datastore:core:tiered");u();_$1(Or(),1);_$1(Mi(),1);_$1(Ui(),1);_$1(gb(),1);_$1(r_(),1);u();_$1(On$1(),1);_$1(s_(),1);ge();ci$1();pt$1();ht$1();an();_$1(dt$1(),1);u();_$1(On$1(),1);_$1(Or(),1);_$1(Ui(),1);_$1(Is$1(),1);/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*//*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Tc=Object.create,nr=Object.defineProperty,Ic=Object.getOwnPropertyDescriptor,Sc=Object.getOwnPropertyNames,Uc=Object.getPrototypeOf,Fc=Object.prototype.hasOwnProperty,F=(e,t)=>()=>(e&&(t=e(e=0)),t),S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),M=(e,t)=>{for(var r in t)nr(e,r,{get:t[r],enumerable:!0})},No=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Sc(t))!Fc.call(e,o)&&o!==r&&nr(e,o,{get:()=>t[o],enumerable:!(n=Ic(t,o))||n.enumerable});return e},J=(e,t,r)=>(r=e!=null?Tc(Uc(e)):{},No(t||!e||!e.__esModule?nr(r,"default",{value:e,enumerable:!0}):r,e)),R=e=>No(nr({},"__esModule",{value:!0}),e),Po=S(e=>{a(),e.byteLength=T,e.toByteArray=V,e.fromByteArray=q;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(y=0,E=o.length;y<E;++y)t[y]=o[y],r[o.charCodeAt(y)]=y;var y,E;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function g(L){var I=L.length;if(I%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ee=L.indexOf("=");ee===-1&&(ee=I);var ie=ee===I?0:4-ee%4;return[ee,ie]}function T(L){var I=g(L),ee=I[0],ie=I[1];return(ee+ie)*3/4-ie}function P(L,I,ee){return(I+ee)*3/4-ee}function V(L){var I,ee=g(L),ie=ee[0],le=ee[1],ye=new n(P(L,ie,le)),ot=0,qe=le>0?ie-4:ie,Ee;for(Ee=0;Ee<qe;Ee+=4)I=r[L.charCodeAt(Ee)]<<18|r[L.charCodeAt(Ee+1)]<<12|r[L.charCodeAt(Ee+2)]<<6|r[L.charCodeAt(Ee+3)],ye[ot++]=I>>16&255,ye[ot++]=I>>8&255,ye[ot++]=I&255;return le===2&&(I=r[L.charCodeAt(Ee)]<<2|r[L.charCodeAt(Ee+1)]>>4,ye[ot++]=I&255),le===1&&(I=r[L.charCodeAt(Ee)]<<10|r[L.charCodeAt(Ee+1)]<<4|r[L.charCodeAt(Ee+2)]>>2,ye[ot++]=I>>8&255,ye[ot++]=I&255),ye}function X(L){return t[L>>18&63]+t[L>>12&63]+t[L>>6&63]+t[L&63]}function re(L,I,ee){for(var ie,le=[],ye=I;ye<ee;ye+=3)ie=(L[ye]<<16&16711680)+(L[ye+1]<<8&65280)+(L[ye+2]&255),le.push(X(ie));return le.join("")}function q(L){for(var I,ee=L.length,ie=ee%3,le=[],ye=16383,ot=0,qe=ee-ie;ot<qe;ot+=ye)le.push(re(L,ot,ot+ye>qe?qe:ot+ye));return ie===1?(I=L[ee-1],le.push(t[I>>2]+t[I<<4&63]+"==")):ie===2&&(I=(L[ee-2]<<8)+L[ee-1],le.push(t[I>>10]+t[I>>4&63]+t[I<<2&63]+"=")),le.join("")}}),Ro=S(e=>{a(),e.read=function(t,r,n,o,y){var E,g,T=y*8-o-1,P=(1<<T)-1,V=P>>1,X=-7,re=n?y-1:0,q=n?-1:1,L=t[r+re];for(re+=q,E=L&(1<<-X)-1,L>>=-X,X+=T;X>0;E=E*256+t[r+re],re+=q,X-=8);for(g=E&(1<<-X)-1,E>>=-X,X+=o;X>0;g=g*256+t[r+re],re+=q,X-=8);if(E===0)E=1-V;else{if(E===P)return g?NaN:(L?-1:1)*(1/0);g=g+Math.pow(2,o),E=E-V}return(L?-1:1)*g*Math.pow(2,E-o)},e.write=function(t,r,n,o,y,E){var g,T,P,V=E*8-y-1,X=(1<<V)-1,re=X>>1,q=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,L=o?0:E-1,I=o?1:-1,ee=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(T=isNaN(r)?1:0,g=X):(g=Math.floor(Math.log(r)/Math.LN2),r*(P=Math.pow(2,-g))<1&&(g--,P*=2),g+re>=1?r+=q/P:r+=q*Math.pow(2,1-re),r*P>=2&&(g++,P/=2),g+re>=X?(T=0,g=X):g+re>=1?(T=(r*P-1)*Math.pow(2,y),g=g+re):(T=r*Math.pow(2,re-1)*Math.pow(2,y),g=0));y>=8;t[n+L]=T&255,L+=I,T/=256,y-=8);for(g=g<<y|T,V+=y;V>0;t[n+L]=g&255,L+=I,g/=256,V-=8);t[n+L-I]|=ee*128}}),ti=S(e=>{a();var t=Po(),r=Ro(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=g,e.SlowBuffer=le,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,g.TYPED_ARRAY_SUPPORT=y(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function y(){try{let s=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(s,w),s.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function E(s){if(s>o)throw new RangeError('The value "'+s+'" is invalid for option "size"');let w=new Uint8Array(s);return Object.setPrototypeOf(w,g.prototype),w}function g(s,w,k){if(typeof s=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return X(s)}return T(s,w,k)}g.poolSize=8192;function T(s,w,k){if(typeof s=="string")return re(s,w);if(ArrayBuffer.isView(s))return L(s);if(s==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s);if(Qr(s,ArrayBuffer)||s&&Qr(s.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Qr(s,SharedArrayBuffer)||s&&Qr(s.buffer,SharedArrayBuffer)))return I(s,w,k);if(typeof s=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let he=s.valueOf&&s.valueOf();if(he!=null&&he!==s)return g.from(he,w,k);let we=ee(s);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof s[Symbol.toPrimitive]=="function")return g.from(s[Symbol.toPrimitive]("string"),w,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s)}g.from=function(s,w,k){return T(s,w,k)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array);function P(s){if(typeof s!="number")throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function V(s,w,k){return P(s),s<=0?E(s):w!==void 0?typeof k=="string"?E(s).fill(w,k):E(s).fill(w):E(s)}g.alloc=function(s,w,k){return V(s,w,k)};function X(s){return P(s),E(s<0?0:ie(s)|0)}g.allocUnsafe=function(s){return X(s)},g.allocUnsafeSlow=function(s){return X(s)};function re(s,w){if((typeof w!="string"||w==="")&&(w="utf8"),!g.isEncoding(w))throw new TypeError("Unknown encoding: "+w);let k=ye(s,w)|0,he=E(k),we=he.write(s,w);return we!==k&&(he=he.slice(0,we)),he}function q(s){let w=s.length<0?0:ie(s.length)|0,k=E(w);for(let he=0;he<w;he+=1)k[he]=s[he]&255;return k}function L(s){if(Qr(s,Uint8Array)){let w=new Uint8Array(s);return I(w.buffer,w.byteOffset,w.byteLength)}return q(s)}function I(s,w,k){if(w<0||s.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<w+(k||0))throw new RangeError('"length" is outside of buffer bounds');let he;return w===void 0&&k===void 0?he=new Uint8Array(s):k===void 0?he=new Uint8Array(s,w):he=new Uint8Array(s,w,k),Object.setPrototypeOf(he,g.prototype),he}function ee(s){if(g.isBuffer(s)){let w=ie(s.length)|0,k=E(w);return k.length===0||s.copy(k,0,0,w),k}if(s.length!==void 0)return typeof s.length!="number"||ei(s.length)?E(0):q(s);if(s.type==="Buffer"&&Array.isArray(s.data))return q(s.data)}function ie(s){if(s>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return s|0}function le(s){return+s!=s&&(s=0),g.alloc(+s)}g.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==g.prototype},g.compare=function(s,w){if(Qr(s,Uint8Array)&&(s=g.from(s,s.offset,s.byteLength)),Qr(w,Uint8Array)&&(w=g.from(w,w.offset,w.byteLength)),!g.isBuffer(s)||!g.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===w)return 0;let k=s.length,he=w.length;for(let we=0,at=Math.min(k,he);we<at;++we)if(s[we]!==w[we]){k=s[we],he=w[we];break}return k<he?-1:he<k?1:0},g.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(s,w){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return g.alloc(0);let k;if(w===void 0)for(w=0,k=0;k<s.length;++k)w+=s[k].length;let he=g.allocUnsafe(w),we=0;for(k=0;k<s.length;++k){let at=s[k];if(Qr(at,Uint8Array))we+at.length>he.length?(g.isBuffer(at)||(at=g.from(at)),at.copy(he,we)):Uint8Array.prototype.set.call(he,at,we);else if(g.isBuffer(at))at.copy(he,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=at.length}return he};function ye(s,w){if(g.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||Qr(s,ArrayBuffer))return s.byteLength;if(typeof s!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof s);let k=s.length,he=arguments.length>2&&arguments[2]===!0;if(!he&&k===0)return 0;let we=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return vr(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return qr(s).length;default:if(we)return he?-1:vr(s).length;w=(""+w).toLowerCase(),we=!0}}g.byteLength=ye;function ot(s,w,k){let he=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,w>>>=0,k<=w))return"";for(s||(s="utf8");;)switch(s){case"hex":return ni(this,w,k);case"utf8":case"utf-8":return Hr(this,w,k);case"ascii":return wo(this,w,k);case"latin1":case"binary":return Gr(this,w,k);case"base64":return zr(this,w,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ki(this,w,k);default:if(he)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),he=!0}}g.prototype._isBuffer=!0;function qe(s,w,k){let he=s[w];s[w]=s[k],s[k]=he}g.prototype.swap16=function(){let s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<s;w+=2)qe(this,w,w+1);return this},g.prototype.swap32=function(){let s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<s;w+=4)qe(this,w,w+3),qe(this,w+1,w+2);return this},g.prototype.swap64=function(){let s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<s;w+=8)qe(this,w,w+7),qe(this,w+1,w+6),qe(this,w+2,w+5),qe(this,w+3,w+4);return this},g.prototype.toString=function(){let s=this.length;return s===0?"":arguments.length===0?Hr(this,0,s):ot.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(s){if(!g.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:g.compare(this,s)===0},g.prototype.inspect=function(){let s="",w=e.INSPECT_MAX_BYTES;return s=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(s+=" ... "),"<Buffer "+s+">"},n&&(g.prototype[n]=g.prototype.inspect),g.prototype.compare=function(s,w,k,he,we){if(Qr(s,Uint8Array)&&(s=g.from(s,s.offset,s.byteLength)),!g.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(w===void 0&&(w=0),k===void 0&&(k=s?s.length:0),he===void 0&&(he=0),we===void 0&&(we=this.length),w<0||k>s.length||he<0||we>this.length)throw new RangeError("out of range index");if(he>=we&&w>=k)return 0;if(he>=we)return-1;if(w>=k)return 1;if(w>>>=0,k>>>=0,he>>>=0,we>>>=0,this===s)return 0;let at=we-he,er=k-w,tn=Math.min(at,er),ri=this.slice(he,we),Zr=s.slice(w,k);for(let Yr=0;Yr<tn;++Yr)if(ri[Yr]!==Zr[Yr]){at=ri[Yr],er=Zr[Yr];break}return at<er?-1:er<at?1:0};function Ee(s,w,k,he,we){if(s.length===0)return-1;if(typeof k=="string"?(he=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,ei(k)&&(k=we?0:s.length-1),k<0&&(k=s.length+k),k>=s.length){if(we)return-1;k=s.length-1}else if(k<0)if(we)k=0;else return-1;if(typeof w=="string"&&(w=g.from(w,he)),g.isBuffer(w))return w.length===0?-1:it(s,w,k,he,we);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(s,w,k):Uint8Array.prototype.lastIndexOf.call(s,w,k):it(s,[w],k,he,we);throw new TypeError("val must be string, number or Buffer")}function it(s,w,k,he,we){let at=1,er=s.length,tn=w.length;if(he!==void 0&&(he=String(he).toLowerCase(),he==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(s.length<2||w.length<2)return-1;at=2,er/=2,tn/=2,k/=2}function ri(Yr,Ei){return at===1?Yr[Ei]:Yr.readUInt16BE(Ei*at)}let Zr;if(we){let Yr=-1;for(Zr=k;Zr<er;Zr++)if(ri(s,Zr)===ri(w,Yr===-1?0:Zr-Yr)){if(Yr===-1&&(Yr=Zr),Zr-Yr+1===tn)return Yr*at}else Yr!==-1&&(Zr-=Zr-Yr),Yr=-1}else for(k+tn>er&&(k=er-tn),Zr=k;Zr>=0;Zr--){let Yr=!0;for(let Ei=0;Ei<tn;Ei++)if(ri(s,Zr+Ei)!==ri(w,Ei)){Yr=!1;break}if(Yr)return Zr}return-1}g.prototype.includes=function(s,w,k){return this.indexOf(s,w,k)!==-1},g.prototype.indexOf=function(s,w,k){return Ee(this,s,w,k,!0)},g.prototype.lastIndexOf=function(s,w,k){return Ee(this,s,w,k,!1)};function Ie(s,w,k,he){k=Number(k)||0;let we=s.length-k;he?(he=Number(he),he>we&&(he=we)):he=we;let at=w.length;he>at/2&&(he=at/2);let er;for(er=0;er<he;++er){let tn=parseInt(w.substr(er*2,2),16);if(ei(tn))return er;s[k+er]=tn}return er}function jt(s,w,k,he){return Kr(vr(w,s.length-k),s,k,he)}function Qt(s,w,k,he){return Kr(Fr(w),s,k,he)}function sr(s,w,k,he){return Kr(qr(w),s,k,he)}function Pr(s,w,k,he){return Kr(st(w,s.length-k),s,k,he)}g.prototype.write=function(s,w,k,he){if(w===void 0)he="utf8",k=this.length,w=0;else if(k===void 0&&typeof w=="string")he=w,k=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(k)?(k=k>>>0,he===void 0&&(he="utf8")):(he=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let we=this.length-w;if((k===void 0||k>we)&&(k=we),s.length>0&&(k<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");let at=!1;for(;;)switch(he){case"hex":return Ie(this,s,w,k);case"utf8":case"utf-8":return jt(this,s,w,k);case"ascii":case"latin1":case"binary":return Qt(this,s,w,k);case"base64":return sr(this,s,w,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pr(this,s,w,k);default:if(at)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),at=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function zr(s,w,k){return w===0&&k===s.length?t.fromByteArray(s):t.fromByteArray(s.slice(w,k))}function Hr(s,w,k){k=Math.min(s.length,k);let he=[],we=w;for(;we<k;){let at=s[we],er=null,tn=at>239?4:at>223?3:at>191?2:1;if(we+tn<=k){let ri,Zr,Yr,Ei;switch(tn){case 1:at<128&&(er=at);break;case 2:ri=s[we+1],(ri&192)===128&&(Ei=(at&31)<<6|ri&63,Ei>127&&(er=Ei));break;case 3:ri=s[we+1],Zr=s[we+2],(ri&192)===128&&(Zr&192)===128&&(Ei=(at&15)<<12|(ri&63)<<6|Zr&63,Ei>2047&&(Ei<55296||Ei>57343)&&(er=Ei));break;case 4:ri=s[we+1],Zr=s[we+2],Yr=s[we+3],(ri&192)===128&&(Zr&192)===128&&(Yr&192)===128&&(Ei=(at&15)<<18|(ri&63)<<12|(Zr&63)<<6|Yr&63,Ei>65535&&Ei<1114112&&(er=Ei))}}er===null?(er=65533,tn=1):er>65535&&(er-=65536,he.push(er>>>10&1023|55296),er=56320|er&1023),he.push(er),we+=tn}return rn(he)}var en=4096;function rn(s){let w=s.length;if(w<=en)return String.fromCharCode.apply(String,s);let k="",he=0;for(;he<w;)k+=String.fromCharCode.apply(String,s.slice(he,he+=en));return k}function wo(s,w,k){let he="";k=Math.min(s.length,k);for(let we=w;we<k;++we)he+=String.fromCharCode(s[we]&127);return he}function Gr(s,w,k){let he="";k=Math.min(s.length,k);for(let we=w;we<k;++we)he+=String.fromCharCode(s[we]);return he}function ni(s,w,k){let he=s.length;(!w||w<0)&&(w=0),(!k||k<0||k>he)&&(k=he);let we="";for(let at=w;at<k;++at)we+=Bi[s[at]];return we}function ki(s,w,k){let he=s.slice(w,k),we="";for(let at=0;at<he.length-1;at+=2)we+=String.fromCharCode(he[at]+he[at+1]*256);return we}g.prototype.slice=function(s,w){let k=this.length;s=~~s,w=w===void 0?k:~~w,s<0?(s+=k,s<0&&(s=0)):s>k&&(s=k),w<0?(w+=k,w<0&&(w=0)):w>k&&(w=k),w<s&&(w=s);let he=this.subarray(s,w);return Object.setPrototypeOf(he,g.prototype),he};function Xr(s,w,k){if(s%1!==0||s<0)throw new RangeError("offset is not uint");if(s+w>k)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUintLE=g.prototype.readUIntLE=function(s,w,k){s=s>>>0,w=w>>>0,k||Xr(s,w,this.length);let he=this[s],we=1,at=0;for(;++at<w&&(we*=256);)he+=this[s+at]*we;return he},g.prototype.readUintBE=g.prototype.readUIntBE=function(s,w,k){s=s>>>0,w=w>>>0,k||Xr(s,w,this.length);let he=this[s+--w],we=1;for(;w>0&&(we*=256);)he+=this[s+--w]*we;return he},g.prototype.readUint8=g.prototype.readUInt8=function(s,w){return s=s>>>0,w||Xr(s,1,this.length),this[s]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(s,w){return s=s>>>0,w||Xr(s,2,this.length),this[s]|this[s+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(s,w){return s=s>>>0,w||Xr(s,2,this.length),this[s]<<8|this[s+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},g.prototype.readBigUInt64LE=_i(function(s){s=s>>>0,et(s,"offset");let w=this[s],k=this[s+7];(w===void 0||k===void 0)&&_e(s,this.length-8);let he=w+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,we=this[++s]+this[++s]*2**8+this[++s]*2**16+k*2**24;return BigInt(he)+(BigInt(we)<<BigInt(32))}),g.prototype.readBigUInt64BE=_i(function(s){s=s>>>0,et(s,"offset");let w=this[s],k=this[s+7];(w===void 0||k===void 0)&&_e(s,this.length-8);let he=w*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],we=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+k;return(BigInt(he)<<BigInt(32))+BigInt(we)}),g.prototype.readIntLE=function(s,w,k){s=s>>>0,w=w>>>0,k||Xr(s,w,this.length);let he=this[s],we=1,at=0;for(;++at<w&&(we*=256);)he+=this[s+at]*we;return we*=128,he>=we&&(he-=Math.pow(2,8*w)),he},g.prototype.readIntBE=function(s,w,k){s=s>>>0,w=w>>>0,k||Xr(s,w,this.length);let he=w,we=1,at=this[s+--he];for(;he>0&&(we*=256);)at+=this[s+--he]*we;return we*=128,at>=we&&(at-=Math.pow(2,8*w)),at},g.prototype.readInt8=function(s,w){return s=s>>>0,w||Xr(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},g.prototype.readInt16LE=function(s,w){s=s>>>0,w||Xr(s,2,this.length);let k=this[s]|this[s+1]<<8;return k&32768?k|4294901760:k},g.prototype.readInt16BE=function(s,w){s=s>>>0,w||Xr(s,2,this.length);let k=this[s+1]|this[s]<<8;return k&32768?k|4294901760:k},g.prototype.readInt32LE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},g.prototype.readInt32BE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},g.prototype.readBigInt64LE=_i(function(s){s=s>>>0,et(s,"offset");let w=this[s],k=this[s+7];(w===void 0||k===void 0)&&_e(s,this.length-8);let he=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(k<<24);return(BigInt(he)<<BigInt(32))+BigInt(w+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),g.prototype.readBigInt64BE=_i(function(s){s=s>>>0,et(s,"offset");let w=this[s],k=this[s+7];(w===void 0||k===void 0)&&_e(s,this.length-8);let he=(w<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(he)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+k)}),g.prototype.readFloatLE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),r.read(this,s,!0,23,4)},g.prototype.readFloatBE=function(s,w){return s=s>>>0,w||Xr(s,4,this.length),r.read(this,s,!1,23,4)},g.prototype.readDoubleLE=function(s,w){return s=s>>>0,w||Xr(s,8,this.length),r.read(this,s,!0,52,8)},g.prototype.readDoubleBE=function(s,w){return s=s>>>0,w||Xr(s,8,this.length),r.read(this,s,!1,52,8)};function Dt(s,w,k,he,we,at){if(!g.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>we||w<at)throw new RangeError('"value" argument is out of bounds');if(k+he>s.length)throw new RangeError("Index out of range")}g.prototype.writeUintLE=g.prototype.writeUIntLE=function(s,w,k,he){if(s=+s,w=w>>>0,k=k>>>0,!he){let er=Math.pow(2,8*k)-1;Dt(this,s,w,k,er,0)}let we=1,at=0;for(this[w]=s&255;++at<k&&(we*=256);)this[w+at]=s/we&255;return w+k},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(s,w,k,he){if(s=+s,w=w>>>0,k=k>>>0,!he){let er=Math.pow(2,8*k)-1;Dt(this,s,w,k,er,0)}let we=k-1,at=1;for(this[w+we]=s&255;--we>=0&&(at*=256);)this[w+we]=s/at&255;return w+k},g.prototype.writeUint8=g.prototype.writeUInt8=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,1,255,0),this[w]=s&255,w+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,2,65535,0),this[w]=s&255,this[w+1]=s>>>8,w+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,2,65535,0),this[w]=s>>>8,this[w+1]=s&255,w+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,4,4294967295,0),this[w+3]=s>>>24,this[w+2]=s>>>16,this[w+1]=s>>>8,this[w]=s&255,w+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,4,4294967295,0),this[w]=s>>>24,this[w+1]=s>>>16,this[w+2]=s>>>8,this[w+3]=s&255,w+4};function tr(s,w,k,he,we){Xt(w,he,we,s,k,7);let at=Number(w&BigInt(4294967295));s[k++]=at,at=at>>8,s[k++]=at,at=at>>8,s[k++]=at,at=at>>8,s[k++]=at;let er=Number(w>>BigInt(32)&BigInt(4294967295));return s[k++]=er,er=er>>8,s[k++]=er,er=er>>8,s[k++]=er,er=er>>8,s[k++]=er,k}function Wt(s,w,k,he,we){Xt(w,he,we,s,k,7);let at=Number(w&BigInt(4294967295));s[k+7]=at,at=at>>8,s[k+6]=at,at=at>>8,s[k+5]=at,at=at>>8,s[k+4]=at;let er=Number(w>>BigInt(32)&BigInt(4294967295));return s[k+3]=er,er=er>>8,s[k+2]=er,er=er>>8,s[k+1]=er,er=er>>8,s[k]=er,k+8}g.prototype.writeBigUInt64LE=_i(function(s,w=0){return tr(this,s,w,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=_i(function(s,w=0){return Wt(this,s,w,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(s,w,k,he){if(s=+s,w=w>>>0,!he){let tn=Math.pow(2,8*k-1);Dt(this,s,w,k,tn-1,-tn)}let we=0,at=1,er=0;for(this[w]=s&255;++we<k&&(at*=256);)s<0&&er===0&&this[w+we-1]!==0&&(er=1),this[w+we]=(s/at>>0)-er&255;return w+k},g.prototype.writeIntBE=function(s,w,k,he){if(s=+s,w=w>>>0,!he){let tn=Math.pow(2,8*k-1);Dt(this,s,w,k,tn-1,-tn)}let we=k-1,at=1,er=0;for(this[w+we]=s&255;--we>=0&&(at*=256);)s<0&&er===0&&this[w+we+1]!==0&&(er=1),this[w+we]=(s/at>>0)-er&255;return w+k},g.prototype.writeInt8=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,1,127,-128),s<0&&(s=255+s+1),this[w]=s&255,w+1},g.prototype.writeInt16LE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,2,32767,-32768),this[w]=s&255,this[w+1]=s>>>8,w+2},g.prototype.writeInt16BE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,2,32767,-32768),this[w]=s>>>8,this[w+1]=s&255,w+2},g.prototype.writeInt32LE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,4,2147483647,-2147483648),this[w]=s&255,this[w+1]=s>>>8,this[w+2]=s>>>16,this[w+3]=s>>>24,w+4},g.prototype.writeInt32BE=function(s,w,k){return s=+s,w=w>>>0,k||Dt(this,s,w,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[w]=s>>>24,this[w+1]=s>>>16,this[w+2]=s>>>8,this[w+3]=s&255,w+4},g.prototype.writeBigInt64LE=_i(function(s,w=0){return tr(this,s,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=_i(function(s,w=0){return Wt(this,s,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Jr(s,w,k,he,we,at){if(k+he>s.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function ao(s,w,k,he,we){return w=+w,k=k>>>0,we||Jr(s,w,k,4),r.write(s,w,k,he,23,4),k+4}g.prototype.writeFloatLE=function(s,w,k){return ao(this,s,w,!0,k)},g.prototype.writeFloatBE=function(s,w,k){return ao(this,s,w,!1,k)};function yo(s,w,k,he,we){return w=+w,k=k>>>0,we||Jr(s,w,k,8),r.write(s,w,k,he,52,8),k+8}g.prototype.writeDoubleLE=function(s,w,k){return yo(this,s,w,!0,k)},g.prototype.writeDoubleBE=function(s,w,k){return yo(this,s,w,!1,k)},g.prototype.copy=function(s,w,k,he){if(!g.isBuffer(s))throw new TypeError("argument should be a Buffer");if(k||(k=0),!he&&he!==0&&(he=this.length),w>=s.length&&(w=s.length),w||(w=0),he>0&&he<k&&(he=k),he===k||s.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),s.length-w<he-k&&(he=s.length-w+k);let we=he-k;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,k,he):Uint8Array.prototype.set.call(s,this.subarray(k,he),w),we},g.prototype.fill=function(s,w,k,he){if(typeof s=="string"){if(typeof w=="string"?(he=w,w=0,k=this.length):typeof k=="string"&&(he=k,k=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!g.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(s.length===1){let at=s.charCodeAt(0);(he==="utf8"&&at<128||he==="latin1")&&(s=at)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(w<0||this.length<w||this.length<k)throw new RangeError("Out of range index");if(k<=w)return this;w=w>>>0,k=k===void 0?this.length:k>>>0,s||(s=0);let we;if(typeof s=="number")for(we=w;we<k;++we)this[we]=s;else{let at=g.isBuffer(s)?s:g.from(s,he),er=at.length;if(er===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(we=0;we<k-w;++we)this[we+w]=at[we%er]}return this};var rr={};function Br(s,w,k){rr[s]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${s}]`,this.stack,delete this.name}get code(){return s}set code(he){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:he,writable:!0})}toString(){return`${this.name} [${s}]: ${this.message}`}}}Br("ERR_BUFFER_OUT_OF_BOUNDS",function(s){return s?`${s} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Br("ERR_INVALID_ARG_TYPE",function(s,w){return`The "${s}" argument must be of type number. Received type ${typeof w}`},TypeError),Br("ERR_OUT_OF_RANGE",function(s,w,k){let he=`The value of "${s}" is out of range.`,we=k;return Number.isInteger(k)&&Math.abs(k)>2**32?we=je(String(k)):typeof k=="bigint"&&(we=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(we=je(we)),we+="n"),he+=` It must be ${w}. Received ${we}`,he},RangeError);function je(s){let w="",k=s.length,he=s[0]==="-"?1:0;for(;k>=he+4;k-=3)w=`_${s.slice(k-3,k)}${w}`;return`${s.slice(0,k)}${w}`}function Gt(s,w,k){et(w,"offset"),(s[w]===void 0||s[w+k]===void 0)&&_e(w,s.length-(k+1))}function Xt(s,w,k,he,we,at){if(s>k||s<w){let er=typeof w=="bigint"?"n":"",tn;throw at>3?w===0||w===BigInt(0)?tn=`>= 0${er} and < 2${er} ** ${(at+1)*8}${er}`:tn=`>= -(2${er} ** ${(at+1)*8-1}${er}) and < 2 ** ${(at+1)*8-1}${er}`:tn=`>= ${w}${er} and <= ${k}${er}`,new rr.ERR_OUT_OF_RANGE("value",tn,s)}Gt(he,we,at)}function et(s,w){if(typeof s!="number")throw new rr.ERR_INVALID_ARG_TYPE(w,"number",s)}function _e(s,w,k){throw Math.floor(s)!==s?(et(s,k),new rr.ERR_OUT_OF_RANGE(k||"offset","an integer",s)):w<0?new rr.ERR_BUFFER_OUT_OF_BOUNDS:new rr.ERR_OUT_OF_RANGE(k||"offset",`>= ${k?1:0} and <= ${w}`,s)}var ir=/[^+/0-9A-Za-z-_]/g;function Rr(s){if(s=s.split("=")[0],s=s.trim().replace(ir,""),s.length<2)return"";for(;s.length%4!==0;)s=s+"=";return s}function vr(s,w){w=w||1/0;let k,he=s.length,we=null,at=[];for(let er=0;er<he;++er){if(k=s.charCodeAt(er),k>55295&&k<57344){if(!we){if(k>56319){(w-=3)>-1&&at.push(239,191,189);continue}else if(er+1===he){(w-=3)>-1&&at.push(239,191,189);continue}we=k;continue}if(k<56320){(w-=3)>-1&&at.push(239,191,189),we=k;continue}k=(we-55296<<10|k-56320)+65536}else we&&(w-=3)>-1&&at.push(239,191,189);if(we=null,k<128){if((w-=1)<0)break;at.push(k)}else if(k<2048){if((w-=2)<0)break;at.push(k>>6|192,k&63|128)}else if(k<65536){if((w-=3)<0)break;at.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((w-=4)<0)break;at.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return at}function Fr(s){let w=[];for(let k=0;k<s.length;++k)w.push(s.charCodeAt(k)&255);return w}function st(s,w){let k,he,we,at=[];for(let er=0;er<s.length&&!((w-=2)<0);++er)k=s.charCodeAt(er),he=k>>8,we=k%256,at.push(we),at.push(he);return at}function qr(s){return t.toByteArray(Rr(s))}function Kr(s,w,k,he){let we;for(we=0;we<he&&!(we+k>=w.length||we>=s.length);++we)w[we+k]=s[we];return we}function Qr(s,w){return s instanceof w||s!=null&&s.constructor!=null&&s.constructor.name!=null&&s.constructor.name===w.name}function ei(s){return s!==s}var Bi=function(){let s="0123456789abcdef",w=new Array(256);for(let k=0;k<16;++k){let he=k*16;for(let we=0;we<16;++we)w[he+we]=s[k]+s[we]}return w}();function _i(s){return typeof BigInt>"u"?Ii:s}function Ii(){throw new Error("BigInt not supported")}}),si=S((e,t)=>{a();var r=t.exports={},n,o;function y(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=y}catch{n=y}try{typeof clearTimeout=="function"?o=clearTimeout:o=E}catch{o=E}})();function g(ie){if(n===setTimeout)return setTimeout(ie,0);if((n===y||!n)&&setTimeout)return n=setTimeout,setTimeout(ie,0);try{return n(ie,0)}catch{try{return n.call(null,ie,0)}catch{return n.call(this,ie,0)}}}function T(ie){if(o===clearTimeout)return clearTimeout(ie);if((o===E||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(ie);try{return o(ie)}catch{try{return o.call(null,ie)}catch{return o.call(this,ie)}}}var P=[],V=!1,X,re=-1;function q(){!V||!X||(V=!1,X.length?P=X.concat(P):re=-1,P.length&&L())}function L(){if(!V){var ie=g(q);V=!0;for(var le=P.length;le;){for(X=P,P=[];++re<le;)X&&X[re].run();re=-1,le=P.length}X=null,V=!1,T(ie)}}r.nextTick=function(ie){var le=new Array(arguments.length-1);if(arguments.length>1)for(var ye=1;ye<arguments.length;ye++)le[ye-1]=arguments[ye];P.push(new I(ie,le)),P.length===1&&!V&&g(L)};function I(ie,le){this.fun=ie,this.array=le}I.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function ee(){}r.on=ee,r.addListener=ee,r.once=ee,r.off=ee,r.removeListener=ee,r.removeAllListeners=ee,r.emit=ee,r.prependListener=ee,r.prependOnceListener=ee,r.listeners=function(ie){return[]},r.binding=function(ie){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(ie){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),p,d,a=F(()=>{ti().Buffer,p=si(),d=globalThis,globalThis&&globalThis.process&&globalThis.process.env&&(globalThis.process.env.LIBP2P_FORCE_PNET=!1)});function ci(e,t,r){t=t||[],r=r||0;for(var n=r;e>=mf;)t[r++]=e&255|ai,e/=128;for(;e&pf;)t[r++]=e&255|ai,e>>>=7;return t[r]=e|0,ci.bytes=r-n+1,t}function un(e,n){var r=0,n=n||0,o=0,y=n,E,g=e.length;do{if(y>=g)throw un.bytes=0,new RangeError("Could not decode varint");E=e[y++],r+=o<28?(E&ui)<<o:(E&ui)*Math.pow(2,o),o+=7}while(E>=wf);return un.bytes=y-n,r}var df,ai,hf,pf,mf,yf,wf,ui,gf,Df,bf,Ef,xf,Cf,Bf,Af,Tf,If,Sf,Uf,Lt,fi=F(()=>{a(),df=ci,ai=128,hf=127,pf=~hf,mf=Math.pow(2,31),yf=un,wf=128,ui=127,gf=Math.pow(2,7),Df=Math.pow(2,14),bf=Math.pow(2,21),Ef=Math.pow(2,28),xf=Math.pow(2,35),Cf=Math.pow(2,42),Bf=Math.pow(2,49),Af=Math.pow(2,56),Tf=Math.pow(2,63),If=function(e){return e<gf?1:e<Df?2:e<bf?3:e<Ef?4:e<xf?5:e<Cf?6:e<Bf?7:e<Af?8:e<Tf?9:10},Sf={encode:df,decode:yf,encodingLength:If},Uf=Sf,Lt=Uf}),Pt,ut,ct,cr=F(()=>{a(),fi(),Pt=e=>[Lt.decode(e),Lt.decode.bytes],ut=(e,t,r=0)=>(Lt.encode(e,t,r),t),ct=e=>Lt.encodingLength(e)}),li,Se,di,hi,Ne=F(()=>{a(),li=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Se=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},di=e=>new TextEncoder().encode(e),hi=e=>new TextDecoder().decode(e)}),Ue={};M(Ue,{Digest:()=>Xe,create:()=>$e,decode:()=>ft,equals:()=>fn});var $e,ft,fn,Xe,Le=F(()=>{a(),Ne(),cr(),$e=(e,t)=>{let r=t.byteLength,n=ct(e),o=n+ct(r),y=new Uint8Array(o+r);return ut(e,y,0),ut(r,y,n),y.set(t,o),new Xe(e,r,t,y)},ft=e=>{let t=Se(e),[r,n]=Pt(t),[o,y]=Pt(t.subarray(n)),E=t.subarray(n+y);if(E.byteLength!==o)throw new Error("Incorrect length");return new Xe(r,o,E,t)},fn=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&li(e.bytes,t.bytes),Xe=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}});function Ff(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var y=e.charAt(o),E=y.charCodeAt(0);if(r[E]!==255)throw new TypeError(y+" is ambiguous");r[E]=o}var g=e.length,T=e.charAt(0),P=Math.log(g)/Math.log(256),V=Math.log(256)/Math.log(g);function X(L){if(L instanceof Uint8Array||(ArrayBuffer.isView(L)?L=new Uint8Array(L.buffer,L.byteOffset,L.byteLength):Array.isArray(L)&&(L=Uint8Array.from(L))),!(L instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(L.length===0)return"";for(var I=0,ee=0,ie=0,le=L.length;ie!==le&&L[ie]===0;)ie++,I++;for(var ye=(le-ie)*V+1>>>0,ot=new Uint8Array(ye);ie!==le;){for(var qe=L[ie],Ee=0,it=ye-1;(qe!==0||Ee<ee)&&it!==-1;it--,Ee++)qe+=256*ot[it]>>>0,ot[it]=qe%g>>>0,qe=qe/g>>>0;if(qe!==0)throw new Error("Non-zero carry");ee=Ee,ie++}for(var Ie=ye-ee;Ie!==ye&&ot[Ie]===0;)Ie++;for(var jt=T.repeat(I);Ie<ye;++Ie)jt+=e.charAt(ot[Ie]);return jt}function re(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return new Uint8Array;var I=0;if(L[I]!==" "){for(var ee=0,ie=0;L[I]===T;)ee++,I++;for(var le=(L.length-I)*P+1>>>0,ye=new Uint8Array(le);L[I];){var ot=r[L.charCodeAt(I)];if(ot===255)return;for(var qe=0,Ee=le-1;(ot!==0||qe<ie)&&Ee!==-1;Ee--,qe++)ot+=g*ye[Ee]>>>0,ye[Ee]=ot%256>>>0,ot=ot/256>>>0;if(ot!==0)throw new Error("Non-zero carry");ie=qe,I++}if(L[I]!==" "){for(var it=le-ie;it!==le&&ye[it]===0;)it++;for(var Ie=new Uint8Array(ee+(le-it)),jt=ee;it!==le;)Ie[jt++]=ye[it++];return Ie}}}function q(L){var I=re(L);if(I)return I;throw new Error(`Non-${t} character`)}return{encode:X,decodeUnsafe:re,decode:q}}var vf,kf,pi,mi=F(()=>{a(),vf=Ff,kf=vf,pi=kf}),ln,dn,hn,yi,pn,lt,Pe,_f,Nf,_,pe=F(()=>{a(),mi(),Ne(),ln=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},dn=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return yi(this,e)}},hn=class{constructor(e){this.decoders=e}or(e){return yi(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},yi=(e,t)=>new hn({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),pn=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new ln(e,t,r),this.decoder=new dn(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},lt=({name:e,prefix:t,encode:r,decode:n})=>new pn(e,t,r,n),Pe=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=pi(r,t);return lt({prefix:e,name:t,encode:n,decode:y=>Se(o(y))})},_f=(e,t,r,n)=>{let o={};for(let V=0;V<t.length;++V)o[t[V]]=V;let y=e.length;for(;e[y-1]==="=";)--y;let E=new Uint8Array(y*r/8|0),g=0,T=0,P=0;for(let V=0;V<y;++V){let X=o[e[V]];if(X===void 0)throw new SyntaxError(`Non-${n} character`);T=T<<r|X,g+=r,g>=8&&(g-=8,E[P++]=255&T>>g)}if(g>=r||255&T<<8-g)throw new SyntaxError("Unexpected end of data");return E},Nf=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,y="",E=0,g=0;for(let T=0;T<e.length;++T)for(g=g<<8|e[T],E+=8;E>r;)E-=r,y+=t[o&g>>E];if(E&&(y+=t[o&g<<r-E]),n)for(;y.length*r&7;)y+="=";return y},_=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>lt({prefix:t,name:e,encode(o){return Nf(o,n,r)},decode(o){return _f(o,n,r,e)}})}),dt={};M(dt,{base58btc:()=>Y,base58flickr:()=>$f});var Y,$f,Re=F(()=>{a(),pe(),Y=Pe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$f=Pe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),Rt={};M(Rt,{base32:()=>Me,base32hex:()=>Mf,base32hexpad:()=>zf,base32hexpadupper:()=>qf,base32hexupper:()=>Of,base32pad:()=>Pf,base32padupper:()=>Rf,base32upper:()=>Lf,base32z:()=>Hf});var Me,Lf,Pf,Rf,Mf,Of,zf,qf,Hf,ht=F(()=>{a(),pe(),Me=_({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Lf=_({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pf=_({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Rf=_({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mf=_({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Of=_({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zf=_({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qf=_({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Hf=_({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),dr={};M(dr,{CID:()=>x});var x,jf,Vf,Gf,Mt,Wf,wi,gi,fr,lr,Jf,Xf,Yf,Q=F(()=>{a(),cr(),Le(),Re(),ht(),Ne(),x=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:lr,byteLength:lr,code:fr,version:fr,multihash:fr,bytes:fr,_baseCache:lr,asCID:lr})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==Mt)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Wf)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return x.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=$e(e,t);return x.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&fn(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return Vf(t,n,e||Y.encoder);default:return Gf(t,n,e||Me.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Xf(/^0\.0/,Yf),!!(e&&(e[gi]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof x)return e;if(e!=null&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:o}=e;return new x(t,r,n,o||wi(t,r,n.bytes))}else if(e!=null&&e[gi]===!0){let{version:t,multihash:r,code:n}=e,o=ft(r);return x.create(t,n,o)}else return null}static create(e,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==Mt)throw new Error(`Version 0 CID must use dag-pb (code: ${Mt}) block encoding`);return new x(e,t,r,r.bytes)}case 1:{let n=wi(e,t,r.bytes);return new x(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return x.create(0,Mt,e)}static createV1(e,t){return x.create(1,e,t)}static decode(e){let[t,r]=x.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=x.inspectBytes(e),r=t.size-t.multihashSize,n=Se(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),y=new Xe(t.multihashCode,t.digestSize,o,n);return[t.version===0?x.createV0(y):x.createV1(t.codec,y),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[V,X]=Pt(e.subarray(t));return t+=X,V},n=r(),o=Mt;if(n===18?(n=0,t=0):n===1&&(o=r()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let y=t,E=r(),g=r(),T=t+g,P=T-y;return{version:n,codec:o,multihashCode:E,digestSize:g,multihashSize:P,size:T}}static parse(e,t){let[r,n]=jf(e,t),o=x.decode(n);return o._baseCache.set(r,e),o}},jf=(e,t)=>{switch(e[0]){case"Q":{let r=t||Y;return[Y.prefix,r.decode(`${Y.prefix}${e}`)]}case Y.prefix:{let r=t||Y;return[Y.prefix,r.decode(e)]}case Me.prefix:{let r=t||Me;return[Me.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},Vf=(e,t,r)=>{let{prefix:n}=r;if(n!==Y.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let y=r.encode(e).slice(1);return t.set(n,y),y}else return o},Gf=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let y=r.encode(e);return t.set(n,y),y}else return o},Mt=112,Wf=18,wi=(e,t,r)=>{let n=ct(e),o=n+ct(t),y=new Uint8Array(o+r.byteLength);return ut(e,y,0),ut(t,y,n),y.set(r,o),y},gi=Symbol.for("@ipld/js-cid/CID"),fr={writable:!1,configurable:!1,enumerable:!0},lr={writable:!1,enumerable:!1,configurable:!1},Jf="0.0.0-dev",Xf=(e,t)=>{if(e.test(Jf))console.warn(t);else throw new Error(t)},Yf=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`}),yn,mn,wn=F(()=>{a(),Le(),yn=({name:e,code:t,encode:r})=>new mn(e,t,r),mn=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?$e(this.code,t):t.then(r=>$e(this.code,r))}else throw Error("Unknown type, must be binary type")}}}),gn=F(()=>{a(),Q(),cr(),Ne(),wn(),Le()}),Ci=S((e,t)=>{a(),t.exports=E;var r=128,n=127,o=~n,y=Math.pow(2,31);function E(g,T,P){if(Number.MAX_SAFE_INTEGER&&g>Number.MAX_SAFE_INTEGER)throw E.bytes=0,new RangeError("Could not encode varint");T=T||[],P=P||0;for(var V=P;g>=y;)T[P++]=g&255|r,g/=128;for(;g&o;)T[P++]=g&255|r,g>>>=7;return T[P]=g|0,E.bytes=P-V+1,T}}),Ti=S((e,t)=>{a(),t.exports=o;var r=128,n=127;function o(y,T){var g=0,T=T||0,P=0,V=T,X,re=y.length;do{if(V>=re||P>49)throw o.bytes=0,new RangeError("Could not decode varint");X=y[V++],g+=P<28?(X&n)<<P:(X&n)*Math.pow(2,P),P+=7}while(X>=r);return o.bytes=V-T,g}}),Si=S((e,t)=>{a();var r=Math.pow(2,7),n=Math.pow(2,14),o=Math.pow(2,21),y=Math.pow(2,28),E=Math.pow(2,35),g=Math.pow(2,42),T=Math.pow(2,49),P=Math.pow(2,56),V=Math.pow(2,63);t.exports=function(X){return X<r?1:X<n?2:X<o?3:X<y?4:X<E?5:X<g?6:X<T?7:X<P?8:X<V?9:10}}),pt=S((e,t)=>{a(),t.exports={encode:Ci(),decode:Ti(),encodingLength:Si()}}),Ws=S((e,t)=>{a(),t.exports=function(){return Date.now()}}),Xs=S((e,t)=>{a();var r=Ws(),n=class{constructor(y,E,g){let T=this;this._started=r(),this._rescheduled=0,this._scheduled=E,this._args=g,this._triggered=!1,this._timerWrapper=()=>{T._rescheduled>0?(T._scheduled=T._rescheduled-(r()-T._started),T._schedule(T._scheduled)):(T._triggered=!0,y.apply(null,T._args))},this._timer=setTimeout(this._timerWrapper,E)}reschedule(y){y||(y=this._scheduled);let E=r();E+y-(this._started+this._scheduled)<0?(clearTimeout(this._timer),this._schedule(y)):this._triggered?this._schedule(y):(this._started=E,this._rescheduled=y)}_schedule(y){this._triggered=!1,this._started=r(),this._rescheduled=0,this._scheduled=y,this._timer=setTimeout(this._timerWrapper,y)}clear(){clearTimeout(this._timer)}};function o(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("timeout needed");let y;if(arguments.length>0){y=new Array(arguments.length-2);for(var E=0;E<y.length;E++)y[E]=arguments[E+2]}return new n(arguments[0],arguments[1],y)}t.exports=o}),Zs=S((e,t)=>{a();var{AbortController:r}=globalThis,n=Xs(),o=class extends r{constructor(y){super(),this._ms=y,this._timer=n(()=>this.abort(),y),Object.setPrototypeOf(this,o.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=n(()=>this.abort(),this._ms)}};t.exports={TimeoutController:o}}),ea=S((e,t)=>{a();function r(n){let o=new globalThis.AbortController;function y(){o.abort();for(let E of n)!E||!E.removeEventListener||E.removeEventListener("abort",y)}for(let E of n)if(!(!E||!E.addEventListener)){if(E.aborted){y();break}E.addEventListener("abort",y)}return o.signal}t.exports=r,t.exports.anySignal=r}),sa=S((e,t)=>{a();var r=1e3,n=r*60,o=n*60,y=o*24,E=y*7,g=y*365.25;t.exports=function(re,q){q=q||{};var L=typeof re;if(L==="string"&&re.length>0)return T(re);if(L==="number"&&isFinite(re))return q.long?V(re):P(re);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(re))};function T(re){if(re=String(re),!(re.length>100)){var q=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(re);if(q){var L=parseFloat(q[1]),I=(q[2]||"ms").toLowerCase();switch(I){case"years":case"year":case"yrs":case"yr":case"y":return L*g;case"weeks":case"week":case"w":return L*E;case"days":case"day":case"d":return L*y;case"hours":case"hour":case"hrs":case"hr":case"h":return L*o;case"minutes":case"minute":case"mins":case"min":case"m":return L*n;case"seconds":case"second":case"secs":case"sec":case"s":return L*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return L;default:return}}}}function P(re){var q=Math.abs(re);return q>=y?Math.round(re/y)+"d":q>=o?Math.round(re/o)+"h":q>=n?Math.round(re/n)+"m":q>=r?Math.round(re/r)+"s":re+"ms"}function V(re){var q=Math.abs(re);return q>=y?X(re,q,y,"day"):q>=o?X(re,q,o,"hour"):q>=n?X(re,q,n,"minute"):q>=r?X(re,q,r,"second"):re+" ms"}function X(re,q,L,I){var ee=q>=L*1.5;return Math.round(re/L)+" "+I+(ee?"s":"")}}),ua=S((e,t)=>{a();function r(n){y.debug=y,y.default=y,y.coerce=X,y.disable=T,y.enable=g,y.enabled=P,y.humanize=sa(),y.destroy=re,Object.keys(n).forEach(q=>{y[q]=n[q]}),y.names=[],y.skips=[],y.formatters={};function o(q){let L=0;for(let I=0;I<q.length;I++)L=(L<<5)-L+q.charCodeAt(I),L|=0;return y.colors[Math.abs(L)%y.colors.length]}y.selectColor=o;function y(q){let L,I=null,ee,ie;function le(...ye){if(!le.enabled)return;let ot=le,qe=Number(new Date),Ee=qe-(L||qe);ot.diff=Ee,ot.prev=L,ot.curr=qe,L=qe,ye[0]=y.coerce(ye[0]),typeof ye[0]!="string"&&ye.unshift("%O");let it=0;ye[0]=ye[0].replace(/%([a-zA-Z%])/g,(Ie,jt)=>{if(Ie==="%%")return"%";it++;let Qt=y.formatters[jt];if(typeof Qt=="function"){let sr=ye[it];Ie=Qt.call(ot,sr),ye.splice(it,1),it--}return Ie}),y.formatArgs.call(ot,ye),(ot.log||y.log).apply(ot,ye)}return le.namespace=q,le.useColors=y.useColors(),le.color=y.selectColor(q),le.extend=E,le.destroy=y.destroy,Object.defineProperty(le,"enabled",{enumerable:!0,configurable:!1,get:()=>I!==null?I:(ee!==y.namespaces&&(ee=y.namespaces,ie=y.enabled(q)),ie),set:ye=>{I=ye}}),typeof y.init=="function"&&y.init(le),le}function E(q,L){let I=y(this.namespace+(typeof L>"u"?":":L)+q);return I.log=this.log,I}function g(q){y.save(q),y.namespaces=q,y.names=[],y.skips=[];let L,I=(typeof q=="string"?q:"").split(/[\s,]+/),ee=I.length;for(L=0;L<ee;L++)!I[L]||(q=I[L].replace(/\*/g,".*?"),q[0]==="-"?y.skips.push(new RegExp("^"+q.slice(1)+"$")):y.names.push(new RegExp("^"+q+"$")))}function T(){let q=[...y.names.map(V),...y.skips.map(V).map(L=>"-"+L)].join(",");return y.enable(""),q}function P(q){if(q[q.length-1]==="*")return!0;let L,I;for(L=0,I=y.skips.length;L<I;L++)if(y.skips[L].test(q))return!1;for(L=0,I=y.names.length;L<I;L++)if(y.names[L].test(q))return!0;return!1}function V(q){return q.toString().substring(2,q.toString().length-2).replace(/\.\*\?$/,"*")}function X(q){return q instanceof Error?q.stack||q.message:q}function re(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return y.enable(y.load()),y}t.exports=r}),ca=S((e,t)=>{a(),e.formatArgs=n,e.save=o,e.load=y,e.useColors=r,e.storage=E(),e.destroy=(()=>{let T=!1;return()=>{T||(T=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(T){if(T[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+T[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let P="color: "+this.color;T.splice(1,0,P,"color: inherit");let V=0,X=0;T[0].replace(/%[a-zA-Z%]/g,re=>{re!=="%%"&&(V++,re==="%c"&&(X=V))}),T.splice(X,0,P)}e.log=console.debug||console.log||(()=>{});function o(T){try{T?e.storage.setItem("debug",T):e.storage.removeItem("debug")}catch{}}function y(){let T;try{T=e.storage.getItem("debug")}catch{}return!T&&typeof p<"u"&&"env"in p&&(T=p.env.DEBUG),T}function E(){try{return localStorage}catch{}}t.exports=ua()(e);var{formatters:g}=t.exports;g.j=function(T){try{return JSON.stringify(T)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}}}),On={};M(On,{base64:()=>Mn,base64pad:()=>md,base64url:()=>yd,base64urlpad:()=>wd});var Mn,md,yd,wd,zn=F(()=>{a(),pe(),Mn=_({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),md=_({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yd=_({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wd=_({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})}),qn=F(()=>{a(),Ne()}),Hn=F(()=>{a(),new TextEncoder,new TextDecoder}),wa=S((e,t)=>{a();var r=async n=>{for await(let o of n)return o};t.exports=r}),Da=S((e,t)=>{a();var r=async n=>{let o;for await(let y of n)o=y;return o};t.exports=r}),xa=S((e,t)=>{a();var r="[a-fA-F\\d:]",n=X=>X&&X.includeBoundaries?`(?:(?<=\\s|^)(?=${r})|(?<=${r})(?=\\s|$))`:"",o="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",y="[a-fA-F\\d]{1,4}",E=`
(?:
(?:${y}:){7}(?:${y}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${y}:){6}(?:${o}|:${y}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${y}:){5}(?::${o}|(?::${y}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${y}:){4}(?:(?::${y}){0,1}:${o}|(?::${y}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${y}:){3}(?:(?::${y}){0,2}:${o}|(?::${y}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${y}:){2}(?:(?::${y}){0,3}:${o}|(?::${y}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${y}:){1}(?:(?::${y}){0,4}:${o}|(?::${y}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${y}){0,5}:${o}|(?::${y}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),g=new RegExp(`(?:^${o}$)|(?:^${E}$)`),T=new RegExp(`^${o}$`),P=new RegExp(`^${E}$`),V=X=>X&&X.exact?g:new RegExp(`(?:${n(X)}${o}${n(X)})|(?:${n(X)}${E}${n(X)})`,"g");V.v4=X=>X&&X.exact?T:new RegExp(`${n(X)}${o}${n(X)}`,"g"),V.v6=X=>X&&X.exact?P:new RegExp(`${n(X)}${E}${n(X)}`,"g"),t.exports=V}),Ba=S((e,t)=>{a();var r=xa(),n=o=>r({exact:!0}).test(o);n.v4=o=>r.v4({exact:!0}).test(o),n.v6=o=>r.v6({exact:!0}).test(o),n.version=o=>n(o)?n.v4(o)?4:6:void 0,t.exports=n}),Wn={};M(Wn,{identity:()=>Ad});var Ad,Aa=F(()=>{a(),pe(),Ne(),Ad=lt({prefix:"\0",name:"identity",encode:e=>hi(e),decode:e=>di(e)})}),Jn={};M(Jn,{base2:()=>Td});var Td,Ta=F(()=>{a(),pe(),Td=_({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),Xn={};M(Xn,{base8:()=>Id});var Id,Ia=F(()=>{a(),pe(),Id=_({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),Yn={};M(Yn,{base10:()=>Sd});var Sd,Sa=F(()=>{a(),pe(),Sd=Pe({prefix:"9",name:"base10",alphabet:"0123456789"})}),Qn={};M(Qn,{base16:()=>Ud,base16upper:()=>Fd});var Ud,Fd,Ua=F(()=>{a(),pe(),Ud=_({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Fd=_({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),Zn={};M(Zn,{base36:()=>vd,base36upper:()=>kd});var vd,kd,Fa=F(()=>{a(),pe(),vd=Pe({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),kd=Pe({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),Kn={};M(Kn,{base256emoji:()=>Pd});function $d(e){return e.reduce((t,r)=>(t+=_d[r],t),"")}function Ld(e){let t=[];for(let r of e){let n=Nd[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var va,_d,Nd,Pd,ka=F(()=>{a(),pe(),va=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),_d=va.reduce((e,t,r)=>(e[r]=t,e),[]),Nd=va.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),Pd=lt({prefix:"\u{1F680}",name:"base256emoji",encode:$d,decode:Ld})}),eo={};M(eo,{sha256:()=>Rd,sha512:()=>Md});var _a,Rd,Md,Na=F(()=>{a(),wn(),_a=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Rd=yn({name:"sha2-256",code:18,encode:_a("SHA-256")}),Md=yn({name:"sha2-512",code:19,encode:_a("SHA-512")})}),to={};M(to,{identity:()=>qd});var $a,Od,La,zd,qd,Pa=F(()=>{a(),Ne(),Le(),$a=0,Od="identity",La=Se,zd=e=>$e($a,La(e)),qd={code:$a,name:Od,encode:La,digest:zd}}),ro,Ra=F(()=>{a(),Aa(),Ta(),Ia(),Sa(),Ua(),ht(),Fa(),Re(),zn(),ka(),Na(),Pa(),qn(),Hn(),gn(),ro={...Wn,...Jn,...Xn,...Yn,...Qn,...Rt,...Zn,...dt,...On,...Kn},{...eo,...to}});function Nr(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}var no=F(()=>{a()});function Oa(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var Ma,oo,Hd,$r,io=F(()=>{a(),Ra(),no(),Ma=Oa("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>new TextEncoder().encode(e.substring(1))),oo=Oa("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=Nr(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Hd={utf8:Ma,"utf-8":Ma,hex:ro.base16,latin1:oo,ascii:oo,binary:oo,...ro},$r=Hd}),Tt={};M(Tt,{toString:()=>so});function so(e,t="utf8"){let r=$r[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var Ke=F(()=>{a(),io()}),Va=S((e,t)=>{a();var r=Ba(),{toString:n}=(Ke(),R(Tt)),o=r,y=r.v4,E=r.v6,g=function(P,V,X){X=~~X;let re;if(y(P))re=V||new Uint8Array(X+4),P.split(/\./g).map(function(q){re[X++]=parseInt(q,10)&255});else if(E(P)){let q=P.split(":",8),L;for(L=0;L<q.length;L++){let I=y(q[L]),ee;I&&(ee=g(q[L]),q[L]=n(ee.slice(0,2),"base16")),ee&&++L<8&&q.splice(L,0,n(ee.slice(2,4),"base16"))}if(q[0]==="")for(;q.length<8;)q.unshift("0");else if(q[q.length-1]==="")for(;q.length<8;)q.push("0");else if(q.length<8){for(L=0;L<q.length&&q[L]!=="";L++);let I=[L,"1"];for(L=9-q.length;L>0;L--)I.push("0");q.splice.apply(q,I)}for(re=V||new Uint8Array(X+16),L=0;L<q.length;L++){let I=parseInt(q[L],16);re[X++]=I>>8&255,re[X++]=I&255}}if(!re)throw Error("Invalid ip address: "+P);return re},T=function(P,V,X){V=~~V,X=X||P.length-V;let re=[],q,L=new DataView(P.buffer);if(X===4){for(let I=0;I<X;I++)re.push(P[V+I]);q=re.join(".")}else if(X===16){for(let I=0;I<X;I+=2)re.push(L.getUint16(V+I).toString(16));q=re.join(":"),q=q.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),q=q.replace(/:{3,4}/,"::")}return q};t.exports={isIP:o,isV4:y,isV6:E,toBytes:g,toString:T}}),Lr=S((e,t)=>{a();function r(y){if(typeof y=="number"){if(r.codes[y])return r.codes[y];throw new Error("no protocol with code: "+y)}else if(typeof y=="string"){if(r.names[y])return r.names[y];throw new Error("no protocol with name: "+y)}throw new Error("invalid protocol id type: "+y)}var n=-1;r.lengthPrefixedVarSize=n,r.V=n,r.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[53,n,"dns","resolvable"],[54,n,"dns4","resolvable"],[55,n,"dns6","resolvable"],[56,n,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,"path"],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]],r.names={},r.codes={},r.table.map(y=>{let E=o.apply(null,y);return r.codes[E.code]=E,r.names[E.name]=E,null}),r.object=o;function o(y,E,g,T,P){return{code:y,size:E,name:g,resolvable:Boolean(T),path:Boolean(P)}}t.exports=r}),Ja={};M(Ja,{fromString:()=>co});function co(e,t="utf8"){let r=$r[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}var fo=F(()=>{a(),io()}),lo={};M(lo,{concat:()=>Gd});function Gd(e,t){t||(t=e.reduce((o,y)=>o+y.length,0));let r=Nr(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}var ho=F(()=>{a(),no()}),ru=S((e,t)=>{a();var r=Va(),n=Lr(),{CID:o}=(Q(),R(dr)),{base32:y}=(ht(),R(Rt)),{base58btc:E}=(Re(),R(dt)),g=(Le(),R(Ue)),T=pt(),{toString:P}=(Ke(),R(Tt)),{fromString:V}=(fo(),R(Ja)),{concat:X}=(ho(),R(lo));t.exports=re;function re(Ie,jt){return jt instanceof Uint8Array?re.toString(Ie,jt):re.toBytes(Ie,jt)}re.toString=function(Ie,jt){switch(n(Ie).code){case 4:case 41:return L(jt);case 6:case 273:case 33:case 132:return ee(jt).toString();case 53:case 54:case 55:case 56:case 400:case 777:return le(jt);case 421:return ot(jt);case 444:return it(jt);case 445:return it(jt);default:return P(jt,"base16")}},re.toBytes=function(Ie,jt){switch(n(Ie).code){case 4:return q(jt);case 41:return q(jt);case 6:case 273:case 33:case 132:return I(parseInt(jt,10));case 53:case 54:case 55:case 56:case 400:case 777:return ie(jt);case 421:return ye(jt);case 444:return qe(jt);case 445:return Ee(jt);default:return V(jt,"base16")}};function q(Ie){if(!r.isIP(Ie))throw new Error("invalid ip address");return r.toBytes(Ie)}function L(Ie){let jt=r.toString(Ie);if(!jt||!r.isIP(jt))throw new Error("invalid ip address");return jt}function I(Ie){let jt=new ArrayBuffer(2);return new DataView(jt).setUint16(0,Ie),new Uint8Array(jt)}function ee(Ie){return new DataView(Ie.buffer).getUint16(Ie.byteOffset)}function ie(Ie){let jt=V(Ie),Qt=Uint8Array.from(T.encode(jt.length));return X([Qt,jt],Qt.length+jt.length)}function le(Ie){let jt=T.decode(Ie);if(Ie=Ie.slice(T.decode.bytes),Ie.length!==jt)throw new Error("inconsistent lengths");return P(Ie)}function ye(Ie){let jt;Ie[0]==="Q"||Ie[0]==="1"?jt=g.decode(E.decode(`z${Ie}`)).bytes:jt=o.parse(Ie).multihash.bytes;let Qt=Uint8Array.from(T.encode(jt.length));return X([Qt,jt],Qt.length+jt.length)}function ot(Ie){let jt=T.decode(Ie),Qt=Ie.slice(T.decode.bytes);if(Qt.length!==jt)throw new Error("inconsistent lengths");return P(Qt,"base58btc")}function qe(Ie){let jt=Ie.split(":");if(jt.length!==2)throw new Error("failed to parse onion addr: "+jt+" does not contain a port number");if(jt[0].length!==16)throw new Error("failed to parse onion addr: "+jt[0]+" not a Tor onion address.");let Qt=y.decode("b"+jt[0]),sr=parseInt(jt[1],10);if(sr<1||sr>65536)throw new Error("Port number is not in range(1, 65536)");let Pr=I(sr);return X([Qt,Pr],Qt.length+Pr.length)}function Ee(Ie){let jt=Ie.split(":");if(jt.length!==2)throw new Error("failed to parse onion addr: "+jt+" does not contain a port number");if(jt[0].length!==56)throw new Error("failed to parse onion addr: "+jt[0]+" not a Tor onion3 address.");let Qt=y.decode("b"+jt[0]),sr=parseInt(jt[1],10);if(sr<1||sr>65536)throw new Error("Port number is not in range(1, 65536)");let Pr=I(sr);return X([Qt,Pr],Qt.length+Pr.length)}function it(Ie){let jt=Ie.slice(0,Ie.length-2),Qt=Ie.slice(Ie.length-2),sr=P(jt,"base32"),Pr=ee(Qt);return sr+":"+Pr}}),pu=S((e,t)=>{a();var r=ru(),n=Lr(),o=pt(),{concat:y}=(ho(),R(lo)),{toString:E}=(Ke(),R(Tt));t.exports={stringToStringTuples:g,stringTuplesToString:T,tuplesToStringTuples:V,stringTuplesToTuples:P,bytesToTuples:q,tuplesToBytes:X,bytesToString:L,stringToBytes:I,fromString:ee,fromBytes:ie,validateBytes:le,isValidBytes:ye,cleanPath:ot,ParseError:qe,protoFromTuple:Ee,sizeForAddr:re};function g(it){let Ie=[],jt=it.split("/").slice(1);if(jt.length===1&&jt[0]==="")return[];for(let Qt=0;Qt<jt.length;Qt++){let sr=jt[Qt],Pr=n(sr);if(Pr.size===0){Ie.push([sr]);continue}if(Qt++,Qt>=jt.length)throw qe("invalid address: "+it);if(Pr.path){Ie.push([sr,ot(jt.slice(Qt).join("/"))]);break}Ie.push([sr,jt[Qt]])}return Ie}function T(it){let Ie=[];return it.map(jt=>{let Qt=Ee(jt);return Ie.push(Qt.name),jt.length>1&&Ie.push(jt[1]),null}),ot(Ie.join("/"))}function P(it){return it.map(Ie=>{Array.isArray(Ie)||(Ie=[Ie]);let jt=Ee(Ie);return Ie.length>1?[jt.code,r.toBytes(jt.code,Ie[1])]:[jt.code]})}function V(it){return it.map(Ie=>{let jt=Ee(Ie);return Ie[1]?[jt.code,r.toString(jt.code,Ie[1])]:[jt.code]})}function X(it){return ie(y(it.map(Ie=>{let jt=Ee(Ie),Qt=Uint8Array.from(o.encode(jt.code));return Ie.length>1&&(Qt=y([Qt,Ie[1]])),Qt})))}function re(it,Ie){return it.size>0?it.size/8:it.size===0?0:o.decode(Ie)+o.decode.bytes}function q(it){let Ie=[],jt=0;for(;jt<it.length;){let Qt=o.decode(it,jt),sr=o.decode.bytes,Pr=n(Qt),zr=re(Pr,it.slice(jt+sr));if(zr===0){Ie.push([Qt]),jt+=sr;continue}let Hr=it.slice(jt+sr,jt+sr+zr);if(jt+=zr+sr,jt>it.length)throw qe("Invalid address Uint8Array: "+E(it,"base16"));Ie.push([Qt,Hr])}return Ie}function L(it){let Ie=q(it),jt=V(Ie);return T(jt)}function I(it){it=ot(it);let Ie=g(it),jt=P(Ie);return X(jt)}function ee(it){return I(it)}function ie(it){let Ie=le(it);if(Ie)throw Ie;return Uint8Array.from(it)}function le(it){try{q(it)}catch(Ie){return Ie}}function ye(it){return le(it)===void 0}function ot(it){return"/"+it.trim().split("/").filter(Ie=>Ie).join("/")}function qe(it){return new Error("Error parsing address: "+it)}function Ee(it){return n(it[0])}}),Yt=S((e,t)=>{a();function r(o,y){for(let E in y)Object.defineProperty(o,E,{value:y[E],enumerable:!0,configurable:!0});return o}function n(o,y,E){if(!o||typeof o=="string")throw new TypeError("Please pass an Error to err-code");E||(E={}),typeof y=="object"&&(E=y,y=""),y&&(E.code=y);try{return r(o,E)}catch{E.message=o.message,E.stack=o.stack;let g=function(){};return g.prototype=Object.create(Object.getPrototypeOf(o)),r(new g,E)}}t.exports=n}),wu={};M(wu,{equals:()=>uh});function uh(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var gu=F(()=>{a()}),bo=S((e,t)=>{a();var r=pu(),n=Lr(),o=pt(),{CID:y}=(Q(),R(dr)),{base58btc:E}=(Re(),R(dt)),g=Yt(),T=Symbol.for("nodejs.util.inspect.custom"),{toString:P}=(Ke(),R(Tt)),{equals:V}=(gu(),R(wu)),X=new Map,re=Symbol.for("@multiformats/js-multiaddr/multiaddr"),q=class{constructor(I){if(I==null&&(I=""),Object.defineProperty(this,re,{value:!0}),I instanceof Uint8Array)this.bytes=r.fromBytes(I);else if(typeof I=="string"){if(I.length>0&&I.charAt(0)!=="/")throw new Error(`multiaddr "${I}" must start with a "/"`);this.bytes=r.fromString(I)}else if(q.isMultiaddr(I))this.bytes=r.fromBytes(I.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return r.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let I={},ee=this.toString().split("/");return I.family=ee[1]==="ip4"?4:6,I.host=ee[2],I.transport=ee[3],I.port=parseInt(ee[4]),I}protos(){return this.protoCodes().map(I=>Object.assign({},n(I)))}protoCodes(){let I=[],ee=this.bytes,ie=0;for(;ie<ee.length;){let le=o.decode(ee,ie),ye=o.decode.bytes,ot=n(le);ie+=r.sizeForAddr(ot,ee.slice(ie+ye))+ye,I.push(le)}return I}protoNames(){return this.protos().map(I=>I.name)}tuples(){return r.bytesToTuples(this.bytes)}stringTuples(){let I=r.bytesToTuples(this.bytes);return r.tuplesToStringTuples(I)}encapsulate(I){return I=new q(I),new q(this.toString()+I.toString())}decapsulate(I){let ee=I.toString(),ie=this.toString(),le=ie.lastIndexOf(ee);if(le<0)throw new Error("Address "+this+" does not contain subaddress: "+I);return new q(ie.slice(0,le))}decapsulateCode(I){let ee=this.tuples();for(let ie=ee.length-1;ie>=0;ie--)if(ee[ie][0]===I)return new q(r.tuplesToBytes(ee.slice(0,ie)));return this}getPeerId(){try{let I=this.stringTuples().filter(ee=>ee[0]===n.names.ipfs.code).pop();if(I&&I[1]){let ee=I[1];return ee[0]==="Q"||ee[0]==="1"?P(E.decode(`z${ee}`),"base58btc"):P(y.parse(ee).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let I=null;try{I=this.stringTuples().filter(ee=>!!n(ee[0]).path)[0][1],I||(I=null)}catch{I=null}return I}equals(I){return V(this.bytes,I.bytes)}async resolve(){let I=this.protos().find(ie=>ie.resolvable);if(!I)return[this];let ee=X.get(I.name);if(!ee)throw g(new Error(`no available resolver for ${I.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await ee(this)).map(ie=>new q(ie))}nodeAddress(){let I=this.protoCodes(),ee=this.protoNames(),ie=this.toString().split("/").slice(1);if(ie.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(I[0]!==4&&I[0]!==41&&I[0]!==54&&I[0]!==55)throw new Error(`no protocol with name: "'${ee[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(ie[2]!=="tcp"&&ie[2]!=="udp")throw new Error(`no protocol with name: "'${ee[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:I[0]===41||I[0]===55?6:4,address:ie[1],port:parseInt(ie[3])}}isThinWaistAddress(I){let ee=(I||this).protos();return!(ee.length!==2||ee[0].code!==4&&ee[0].code!==41||ee[1].code!==6&&ee[1].code!==273)}static fromNodeAddress(I,ee){if(!I)throw new Error("requires node address object");if(!ee)throw new Error("requires transport protocol");let ie;switch(I.family){case 4:ie="ip4";break;case 6:ie="ip6";break;default:throw Error(`Invalid addr family. Got '${I.family}' instead of 4 or 6`)}return new q("/"+[ie,I.address,ee,I.port].join("/"))}static isName(I){return q.isMultiaddr(I)?I.protos().some(ee=>ee.resolvable):!1}static isMultiaddr(I){return I instanceof q||Boolean(I&&I[re])}[T](){return"<Multiaddr "+P(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+P(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}};q.protocols=n,q.resolvers=X;function L(I){return new q(I)}t.exports={Multiaddr:q,multiaddr:L,protocols:n,resolvers:X}}),ku=S((e,t)=>{a();var{Multiaddr:r}=bo(),n=zr("dns4"),o=zr("dns6"),y=zr("dnsaddr"),E=Pr(zr("dns"),y,n,o),g=Pr(zr("ip4"),zr("ip6")),T=Pr(sr(g,zr("tcp")),sr(E,zr("tcp"))),P=sr(g,zr("udp")),V=sr(P,zr("utp")),X=sr(P,zr("quic")),re=Pr(sr(T,zr("ws")),sr(E,zr("ws"))),q=Pr(sr(T,zr("wss")),sr(E,zr("wss"))),L=Pr(sr(T,zr("http")),sr(g,zr("http")),sr(E,zr("http"))),I=Pr(sr(T,zr("https")),sr(g,zr("https")),sr(E,zr("https"))),ee=Pr(sr(re,zr("p2p-webrtc-star"),zr("p2p")),sr(q,zr("p2p-webrtc-star"),zr("p2p")),sr(re,zr("p2p-webrtc-star")),sr(q,zr("p2p-webrtc-star"))),ie=Pr(sr(re,zr("p2p-websocket-star"),zr("p2p")),sr(q,zr("p2p-websocket-star"),zr("p2p")),sr(re,zr("p2p-websocket-star")),sr(q,zr("p2p-websocket-star"))),le=Pr(sr(L,zr("p2p-webrtc-direct"),zr("p2p")),sr(I,zr("p2p-webrtc-direct"),zr("p2p")),sr(L,zr("p2p-webrtc-direct")),sr(I,zr("p2p-webrtc-direct"))),ye=Pr(re,q,L,I,ee,le,T,V,X,E),ot=Pr(sr(ye,zr("p2p-stardust"),zr("p2p")),sr(ye,zr("p2p-stardust"))),qe=Pr(sr(ye,zr("p2p")),ee,le,zr("p2p")),Ee=Pr(sr(qe,zr("p2p-circuit"),qe),sr(qe,zr("p2p-circuit")),sr(zr("p2p-circuit"),qe),sr(ye,zr("p2p-circuit")),sr(zr("p2p-circuit"),ye),zr("p2p-circuit")),it=()=>Pr(sr(Ee,it),Ee),Ie=it(),jt=Pr(sr(Ie,qe,Ie),sr(qe,Ie),sr(Ie,qe),Ie,qe);t.exports={DNS:E,DNS4:n,DNS6:o,DNSADDR:y,IP:g,TCP:T,UDP:P,QUIC:X,UTP:V,HTTP:L,HTTPS:I,WebSockets:re,WebSocketsSecure:q,WebSocketStar:ie,WebRTCStar:ee,WebRTCDirect:le,Reliable:ye,Stardust:ot,Circuit:Ie,P2P:jt,IPFS:jt};function Qt(Hr){function en(rn){if(!r.isMultiaddr(rn))try{rn=new r(rn)}catch{return!1}let wo=Hr(rn.protoNames());return wo===null?!1:wo===!0||wo===!1?wo:wo.length===0}return en}function sr(...Hr){function en(rn){if(rn.length<Hr.length)return null;let wo=rn;return Hr.some(Gr=>(wo=typeof Gr=="function"?Gr().partialMatch(rn):Gr.partialMatch(rn),Array.isArray(wo)&&(rn=wo),wo===null)),wo}return{toString:function(){return"{ "+Hr.join(" ")+" }"},input:Hr,matches:Qt(en),partialMatch:en}}function Pr(...Hr){function en(rn){let wo=null;return Hr.some(Gr=>{let ni=typeof Gr=="function"?Gr().partialMatch(rn):Gr.partialMatch(rn);return ni?(wo=ni,!0):!1}),wo}return{toString:function(){return"{ "+Hr.join(" ")+" }"},input:Hr,matches:Qt(en),partialMatch:en}}function zr(Hr){let en=Hr;function rn(Gr){let ni;if(typeof Gr=="string"||Gr instanceof Uint8Array)try{ni=new r(Gr)}catch{return!1}else ni=Gr;let ki=ni.protoNames();return ki.length===1&&ki[0]===en}function wo(Gr){return Gr.length===0?null:Gr[0]===en?Gr.slice(1):null}return{toString:function(){return en},matches:rn,partialMatch:wo}}}),To=S((e,t)=>{a();var r=typeof navigator<"u"&&navigator.product==="ReactNative";function n(){return r?"http://localhost":d.location?d.location.protocol+"//"+d.location.host:""}var o=d.URL,y=n(),E=class{constructor(T="",P=y){this.super=new o(T,P),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(T){this.super.hash=T}set host(T){this.super.host=T}set hostname(T){this.super.hostname=T}set href(T){this.super.href=T}set password(T){this.super.password=T}set pathname(T){this.super.pathname=T}set port(T){this.super.port=T}set protocol(T){this.super.protocol=T}set search(T){this.super.search=T}set username(T){this.super.username=T}static createObjectURL(T){return o.createObjectURL(T)}static revokeObjectURL(T){o.revokeObjectURL(T)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function g(T){if(typeof T=="string")return new o(T).toString();if(!(T instanceof o)){let P=T.username&&T.password?`${T.username}:${T.password}@`:"",V=T.auth?T.auth+"@":"",X=T.port?":"+T.port:"",re=T.protocol?T.protocol+"//":"",q=T.host||"",L=T.hostname||"",I=T.search||(T.query?"?"+T.query:""),ee=T.hash||"",ie=T.pathname||"",le=T.path||ie+I;return`${re}${P||V}${q||L+X}${le}${ee}`}}t.exports={URLWithLegacySupport:E,URLSearchParams:d.URLSearchParams,defaultBase:y,format:g}}),Pu=S((e,t)=>{a();var{URLWithLegacySupport:r,format:n}=To();t.exports=(o,y={},E={},g)=>{let T=y.protocol?y.protocol.replace(":",""):"http";T=(E[T]||g||T)+":";let P;try{P=new r(o)}catch{P={}}let V=Object.assign({},y,{protocol:T||P.protocol,host:y.host||P.host});return new r(o,n(V)).toString()}}),Mu=S((e,t)=>{a();var{URLWithLegacySupport:r,format:n,URLSearchParams:o,defaultBase:y}=To(),E=Pu();t.exports={URL:r,URLSearchParams:o,format:n,relative:E,defaultBase:y}}),Ku=S((e,t)=>{a();var{base58btc:r}=(Re(),R(dt)),{base32:n}=(ht(),R(Rt)),o=(Le(),R(Ue)),{Multiaddr:y}=bo(),E=ku(),{CID:g}=(Q(),R(dr)),{URL:T}=Mu(),{toString:P}=(Ke(),R(Tt)),V=/^https?:\/\/[^/]+\/(ip[fn]s)\/([^/?#]+)/,X=/^\/(ip[fn]s)\/([^/?#]+)/,re=1,q=2,L=/^https?:\/\/([^/]+)\.(ip[fn]s)\.[^/?]+/,I=1,ee=2,ie=/^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\.)+([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$/;function le(Gr){let ni=Qt(Gr);try{o.decode(r.decode("z"+ni))}catch{return!1}return!0}function ye(Gr){try{n.decode(Gr)}catch{return!1}return!0}function ot(Gr){try{return typeof Gr=="string"?Boolean(g.parse(Gr)):Gr instanceof Uint8Array?Boolean(g.decode(Gr)):Boolean(g.asCID(Gr))}catch{return!1}}function qe(Gr){if(!Gr)return!1;if(y.isMultiaddr(Gr))return!0;try{return new y(Gr),!0}catch{return!1}}function Ee(Gr){return qe(Gr)&&E.P2P.matches(Gr)}function it(Gr,ni,ki=re,Xr=q){let Dt=Qt(Gr);if(!Dt)return!1;let tr=Dt.match(ni);if(!tr||tr[ki]!=="ipfs")return!1;let Wt=tr[Xr];return Wt&&ni===L&&(Wt=Wt.toLowerCase()),ot(Wt)}function Ie(Gr,ni,ki=re,Xr=q){let Dt=Qt(Gr);if(!Dt)return!1;let tr=Dt.match(ni);if(!tr||tr[ki]!=="ipns")return!1;let Wt=tr[Xr];if(Wt&&ni===L){if(Wt=Wt.toLowerCase(),ot(Wt))return!0;try{!Wt.includes(".")&&Wt.includes("-")&&(Wt=Wt.replace(/--/g,"@").replace(/-/g,".").replace(/@/g,"-"));let{hostname:Jr}=new T(`http://${Wt}`);return ie.test(Jr)}catch{return!1}}return!0}function jt(Gr){return typeof Gr=="string"}function Qt(Gr){return Gr instanceof Uint8Array?P(Gr,"base58btc"):jt(Gr)?Gr:!1}var sr=Gr=>it(Gr,L,ee,I),Pr=Gr=>Ie(Gr,L,ee,I),zr=Gr=>sr(Gr)||Pr(Gr),Hr=Gr=>it(Gr,V)||sr(Gr),en=Gr=>Ie(Gr,V)||Pr(Gr),rn=Gr=>Hr(Gr)||en(Gr)||zr(Gr),wo=Gr=>it(Gr,X)||Ie(Gr,X);t.exports={multihash:le,multiaddr:qe,peerMultiaddr:Ee,cid:ot,base32cid:Gr=>ye(Gr)&&ot(Gr),ipfsSubdomain:sr,ipnsSubdomain:Pr,subdomain:zr,subdomainGatewayPattern:L,ipfsUrl:Hr,ipnsUrl:en,url:rn,pathGatewayPattern:V,ipfsPath:Gr=>it(Gr,X),ipnsPath:Gr=>Ie(Gr,X),path:wo,pathPattern:X,urlOrPath:Gr=>rn(Gr)||wo(Gr),cidPath:Gr=>jt(Gr)&&!ot(Gr)&&it(`/ipfs/${Gr}`,X)}}),hc=S((e,t)=>{a();function r(n){let[o,y]=n[Symbol.asyncIterator]?[n[Symbol.asyncIterator](),Symbol.asyncIterator]:[n[Symbol.iterator](),Symbol.iterator],E=[];return{peek:()=>o.next(),push:g=>{E.push(g)},next:()=>E.length?{done:!1,value:E.shift()}:o.next(),[y](){return this}}}t.exports=r}),mc=S((e,t)=>{a();var r=async n=>{for await(let o of n);};t.exports=r}),wc=S((e,t)=>{a();var r=async function*(n,o){for await(let y of n)yield o(y)};t.exports=r});a();a();Q();a();gn();a();Q();a();J(pt(),1);a();a();a();a();var ll=["string","number","bigint","symbol"],dl=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Fi(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;return ll.includes(t)?t:t==="function"?"Function":Array.isArray(e)?"Array":hl(e)?"Buffer":pl(e)||"Object"}function hl(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function pl(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(dl.includes(t))return t}a();var l=class{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};l.uint=new l(0,"uint",!0);l.negint=new l(1,"negint",!0);l.bytes=new l(2,"bytes",!0);l.string=new l(3,"string",!0);l.array=new l(4,"array",!1);l.map=new l(5,"map",!1);l.tag=new l(6,"tag",!1);l.float=new l(7,"float",!0);l.false=new l(7,"false",!0);l.true=new l(7,"true",!0);l.null=new l(7,"null",!0);l.undefined=new l(7,"undefined",!0);l.break=new l(7,"break",!0);var b=class{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};a();a();var mt=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function";new TextDecoder;var yl=new TextEncoder;function pr(e){return mt&&globalThis.Buffer.isBuffer(e)}var $i=mt?e=>e.length>64?globalThis.Buffer.from(e):vi(e):e=>e.length>64?yl.encode(e):vi(e);function Ri(e,t){if(pr(e)&&pr(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function vi(e,t=1/0){let r,n=e.length,o=null,y=[];for(let E=0;E<n;++E){if(r=e.charCodeAt(E),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&y.push(239,191,189);continue}else if(E+1===n){(t-=3)>-1&&y.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&y.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&y.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;y.push(r)}else if(r<2048){if((t-=2)<0)break;y.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;y.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;y.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return y}a();var C="CBOR decode error:",An="CBOR encode error:";a();a();var z=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ce(e,t){return H(e,0,t.value)}function H(e,t,r){if(r<z[0]){let n=Number(r);e.push([t|n])}else if(r<z[1]){let n=Number(r);e.push([t|24,n])}else if(r<z[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<z[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<z[4]){let o=[t|27,0,0,0,0,0,0,0],y=Number(n&BigInt(4294967295)),E=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=y&255,y=y>>8,o[7]=y&255,y=y>>8,o[6]=y&255,y=y>>8,o[5]=y&255,o[4]=E&255,E=E>>8,o[3]=E&255,E=E>>8,o[2]=E&255,E=E>>8,o[1]=E&255,e.push(o)}else throw new Error(`${C} encountered BigInt larger than allowable range`)}}ce.encodedSize=function(e){return H.encodedSize(e.value)};H.encodedSize=function(e){return e<z[0]?1:e<z[1]?2:e<z[2]?3:e<z[3]?5:9};ce.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};a();var Tn=BigInt(-1),Gi=BigInt(1);function mr(e,t){let r=t.value,n=typeof r=="bigint"?r*Tn-Gi:r*-1-1;H(e,t.type.majorEncoded,n)}mr.encodedSize=function(e){let t=e.value,r=typeof t=="bigint"?t*Tn-Gi:t*-1-1;return r<z[0]?1:r<z[1]?2:r<z[2]?3:r<z[3]?5:9};mr.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};a();function yr(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===l.string?$i(e.value):e.value),e.encodedBytes}function wt(e,t){let r=yr(t);H(e,t.type.majorEncoded,r.length),e.push(r)}wt.encodedSize=function(e){let t=yr(e);return H.encodedSize(t.length)+t.length};wt.compareTokens=function(e,t){return bl(yr(e),yr(t))};function bl(e,t){return e.length<t.length?-1:e.length>t.length?1:Ri(e,t)}a();var os=wt;a();function wr(e,t){H(e,l.array.majorEncoded,t.value)}wr.compareTokens=ce.compareTokens;wr.encodedSize=function(e){return H.encodedSize(e.value)};a();function gr(e,t){H(e,l.map.majorEncoded,t.value)}gr.compareTokens=ce.compareTokens;gr.encodedSize=function(e){return H.encodedSize(e.value)};a();function Dr(e,t){H(e,l.tag.majorEncoded,t.value)}Dr.compareTokens=ce.compareTokens;Dr.encodedSize=function(e){return H.encodedSize(e.value)};a();var Tl=20,Il=21,Sl=22,Ul=23;function br(e,t,r){let n=t.value;if(n===!1)e.push([l.float.majorEncoded|Tl]);else if(n===!0)e.push([l.float.majorEncoded|Il]);else if(n===null)e.push([l.float.majorEncoded|Sl]);else if(n===void 0)e.push([l.float.majorEncoded|Ul]);else{let o,y=!1;(!r||r.float64!==!0)&&(Ss(n),o=Sn(me,1),n===o||Number.isNaN(n)?(me[0]=249,e.push(me.slice(0,3)),y=!0):(Us(n),o=Un(me,1),n===o&&(me[0]=250,e.push(me.slice(0,5)),y=!0))),y||(Fl(n),o=Fs(me,1),me[0]=251,e.push(me.slice(0,9)))}}br.encodedSize=function(e,t){let r=e.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!t||t.float64!==!0){Ss(r);let n=Sn(me,1);if(r===n||Number.isNaN(r))return 3;if(Us(r),n=Un(me,1),r===n)return 5}return 9};var Is=new ArrayBuffer(9),fe=new DataView(Is,1),me=new Uint8Array(Is,0);function Ss(e){if(e===1/0)fe.setUint16(0,31744,!1);else if(e===-1/0)fe.setUint16(0,64512,!1);else if(Number.isNaN(e))fe.setUint16(0,32256,!1);else{fe.setFloat32(0,e);let t=fe.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)fe.setUint16(0,31744,!1);else if(r===0)fe.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?fe.setUint16(0,0):o<-14?fe.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):fe.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function Sn(e,t){if(e.length-t<2)throw new Error(`${C} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,y;return n===0?y=o*2**-24:n!==31?y=(o+1024)*2**(n-25):y=o===0?1/0:NaN,r&32768?-y:y}function Us(e){fe.setFloat32(0,e,!1)}function Un(e,t){if(e.length-t<4)throw new Error(`${C} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Fl(e){fe.setFloat64(0,e,!1)}function Fs(e,t){if(e.length-t<8)throw new Error(`${C} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}br.compareTokens=ce.compareTokens;for(let e=0;e<24;e++)new b(l.uint,e,1);for(let e=-1;e>=-24;e--)new b(l.negint,e,1);new b(l.bytes,new Uint8Array(0),1);new b(l.string,"",1);new b(l.array,0,1);new b(l.map,0,1);new b(l.false,!1,1);new b(l.true,!0,1);new b(l.null,null,1);function _l(){let e=[];return e[l.uint.major]=ce,e[l.negint.major]=mr,e[l.bytes.major]=wt,e[l.string.major]=os,e[l.array.major]=wr,e[l.map.major]=gr,e[l.tag.major]=Dr,e[l.float.major]=br,e}_l();var bt=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${An} object contains circular references`);return new bt(t,e)}},Oe={null:new b(l.null,null),undefined:new b(l.undefined,void 0),true:new b(l.true,!0),false:new b(l.false,!1),emptyArray:new b(l.array,0),emptyMap:new b(l.map,0)},ze={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new b(l.float,e):e>=0?new b(l.uint,e):new b(l.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new b(l.uint,e):new b(l.negint,e)},Uint8Array(e,t,r,n){return new b(l.bytes,e)},string(e,t,r,n){return new b(l.string,e)},boolean(e,t,r,n){return e?Oe.true:Oe.false},null(e,t,r,n){return Oe.null},undefined(e,t,r,n){return Oe.undefined},ArrayBuffer(e,t,r,n){return new b(l.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new b(l.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[Oe.emptyArray,new b(l.break)]:Oe.emptyArray;n=bt.createCheck(n,e);let o=[],y=0;for(let E of e)o[y++]=xr(E,r,n);return r.addBreakTokens?[new b(l.array,e.length),o,new b(l.break)]:[new b(l.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",y=o?e.keys():Object.keys(e),E=o?e.size:y.length;if(!E)return r.addBreakTokens===!0?[Oe.emptyMap,new b(l.break)]:Oe.emptyMap;n=bt.createCheck(n,e);let g=[],T=0;for(let P of y)g[T++]=[xr(P,r,n),xr(o?e.get(P):e[P],r,n)];return Nl(g,r),r.addBreakTokens?[new b(l.map,E),g,new b(l.break)]:[new b(l.map,E),g]}};ze.Map=ze.Object;ze.Buffer=ze.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))ze[`${e}Array`]=ze.DataView;function xr(e,t={},r){let n=Fi(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||ze[n];if(typeof o=="function"){let E=o(e,n,t,r);if(E!=null)return E}let y=ze[n];if(!y)throw new Error(`${An} unsupported type: ${n}`);return y(e,n,t,r)}function Nl(e,t){t.mapSorter&&e.sort(t.mapSorter)}a();Q();a();a();J(pt(),1);Q();Le();a();a();J(Zs(),1);J(ea(),1);a();a();var ve=class extends Error{constructor(e="request timed out"){super(e),this.name="TimeoutError",this.code=ve.code}};ve.code="ERR_TIMEOUT";a();var Be=J(ca(),1);Re();ht();zn();Be.default.formatters.b=e=>e==null?"undefined":Y.baseEncode(e);Be.default.formatters.t=e=>e==null?"undefined":Me.baseEncode(e);Be.default.formatters.m=e=>e==null?"undefined":Mn.baseEncode(e);Be.default.formatters.p=e=>e==null?"undefined":e.toString();Be.default.formatters.c=e=>e==null?"undefined":e.toString();Be.default.formatters.k=e=>e==null?"undefined":e.toString();function kr(e){return Object.assign((0,Be.default)(e),{error:(0,Be.default)(`${e}:error`),trace:(0,Be.default)(`${e}:trace`)})}qn();Hn();a();Re();kr("ipfs:components:dag:import");a();J(wa(),1);J(Da(),1);a();J(Ku(),1);Q();a();a();a();var ec=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");Ke();fo();var ke="/",tc=new TextEncoder().encode(ke),Vr=tc[0],G=class{constructor(e,t){if(typeof e=="string")this._buf=co(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(t==null&&(t=!0),t&&this.clean(),this._buf.byteLength===0||this._buf[0]!==Vr)throw new Error("Invalid key")}toString(e="utf8"){return so(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new G(e.join(ke))}static random(){return new G(ec().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new G(e):e.uint8Array?new G(e.uint8Array()):null}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=tc),this._buf[0]!==Vr){let e=new Uint8Array(this._buf.byteLength+1);e.fill(Vr,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Vr;)this._buf=this._buf.subarray(0,-1)}less(e){let t=this.list(),r=e.list();for(let n=0;n<t.length;n++){if(r.length<n+1)return!1;let o=t[n],y=r[n];if(o<y)return!0;if(o>y)return!1}return t.length<r.length}reverse(){return G.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(ke).slice(1)}type(){return Lh(this.baseNamespace())}name(){return Ph(this.baseNamespace())}instance(e){return new G(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(ke)||(e+=ke),e+=this.type(),new G(e)}parent(){let e=this.list();return e.length===1?new G(ke):new G(e.slice(0,-1).join(ke))}child(e){return this.toString()===ke?e:e.toString()===ke?this:new G(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return G.withNamespaces([...this.namespaces(),...Rh(e.map(t=>t.namespaces()))])}};function Lh(e){let t=e.split(":");return t.length<2?"":t.slice(0,-1).join(":")}function Ph(e){let t=e.split(":");return t[t.length-1]}function Rh(e){return[].concat(...e)}J(Yt(),1);a();Q();J(Yt(),1);a();Q();a();new TextDecoder;a();new TextEncoder;a();Q();new TextEncoder;new G("/local/filesroot");J(Yt(),1);a();a();J(hc(),1);J(mc(),1);J(wc(),1);kr("ipfs:components:dag:import");a();Q();a();/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */const code$1=0,name="identity",encode$3=coerce,digest=e=>create$1(code$1,encode$3(e)),identity$1={code:code$1,name,encode:encode$3,digest},identity$2=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$1},Symbol.toStringTag,{value:"Module"})),identity=from$1({prefix:"\0",name:"identity",encode:e=>toString$2(e),decode:e=>fromString$1(e)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base64$1=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$2=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$1,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),alphabetBytesToChars=alphabet.reduce((e,t,r)=>(e[r]=t,e),[]),alphabetCharsToBytes=alphabet.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function encode$2(e){return e.reduce((t,r)=>(t+=alphabetBytesToChars[r],t),"")}function decode$1(e){const t=[];for(const r of e){const n=alphabetCharsToBytes[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const base256emoji=from$1({prefix:"\u{1F680}",name:"base256emoji",encode:encode$2,decode:decode$1}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;({...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$2,...base256emoji$1});({...sha2,...identity$2});new TextDecoder;new TextEncoder;new TextEncoder;class JSONEncoder extends Array{constructor(){super(),this.inRecursive=[]}prefix(t){const r=this.inRecursive[this.inRecursive.length-1];r&&(r.type===Type.array&&(r.elements++,r.elements!==1&&t.push([44])),r.type===Type.map&&(r.elements++,r.elements!==1&&(r.elements%2===1?t.push([44]):t.push([58]))))}[Type.uint.major](t,r){this.prefix(t);const n=String(r.value),o=[];for(let y=0;y<n.length;y++)o[y]=n.charCodeAt(y);t.push(o)}[Type.negint.major](t,r){this[Type.uint.major](t,r)}[Type.bytes.major](t,r){throw new Error(`${encodeErrPrefix} unsupported type: Uint8Array`)}[Type.string.major](t,r){this.prefix(t);const n=fromString(JSON.stringify(r.value));t.push(n.length>32?asU8A(n):n)}[Type.array.major](t,r){this.prefix(t),this.inRecursive.push({type:Type.array,elements:0}),t.push([91])}[Type.map.major](t,r){this.prefix(t),this.inRecursive.push({type:Type.map,elements:0}),t.push([123])}[Type.tag.major](t,r){}[Type.float.major](t,r){if(r.type.name==="break"){const E=this.inRecursive.pop();if(E){if(E.type===Type.array)t.push([93]);else if(E.type===Type.map)t.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(r.value===void 0)throw new Error(`${encodeErrPrefix} unsupported type: undefined`);if(this.prefix(t),r.type.name==="true"){t.push([116,114,117,101]);return}else if(r.type.name==="false"){t.push([102,97,108,115,101]);return}else if(r.type.name==="null"){t.push([110,117,108,108]);return}const n=String(r.value),o=[];let y=!1;for(let E=0;E<n.length;E++)o[E]=n.charCodeAt(E),!y&&(o[E]===46||o[E]===101||o[E]===69)&&(y=!0);y||(o.push(46),o.push(48)),t.push(o)}}CID.parse;async function*makeIterable(e){let t=0;for(;t<e.length;)yield e[t++]}const all=async e=>{const t=[];for await(const r of e)t.push(r);return t};var itAll=all;async function importBuffer(e,t){const r=await makeIterable([t]),[{root:n}]=await itAll(e.import(r));return n.cid}var ardb={},block={},log={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.log=e.Log=e.LOGS=void 0;var t;(function(n){n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.ARWEAVE=2]="ARWEAVE"})(t=e.LOGS||(e.LOGS={}));class r{constructor(){this.logs=t.ARWEAVE}init(o=t.ARWEAVE,y){return this.logs=o,this.arweave=y,this}show(o,y="log"){(this.logs===t.YES||this.logs===t.ARWEAVE&&this.arweave.getConfig().api.logging)&&console[y](o)}}e.Log=r,e.log=new r})(log);Object.defineProperty(block,"__esModule",{value:!0});const log_1$2=log;class ArdbBlock{constructor(t){this._id=t.id,this._timestamp=t.timestamp,this._height=t.height,this._previous=t.previous}get id(){return this._id||log_1$2.log.show("ID wasn't defined, make sure you have selected to return it."),this._id}get timestamp(){return this._timestamp||log_1$2.log.show("Timestamp wasn't defined, make sure you have selected to return it."),this._timestamp}get height(){return this._height||log_1$2.log.show("Height wasn't defined, make sure you have selected to return it."),this._height}get previous(){return this._previous||log_1$2.log.show("Previous wasn't defined, make sure you have selected to return it."),this._previous}}block.default=ArdbBlock;var transaction$1={};Object.defineProperty(transaction$1,"__esModule",{value:!0});const log_1$1=log;class ArdbTransaction{constructor(t,r){this._id=t.id,this._anchor=t.anchor,this._signature=t.signature,this._recipient=t.recipient,this._owner=t.owner,this._fee=t.fee,this._quantity=t.quantity,this._data=t.data,this._tags=t.tags,this._block=t.block,t.parent&&t.parent.id&&(this._parent=t.parent),this.arweave=r}get id(){return this._id||log_1$1.log.show("ID wasn't defined, make sure you have selected to return it."),this._id}get anchor(){return this._anchor||log_1$1.log.show("Anchor wasn't defined, make sure you have selected to return it."),this._anchor}get signature(){return this._signature||log_1$1.log.show("Signature wasn't defined, make sure you have selected to return it."),this._signature}get recipient(){return this._recipient||log_1$1.log.show("Recipient wasn't defined, make sure you have selected to return it."),this._recipient}get owner(){return this._owner||log_1$1.log.show("Owner wasn't defined, make sure you have selected to return it."),this._owner}get fee(){return this._fee||log_1$1.log.show("Fee wasn't defined, make sure you have selected to return it."),this._fee}get quantity(){return this._quantity||log_1$1.log.show("Quantity wasn't defined, make sure you have selected to return it."),this._quantity}get data(){return this._data||log_1$1.log.show("Data wasn't defined, make sure you have selected to return it."),this._data}get tags(){return this._tags||log_1$1.log.show("Tags wasn't defined, make sure you have selected to return it."),this._tags}get block(){return this._block||log_1$1.log.show("Block wasn't defined, make sure you have selected to return it."),this._block}get parent(){return(!this._parent||!this._parent.id)&&log_1$1.log.show("Parent wasn't defined, make sure you have selected to return it."),this._parent}}transaction$1.default=ArdbTransaction;var __awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(y){return y instanceof r?y:new r(function(E){E(y)})}return new(r||(r=Promise))(function(y,E){function g(V){try{P(n.next(V))}catch(X){E(X)}}function T(V){try{P(n.throw(V))}catch(X){E(X)}}function P(V){V.done?y(V.value):o(V.value).then(g,T)}P((n=n.apply(e,t||[])).next())})},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ardb,"__esModule",{value:!0});const block_1=__importDefault(block),transaction_1=__importDefault(transaction$1),log_1=log;class ArDB{constructor(t,r=log_1.LOGS.ARWEAVE){this.reqType="transactions",this.options={},this.after="",this.afterRegex=/after: *"([^"]*)"/gi,this.emptyLinesRegex=/^\s*[\r\n]/gm,this.fields=["id","anchor","signature","recipient","owner","owner.address","owner.key","fee","fee.winston","fee.ar","quantity","quantity.winston","quantity.ar","data","data.size","data.type","tags","tags.name","tags.value","block","block.id","block.timestamp","block.height","block.previous","parent","parent.id"],this.includes=new Set,this.arweave=t,log_1.log.init(r,t),this.includes=new Set(this.fields)}getCursor(){return this.after}search(t="transactions"){return this.reqType=t,this.options={},this.after="",this}id(t){return this.checkSearchType(),this.options.id=t,this.options.ids=[t],this}ids(t){return this.checkSearchType(),this.options.ids=t,this.options.id=t[0],this}appName(t){return this.checkSearchType(),this.tag("App-Name",[t]),this}type(t){return this.checkSearchType(),this.tag("Content-Type",[t]),this}tags(t){this.checkSearchType();const r=[];for(const o of t){const y=typeof o.values=="string"?[o.values]:o.values;r.push({name:o.name,values:y})}const n=this.options.tags&&this.options.tags.length?this.options.tags:[];return this.options.tags=[...r,...n],this}tag(t,r){return this.checkSearchType(),this.options.tags||(this.options.tags=[]),typeof r=="string"&&(r=[r]),this.options.tags.push({name:t,values:r}),this}from(t){return this.checkSearchType(),typeof t=="string"&&(t=[t]),this.options.owners=t,this}to(t){return this.checkSearchType(),typeof t=="string"&&(t=[t]),this.options.recipients=t,this}min(t){return this.checkSearchType(),this.options.block||(this.options.block={}),this.options.block.min=t,this}max(t){return this.checkSearchType(),this.options.block||(this.options.block={}),this.options.block.max=t,this}limit(t){return this.checkSearchType(),t<1?(console.warn("Limit cannot be less than 1, setting it to 1."),t=1):t>100&&console.warn("Arweave GQL won't return more than 100 entries at once."),this.options.first=t,this}sort(t){return this.options.sort=t,this}cursor(t){return this.checkSearchType(),this.options.after=t,this}only(t){if(this.includes=new Set,typeof t=="string"&&this.fields.indexOf(t)!==-1)return this.includes.add(t),this.validateIncludes(),this;const r=[];for(const n of t)this.fields.indexOf(n)!==-1&&r.push(n);return r.length&&(this.includes=new Set(r)),this.validateIncludes(),this}exclude(t){if(this.includes=new Set(this.fields),typeof t=="string")return this.includes.delete(t),this.validateIncludes(),this;for(const r of t)this.includes.delete(r);return this.validateIncludes(),this}find(t={}){return __awaiter(this,void 0,void 0,function*(){this.checkSearchType();for(const n of Object.keys(t))this.options[n]=t[n];this.options.first||(this.options.first=10);const r=this.construct();return this.run(r)})}findOne(t={}){return __awaiter(this,void 0,void 0,function*(){this.checkSearchType();for(const o of Object.keys(t))this.options[o]=t[o];this.options.first=1;const r=this.construct(),n=yield this.run(r);return n.length?n[0]:null})}findAll(t={}){return __awaiter(this,void 0,void 0,function*(){this.checkSearchType();for(const n of Object.keys(t))this.options[n]=t[n];this.options.first=100;const r=this.construct();return this.runAll(r)})}next(){return __awaiter(this,void 0,void 0,function*(){if(!this.after||!this.after.length){log_1.log.show("next(): Nothing more to search.");return}const t=this.construct().replace(this.afterRegex,`after: "${this.after}"`),r=yield this.run(t);return this.options.first===1?r.length?r[0]:null:r})}run(t){return __awaiter(this,void 0,void 0,function*(){log_1.log.show("Running query:"),log_1.log.show(t);const r=yield this.get(t);if(!r)return[];if(r.transaction)return[new transaction_1.default(r.transaction,this.arweave)];if(r.block)return[new block_1.default(r.block)];if(r.transactions){const n=r.transactions.edges;return n&&n.length?this.after=n[n.length-1].cursor:this.after="",n.map(o=>new transaction_1.default(o.node,this.arweave))}else if(r.blocks){const n=r.blocks.edges;return n&&n.length?this.after=n[n.length-1].cursor:this.after="",n.map(o=>new block_1.default(o.node))}})}runAll(t){return __awaiter(this,void 0,void 0,function*(){let r=!0,n=[],o=this.options.after||"",y=!0;for(;r;){log_1.log.show("Running query:"),log_1.log.show(t);const E=yield this.get(t);if(!E)return[];if(E.transaction)return[new transaction_1.default(E.transaction,this.arweave)];if(E.block)return[new block_1.default(E.block)];if(E.transactions){const g=E.transactions;g.edges&&g.edges.length&&(n=n.concat(g.edges),o=g.edges[g.edges.length-1].cursor,t=t.replace(this.afterRegex,`after: "${o}"`)),r=g.pageInfo.hasNextPage}else if(E.blocks){y=!1;const g=E.blocks;g.edges&&g.edges.length&&(n=n.concat(g.edges),o=g.edges[g.edges.length-1].cursor,t=t.replace(this.afterRegex,`after: "${o}"`)),r=g.pageInfo.hasNextPage}}return y?n.map(E=>new transaction_1.default(E.node,this.arweave)):n.map(E=>new block_1.default(E.node))})}checkSearchType(){if(!this.reqType||this.reqType!=="transaction"&&this.reqType!=="block"&&this.reqType!=="transactions"&&this.reqType!=="blocks")throw new Error('Invalid search type. Must provide one and it must be either "transaction", "transactions", "block" or "blocks"')}get(t){return __awaiter(this,void 0,void 0,function*(){const r=yield this.arweave.api.post("graphql",{query:t},{headers:{"content-type":"application/json"}});return log_1.log.show("Returned result: "),log_1.log.show(r.data.data),r.data.data})}construct(){this.reqType==="transactions"||this.reqType==="blocks"?(delete this.options.id,this.reqType==="transactions"?delete this.options.height:(delete this.options.owners,delete this.options.recipients,delete this.options.tags,delete this.options.block),this.options.after||(this.options.after="")):this.options={id:this.options.id};let t=JSON.stringify(this.options,null,2).replace(/"([^"]+)":/gm,"$1: ").replace('"HEIGHT_DESC"',"HEIGHT_DESC").replace('"HEIGHT_ASC"',"HEIGHT_ASC");t=t.substring(1,t.length-1);let r="";if(this.reqType==="transaction"||this.reqType==="transactions"){let n="";this.includes.has("owner")&&(n=`owner {
          ${this.includes.has("owner.address")?"address":""}
          ${this.includes.has("owner.key")?"key":""}
        }`);let o="";this.includes.has("fee")&&(o=`fee {
          ${this.includes.has("fee.winston")?"winston":""}
          ${this.includes.has("fee.ar")?"ar":""}
        }`);let y="";this.includes.has("quantity")&&(y=`quantity {
          ${this.includes.has("quantity.winston")?"winston":""}
          ${this.includes.has("quantity.ar")?"ar":""}
        }`);let E="";this.includes.has("data")&&(E=`data {
          ${this.includes.has("data.size")?"size":""}
          ${this.includes.has("data.type")?"type":""}
        }`);let g="";this.includes.has("tags")&&(g=`tags {
          ${this.includes.has("tags.name")?"name":""}
          ${this.includes.has("tags.value")?"value":""}
        }`);let T="";this.includes.has("block")&&(T=`block {
          ${this.includes.has("block.id")?"id":""}
          ${this.includes.has("block.timestamp")?"timestamp":""}
          ${this.includes.has("block.height")?"height":""}
          ${this.includes.has("block.previous")?"previous":""}
        }`);let P="";(this.includes.has("parent")||this.includes.has("parent.id"))&&(P=`parent {
          id
        }`),r=`
      ${this.includes.has("id")?"id":""}
      ${this.includes.has("anchor")?"anchor":""}
      ${this.includes.has("signature")?"signature":""}
      ${this.includes.has("recipient")?"recipient":""}
      ${n}
      ${o}
      ${y}
      ${E}
      ${g}
      ${T}
      ${P}
      `,r=r.replace(this.emptyLinesRegex,"").trim(),r.length||(r=`
        id
        anchor
        signature
        recipient
        owner {
          address
          key
        }
        fee {
          winston
          ar
        }
        quantity {
          winston
          ar
        }
        data {
          size
          type
        }
        tags {
          name
          value
        }
        block {
          id
          timestamp
          height
          previous
        }
        parent {
          id
        }`)}else r=`
      ${this.includes.has("block.id")?"id":""}
      ${this.includes.has("block.timestamp")?"timestamp":""}
      ${this.includes.has("block.height")?"height":""}
      ${this.includes.has("block.previous")?"previous":""}
      `,r=r.replace(this.emptyLinesRegex,"").trim(),r.length||(r=`
        id
        timestamp
        height
        previous`);if((this.reqType==="transactions"||this.reqType==="blocks")&&(r=`
      pageInfo {
        hasNextPage
      }
      edges { 
        cursor
        node { 
          ${r}
        } 
      }`),!this.reqType||!t)throw new Error("Invalid options. You need to first set your options!");return`query {
      ${this.reqType}(
        ${t}
      ){
        ${r}
      }
    }`.replace(/(\r\n|\n|\r)/gm,"")}validateIncludes(){this.includes.has("owner")&&!this.includes.has("owner.address")&&!this.includes.has("owner.key")&&(this.includes.add("owner.address"),this.includes.add("owner.key")),this.includes.has("fee")&&!this.includes.has("fee.winston")&&!this.includes.has("fee.ar")&&(this.includes.add("fee.winston"),this.includes.add("fee.ar")),this.includes.has("quantity")&&!this.includes.has("quantity.winston")&&!this.includes.has("quantity.ar")&&(this.includes.add("quantity.winston"),this.includes.add("quantity.ar")),this.includes.has("data")&&!this.includes.has("data.size")&&!this.includes.has("data.type")&&(this.includes.add("data.size"),this.includes.add("data.type")),this.includes.has("tags")&&!this.includes.has("tags.name")&&!this.includes.has("tags.value")&&(this.includes.add("tags.name"),this.includes.add("tags.value")),this.includes.has("block")&&!this.includes.has("block.timestamp")&&!this.includes.has("block.height")&&!this.includes.has("block.previous")&&(this.includes.add("block.id"),this.includes.add("block.timestamp"),this.includes.add("block.height"),this.includes.add("block.previous")),!this.includes.has("owner")&&(this.includes.has("owner.address")||this.includes.has("owner.key"))&&this.includes.add("owner"),!this.includes.has("fee")&&(this.includes.has("fee.winston")||this.includes.has("fee.ar"))&&this.includes.add("fee"),!this.includes.has("quantity")&&(this.includes.has("quantity.winston")||this.includes.has("quantity.ar"))&&this.includes.add("quantity"),!this.includes.has("data")&&(this.includes.has("data.size")||this.includes.has("data.type"))&&this.includes.add("data"),!this.includes.has("tags")&&(this.includes.has("tags.name")||this.includes.has("tags.value"))&&this.includes.add("tags"),!this.includes.has("block")&&(this.includes.has("block.timestamp")||this.includes.has("block.height")||this.includes.has("block.previous"))&&this.includes.add("block")}}var _default=ardb.default=ArDB,base64={},__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var y in o)o.hasOwnProperty(y)&&(n[y]=o[y])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(base64,"__esModule",{value:!0});var INVALID_BYTE=256,Coder=function(){function e(t){t===void 0&&(t="="),this._paddingCharacter=t}return e.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(t*8+5)/6|0},e.prototype.encode=function(t){for(var r="",n=0;n<t.length-2;n+=3){var o=t[n]<<16|t[n+1]<<8|t[n+2];r+=this._encodeByte(o>>>3*6&63),r+=this._encodeByte(o>>>2*6&63),r+=this._encodeByte(o>>>1*6&63),r+=this._encodeByte(o>>>0*6&63)}var y=t.length-n;if(y>0){var o=t[n]<<16|(y===2?t[n+1]<<8:0);r+=this._encodeByte(o>>>3*6&63),r+=this._encodeByte(o>>>2*6&63),y===2?r+=this._encodeByte(o>>>1*6&63):r+=this._paddingCharacter||"",r+=this._paddingCharacter||""}return r},e.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(t*6+7)/8|0},e.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},e.prototype.decode=function(t){if(t.length===0)return new Uint8Array(0);for(var r=this._getPaddingLength(t),n=t.length-r,o=new Uint8Array(this.maxDecodedLength(n)),y=0,E=0,g=0,T=0,P=0,V=0,X=0;E<n-4;E+=4)T=this._decodeChar(t.charCodeAt(E+0)),P=this._decodeChar(t.charCodeAt(E+1)),V=this._decodeChar(t.charCodeAt(E+2)),X=this._decodeChar(t.charCodeAt(E+3)),o[y++]=T<<2|P>>>4,o[y++]=P<<4|V>>>2,o[y++]=V<<6|X,g|=T&INVALID_BYTE,g|=P&INVALID_BYTE,g|=V&INVALID_BYTE,g|=X&INVALID_BYTE;if(E<n-1&&(T=this._decodeChar(t.charCodeAt(E)),P=this._decodeChar(t.charCodeAt(E+1)),o[y++]=T<<2|P>>>4,g|=T&INVALID_BYTE,g|=P&INVALID_BYTE),E<n-2&&(V=this._decodeChar(t.charCodeAt(E+2)),o[y++]=P<<4|V>>>2,g|=V&INVALID_BYTE),E<n-3&&(X=this._decodeChar(t.charCodeAt(E+3)),o[y++]=V<<6|X,g|=X&INVALID_BYTE),g!==0)throw new Error("Base64Coder: incorrect characters for decoding");return o},e.prototype._encodeByte=function(t){var r=t;return r+=65,r+=25-t>>>8&0-65-26+97,r+=51-t>>>8&26-97-52+48,r+=61-t>>>8&52-48-62+43,r+=62-t>>>8&62-43-63+47,String.fromCharCode(r)},e.prototype._decodeChar=function(t){var r=INVALID_BYTE;return r+=(42-t&t-44)>>>8&-INVALID_BYTE+t-43+62,r+=(46-t&t-48)>>>8&-INVALID_BYTE+t-47+63,r+=(47-t&t-58)>>>8&-INVALID_BYTE+t-48+52,r+=(64-t&t-91)>>>8&-INVALID_BYTE+t-65+0,r+=(96-t&t-123)>>>8&-INVALID_BYTE+t-97+26,r},e.prototype._getPaddingLength=function(t){var r=0;if(this._paddingCharacter){for(var n=t.length-1;n>=0&&t[n]===this._paddingCharacter;n--)r++;if(t.length<4||r>2)throw new Error("Base64Coder: incorrect padding")}return r},e}();base64.Coder=Coder;var stdCoder=new Coder;function encode$1(e){return stdCoder.encode(e)}base64.encode=encode$1;function decode(e){return stdCoder.decode(e)}base64.decode=decode;var URLSafeCoder=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._encodeByte=function(r){var n=r;return n+=65,n+=25-r>>>8&0-65-26+97,n+=51-r>>>8&26-97-52+48,n+=61-r>>>8&52-48-62+45,n+=62-r>>>8&62-45-63+95,String.fromCharCode(n)},t.prototype._decodeChar=function(r){var n=INVALID_BYTE;return n+=(44-r&r-46)>>>8&-INVALID_BYTE+r-45+62,n+=(94-r&r-96)>>>8&-INVALID_BYTE+r-95+63,n+=(47-r&r-58)>>>8&-INVALID_BYTE+r-48+52,n+=(64-r&r-91)>>>8&-INVALID_BYTE+r-65+0,n+=(96-r&r-123)>>>8&-INVALID_BYTE+r-97+26,n},t}(Coder);base64.URLSafeCoder=URLSafeCoder;var urlSafeCoder=new URLSafeCoder;function encodeURLSafe(e){return urlSafeCoder.encode(e)}base64.encodeURLSafe=encodeURLSafe;function decodeURLSafe(e){return urlSafeCoder.decode(e)}var decodeURLSafe_1=base64.decodeURLSafe=decodeURLSafe;base64.encodedLength=function(e){return stdCoder.encodedLength(e)};base64.maxDecodedLength=function(e){return stdCoder.maxDecodedLength(e)};base64.decodedLength=function(e){return stdCoder.decodedLength(e)};const AR_DAG="ArDag";async function persist({buffer:e=null,arweave:t=null,wallet:r=null}){if(!e)throw new Error("buffer is required");if(!t){if(!this.arweave)throw new Error("Arweave is required");t=this.arweave}r||this.wallet&&(r=this.wallet);const{root:n}=await Transaction.load(e),{cid:o}=await encode$4(e);let y=await t.createTransaction({data:e});const E=[{name:"App-Name",value:[AR_DAG]},{name:"Root-CID",value:[n.toString()]},{name:"CAR-CID",value:[o.toString()]}];if(E&&E.length)for(const g of E)y.addTag(g.name.toString(),g.value.toString());return await t.transactions.sign(y,r),await this.post(y),n}async function load({dagOwner:e,dag:t,arweave:r=null}){if(!e)throw new Error("dagOwner is required");if(!t){if(!this.dag)throw new Error("DagRepo is required");t=this.dag}if(!r){if(!this.arweave)throw new Error("Arweave is required");r=this.arweave}const n=[{name:"App-Name",values:[AR_DAG]}],y=await new _default(r).search("transactions").tags(n).from(e).findAll();let E;const g=async(T,P)=>{try{const V=await r.transactions.getData(P.id),X=new Uint8Array(decodeURLSafe_1(V)),re=await importBuffer(T,X);E||(E=re),T.hasOwnProperty("rootCID")&&!(T!=null&&T.rootCID)&&(T.rootCID=re)}catch(V){console.log("Import failed",V)}};for(const T of y)await g(t,T);return E}async function get({dagOwner:e,tag:t=null,arweave:r=null}){if(!e)throw new Error("dagOwner is required");if(!r){if(!this.arweave)throw new Error("Arweave is required");r=this.arweave}const n=[{name:"App-Name",values:[AR_DAG]}],y=await new _default(r).search("transactions").tags(n).from(e).findAll();let E,g;for(;!E&&y.length;){const T=await r.transactions.getData(y.shift().id);if(!T)continue;const P=new Uint8Array(decodeURLSafe_1(T));if(!P)continue;const{root:V,get:X}=await Transaction.load(P),re=await X(V);if(!t)return re;re.hasOwnProperty(t)&&!g&&(g=re[t].obj);try{E=await X(g)}catch{}}return E}async function latest(e){return(await this.dag.get(this.rootCID,{path:`/${e}/obj`})).value}async function getInstance({dag:e,wallet:t=null,dagOwner:r=!1}){if(!e)throw new Error("Supply a DagRepo from https://github.com/DougAnderson444/ipld-car-txs");return r?await this.load({dag:e,dagOwner:r}):r=await this.arweave.wallets.jwkToAddress(t),{arweave:this.arweave,post:this.post,dagOwner:r,wallet:t,dag:e,load,rootCID:this.rootCID||null,latest,persist,async save(n,o){const y=await this.dag.tx.add(n,o);this.rootCID=y;const E=await this.dag.tx.commit();return await this.persist({buffer:E}),y}}}function initializeArDag({arweave:e,post:t=null}){if(!e)throw new Error("Arweave instance must be provided");const n=e.transactions.post.bind(e.transactions);return{arweave:e,post:t||n,getInstance,persist,get,load}}var web={},common={},ar={},bignumber={exports:{}};(function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,y=Math.floor,E="[BigNumber Error] ",g=E+"Number primitive has more than 15 significant digits: ",T=1e14,P=14,V=9007199254740991,X=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],re=1e7,q=1e9;function L(Ee){var it,Ie,jt,Qt=Wt.prototype={constructor:Wt,toString:null,valueOf:null},sr=new Wt(1),Pr=20,zr=4,Hr=-7,en=21,rn=-1e7,wo=1e7,Gr=!1,ni=1,ki=0,Xr={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},Dt="0123456789abcdefghijklmnopqrstuvwxyz",tr=!0;function Wt(je,Gt){var Xt,et,_e,ir,Rr,vr,Fr,st,qr=this;if(!(qr instanceof Wt))return new Wt(je,Gt);if(Gt==null){if(je&&je._isBigNumber===!0){qr.s=je.s,!je.c||je.e>wo?qr.c=qr.e=null:je.e<rn?qr.c=[qr.e=0]:(qr.e=je.e,qr.c=je.c.slice());return}if((vr=typeof je=="number")&&je*0==0){if(qr.s=1/je<0?(je=-je,-1):1,je===~~je){for(ir=0,Rr=je;Rr>=10;Rr/=10,ir++);ir>wo?qr.c=qr.e=null:(qr.e=ir,qr.c=[je]);return}st=String(je)}else{if(!n.test(st=String(je)))return jt(qr,st,vr);qr.s=st.charCodeAt(0)==45?(st=st.slice(1),-1):1}(ir=st.indexOf("."))>-1&&(st=st.replace(".","")),(Rr=st.search(/e/i))>0?(ir<0&&(ir=Rr),ir+=+st.slice(Rr+1),st=st.substring(0,Rr)):ir<0&&(ir=st.length)}else{if(le(Gt,2,Dt.length,"Base"),Gt==10&&tr)return qr=new Wt(je),rr(qr,Pr+qr.e+1,zr);if(st=String(je),vr=typeof je=="number"){if(je*0!=0)return jt(qr,st,vr,Gt);if(qr.s=1/je<0?(st=st.slice(1),-1):1,Wt.DEBUG&&st.replace(/^0\.0*|\./,"").length>15)throw Error(g+je)}else qr.s=st.charCodeAt(0)===45?(st=st.slice(1),-1):1;for(Xt=Dt.slice(0,Gt),ir=Rr=0,Fr=st.length;Rr<Fr;Rr++)if(Xt.indexOf(et=st.charAt(Rr))<0){if(et=="."){if(Rr>ir){ir=Fr;continue}}else if(!_e&&(st==st.toUpperCase()&&(st=st.toLowerCase())||st==st.toLowerCase()&&(st=st.toUpperCase()))){_e=!0,Rr=-1,ir=0;continue}return jt(qr,String(je),vr,Gt)}vr=!1,st=Ie(st,Gt,10,qr.s),(ir=st.indexOf("."))>-1?st=st.replace(".",""):ir=st.length}for(Rr=0;st.charCodeAt(Rr)===48;Rr++);for(Fr=st.length;st.charCodeAt(--Fr)===48;);if(st=st.slice(Rr,++Fr)){if(Fr-=Rr,vr&&Wt.DEBUG&&Fr>15&&(je>V||je!==y(je)))throw Error(g+qr.s*je);if((ir=ir-Rr-1)>wo)qr.c=qr.e=null;else if(ir<rn)qr.c=[qr.e=0];else{if(qr.e=ir,qr.c=[],Rr=(ir+1)%P,ir<0&&(Rr+=P),Rr<Fr){for(Rr&&qr.c.push(+st.slice(0,Rr)),Fr-=P;Rr<Fr;)qr.c.push(+st.slice(Rr,Rr+=P));Rr=P-(st=st.slice(Rr)).length}else Rr-=Fr;for(;Rr--;st+="0");qr.c.push(+st)}}else qr.c=[qr.e=0]}Wt.clone=L,Wt.ROUND_UP=0,Wt.ROUND_DOWN=1,Wt.ROUND_CEIL=2,Wt.ROUND_FLOOR=3,Wt.ROUND_HALF_UP=4,Wt.ROUND_HALF_DOWN=5,Wt.ROUND_HALF_EVEN=6,Wt.ROUND_HALF_CEIL=7,Wt.ROUND_HALF_FLOOR=8,Wt.EUCLID=9,Wt.config=Wt.set=function(je){var Gt,Xt;if(je!=null)if(typeof je=="object"){if(je.hasOwnProperty(Gt="DECIMAL_PLACES")&&(Xt=je[Gt],le(Xt,0,q,Gt),Pr=Xt),je.hasOwnProperty(Gt="ROUNDING_MODE")&&(Xt=je[Gt],le(Xt,0,8,Gt),zr=Xt),je.hasOwnProperty(Gt="EXPONENTIAL_AT")&&(Xt=je[Gt],Xt&&Xt.pop?(le(Xt[0],-q,0,Gt),le(Xt[1],0,q,Gt),Hr=Xt[0],en=Xt[1]):(le(Xt,-q,q,Gt),Hr=-(en=Xt<0?-Xt:Xt))),je.hasOwnProperty(Gt="RANGE"))if(Xt=je[Gt],Xt&&Xt.pop)le(Xt[0],-q,-1,Gt),le(Xt[1],1,q,Gt),rn=Xt[0],wo=Xt[1];else if(le(Xt,-q,q,Gt),Xt)rn=-(wo=Xt<0?-Xt:Xt);else throw Error(E+Gt+" cannot be zero: "+Xt);if(je.hasOwnProperty(Gt="CRYPTO"))if(Xt=je[Gt],Xt===!!Xt)if(Xt)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Gr=Xt;else throw Gr=!Xt,Error(E+"crypto unavailable");else Gr=Xt;else throw Error(E+Gt+" not true or false: "+Xt);if(je.hasOwnProperty(Gt="MODULO_MODE")&&(Xt=je[Gt],le(Xt,0,9,Gt),ni=Xt),je.hasOwnProperty(Gt="POW_PRECISION")&&(Xt=je[Gt],le(Xt,0,q,Gt),ki=Xt),je.hasOwnProperty(Gt="FORMAT"))if(Xt=je[Gt],typeof Xt=="object")Xr=Xt;else throw Error(E+Gt+" not an object: "+Xt);if(je.hasOwnProperty(Gt="ALPHABET"))if(Xt=je[Gt],typeof Xt=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Xt))tr=Xt.slice(0,10)=="0123456789",Dt=Xt;else throw Error(E+Gt+" invalid: "+Xt)}else throw Error(E+"Object expected: "+je);return{DECIMAL_PLACES:Pr,ROUNDING_MODE:zr,EXPONENTIAL_AT:[Hr,en],RANGE:[rn,wo],CRYPTO:Gr,MODULO_MODE:ni,POW_PRECISION:ki,FORMAT:Xr,ALPHABET:Dt}},Wt.isBigNumber=function(je){if(!je||je._isBigNumber!==!0)return!1;if(!Wt.DEBUG)return!0;var Gt,Xt,et=je.c,_e=je.e,ir=je.s;e:if({}.toString.call(et)=="[object Array]"){if((ir===1||ir===-1)&&_e>=-q&&_e<=q&&_e===y(_e)){if(et[0]===0){if(_e===0&&et.length===1)return!0;break e}if(Gt=(_e+1)%P,Gt<1&&(Gt+=P),String(et[0]).length==Gt){for(Gt=0;Gt<et.length;Gt++)if(Xt=et[Gt],Xt<0||Xt>=T||Xt!==y(Xt))break e;if(Xt!==0)return!0}}}else if(et===null&&_e===null&&(ir===null||ir===1||ir===-1))return!0;throw Error(E+"Invalid BigNumber: "+je)},Wt.maximum=Wt.max=function(){return ao(arguments,Qt.lt)},Wt.minimum=Wt.min=function(){return ao(arguments,Qt.gt)},Wt.random=function(){var je=9007199254740992,Gt=Math.random()*je&2097151?function(){return y(Math.random()*je)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Xt){var et,_e,ir,Rr,vr,Fr=0,st=[],qr=new Wt(sr);if(Xt==null?Xt=Pr:le(Xt,0,q),Rr=o(Xt/P),Gr)if(crypto.getRandomValues){for(et=crypto.getRandomValues(new Uint32Array(Rr*=2));Fr<Rr;)vr=et[Fr]*131072+(et[Fr+1]>>>11),vr>=9e15?(_e=crypto.getRandomValues(new Uint32Array(2)),et[Fr]=_e[0],et[Fr+1]=_e[1]):(st.push(vr%1e14),Fr+=2);Fr=Rr/2}else if(crypto.randomBytes){for(et=crypto.randomBytes(Rr*=7);Fr<Rr;)vr=(et[Fr]&31)*281474976710656+et[Fr+1]*1099511627776+et[Fr+2]*4294967296+et[Fr+3]*16777216+(et[Fr+4]<<16)+(et[Fr+5]<<8)+et[Fr+6],vr>=9e15?crypto.randomBytes(7).copy(et,Fr):(st.push(vr%1e14),Fr+=7);Fr=Rr/7}else throw Gr=!1,Error(E+"crypto unavailable");if(!Gr)for(;Fr<Rr;)vr=Gt(),vr<9e15&&(st[Fr++]=vr%1e14);for(Rr=st[--Fr],Xt%=P,Rr&&Xt&&(vr=X[P-Xt],st[Fr]=y(Rr/vr)*vr);st[Fr]===0;st.pop(),Fr--);if(Fr<0)st=[ir=0];else{for(ir=-1;st[0]===0;st.splice(0,1),ir-=P);for(Fr=1,vr=st[0];vr>=10;vr/=10,Fr++);Fr<P&&(ir-=P-Fr)}return qr.e=ir,qr.c=st,qr}}(),Wt.sum=function(){for(var je=1,Gt=arguments,Xt=new Wt(Gt[0]);je<Gt.length;)Xt=Xt.plus(Gt[je++]);return Xt},Ie=function(){var je="0123456789";function Gt(Xt,et,_e,ir){for(var Rr,vr=[0],Fr,st=0,qr=Xt.length;st<qr;){for(Fr=vr.length;Fr--;vr[Fr]*=et);for(vr[0]+=ir.indexOf(Xt.charAt(st++)),Rr=0;Rr<vr.length;Rr++)vr[Rr]>_e-1&&(vr[Rr+1]==null&&(vr[Rr+1]=0),vr[Rr+1]+=vr[Rr]/_e|0,vr[Rr]%=_e)}return vr.reverse()}return function(Xt,et,_e,ir,Rr){var vr,Fr,st,qr,Kr,Qr,ei,Bi,_i=Xt.indexOf("."),Ii=Pr,s=zr;for(_i>=0&&(qr=ki,ki=0,Xt=Xt.replace(".",""),Bi=new Wt(et),Qr=Bi.pow(Xt.length-_i),ki=qr,Bi.c=Gt(qe(ee(Qr.c),Qr.e,"0"),10,_e,je),Bi.e=Bi.c.length),ei=Gt(Xt,et,_e,Rr?(vr=Dt,je):(vr=je,Dt)),st=qr=ei.length;ei[--qr]==0;ei.pop());if(!ei[0])return vr.charAt(0);if(_i<0?--st:(Qr.c=ei,Qr.e=st,Qr.s=ir,Qr=it(Qr,Bi,Ii,s,_e),ei=Qr.c,Kr=Qr.r,st=Qr.e),Fr=st+Ii+1,_i=ei[Fr],qr=_e/2,Kr=Kr||Fr<0||ei[Fr+1]!=null,Kr=s<4?(_i!=null||Kr)&&(s==0||s==(Qr.s<0?3:2)):_i>qr||_i==qr&&(s==4||Kr||s==6&&ei[Fr-1]&1||s==(Qr.s<0?8:7)),Fr<1||!ei[0])Xt=Kr?qe(vr.charAt(1),-Ii,vr.charAt(0)):vr.charAt(0);else{if(ei.length=Fr,Kr)for(--_e;++ei[--Fr]>_e;)ei[Fr]=0,Fr||(++st,ei=[1].concat(ei));for(qr=ei.length;!ei[--qr];);for(_i=0,Xt="";_i<=qr;Xt+=vr.charAt(ei[_i++]));Xt=qe(Xt,st,vr.charAt(0))}return Xt}}(),it=function(){function je(et,_e,ir){var Rr,vr,Fr,st,qr=0,Kr=et.length,Qr=_e%re,ei=_e/re|0;for(et=et.slice();Kr--;)Fr=et[Kr]%re,st=et[Kr]/re|0,Rr=ei*Fr+st*Qr,vr=Qr*Fr+Rr%re*re+qr,qr=(vr/ir|0)+(Rr/re|0)+ei*st,et[Kr]=vr%ir;return qr&&(et=[qr].concat(et)),et}function Gt(et,_e,ir,Rr){var vr,Fr;if(ir!=Rr)Fr=ir>Rr?1:-1;else for(vr=Fr=0;vr<ir;vr++)if(et[vr]!=_e[vr]){Fr=et[vr]>_e[vr]?1:-1;break}return Fr}function Xt(et,_e,ir,Rr){for(var vr=0;ir--;)et[ir]-=vr,vr=et[ir]<_e[ir]?1:0,et[ir]=vr*Rr+et[ir]-_e[ir];for(;!et[0]&&et.length>1;et.splice(0,1));}return function(et,_e,ir,Rr,vr){var Fr,st,qr,Kr,Qr,ei,Bi,_i,Ii,s,w,k,he,we,at,er,tn,ri=et.s==_e.s?1:-1,Zr=et.c,Yr=_e.c;if(!Zr||!Zr[0]||!Yr||!Yr[0])return new Wt(!et.s||!_e.s||(Zr?Yr&&Zr[0]==Yr[0]:!Yr)?NaN:Zr&&Zr[0]==0||!Yr?ri*0:ri/0);for(_i=new Wt(ri),Ii=_i.c=[],st=et.e-_e.e,ri=ir+st+1,vr||(vr=T,st=I(et.e/P)-I(_e.e/P),ri=ri/P|0),qr=0;Yr[qr]==(Zr[qr]||0);qr++);if(Yr[qr]>(Zr[qr]||0)&&st--,ri<0)Ii.push(1),Kr=!0;else{for(we=Zr.length,er=Yr.length,qr=0,ri+=2,Qr=y(vr/(Yr[0]+1)),Qr>1&&(Yr=je(Yr,Qr,vr),Zr=je(Zr,Qr,vr),er=Yr.length,we=Zr.length),he=er,s=Zr.slice(0,er),w=s.length;w<er;s[w++]=0);tn=Yr.slice(),tn=[0].concat(tn),at=Yr[0],Yr[1]>=vr/2&&at++;do{if(Qr=0,Fr=Gt(Yr,s,er,w),Fr<0){if(k=s[0],er!=w&&(k=k*vr+(s[1]||0)),Qr=y(k/at),Qr>1)for(Qr>=vr&&(Qr=vr-1),ei=je(Yr,Qr,vr),Bi=ei.length,w=s.length;Gt(ei,s,Bi,w)==1;)Qr--,Xt(ei,er<Bi?tn:Yr,Bi,vr),Bi=ei.length,Fr=1;else Qr==0&&(Fr=Qr=1),ei=Yr.slice(),Bi=ei.length;if(Bi<w&&(ei=[0].concat(ei)),Xt(s,ei,w,vr),w=s.length,Fr==-1)for(;Gt(Yr,s,er,w)<1;)Qr++,Xt(s,er<w?tn:Yr,w,vr),w=s.length}else Fr===0&&(Qr++,s=[0]);Ii[qr++]=Qr,s[0]?s[w++]=Zr[he]||0:(s=[Zr[he]],w=1)}while((he++<we||s[0]!=null)&&ri--);Kr=s[0]!=null,Ii[0]||Ii.splice(0,1)}if(vr==T){for(qr=1,ri=Ii[0];ri>=10;ri/=10,qr++);rr(_i,ir+(_i.e=qr+st*P-1)+1,Rr,Kr)}else _i.e=st,_i.r=+Kr;return _i}}();function Jr(je,Gt,Xt,et){var _e,ir,Rr,vr,Fr;if(Xt==null?Xt=zr:le(Xt,0,8),!je.c)return je.toString();if(_e=je.c[0],Rr=je.e,Gt==null)Fr=ee(je.c),Fr=et==1||et==2&&(Rr<=Hr||Rr>=en)?ot(Fr,Rr):qe(Fr,Rr,"0");else if(je=rr(new Wt(je),Gt,Xt),ir=je.e,Fr=ee(je.c),vr=Fr.length,et==1||et==2&&(Gt<=ir||ir<=Hr)){for(;vr<Gt;Fr+="0",vr++);Fr=ot(Fr,ir)}else if(Gt-=Rr,Fr=qe(Fr,ir,"0"),ir+1>vr){if(--Gt>0)for(Fr+=".";Gt--;Fr+="0");}else if(Gt+=ir-vr,Gt>0)for(ir+1==vr&&(Fr+=".");Gt--;Fr+="0");return je.s<0&&_e?"-"+Fr:Fr}function ao(je,Gt){for(var Xt,et=1,_e=new Wt(je[0]);et<je.length;et++)if(Xt=new Wt(je[et]),Xt.s)Gt.call(_e,Xt)&&(_e=Xt);else{_e=Xt;break}return _e}function yo(je,Gt,Xt){for(var et=1,_e=Gt.length;!Gt[--_e];Gt.pop());for(_e=Gt[0];_e>=10;_e/=10,et++);return(Xt=et+Xt*P-1)>wo?je.c=je.e=null:Xt<rn?je.c=[je.e=0]:(je.e=Xt,je.c=Gt),je}jt=function(){var je=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Gt=/^([^.]+)\.$/,Xt=/^\.([^.]+)$/,et=/^-?(Infinity|NaN)$/,_e=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ir,Rr,vr,Fr){var st,qr=vr?Rr:Rr.replace(_e,"");if(et.test(qr))ir.s=isNaN(qr)?null:qr<0?-1:1;else{if(!vr&&(qr=qr.replace(je,function(Kr,Qr,ei){return st=(ei=ei.toLowerCase())=="x"?16:ei=="b"?2:8,!Fr||Fr==st?Qr:Kr}),Fr&&(st=Fr,qr=qr.replace(Gt,"$1").replace(Xt,"0.$1")),Rr!=qr))return new Wt(qr,st);if(Wt.DEBUG)throw Error(E+"Not a"+(Fr?" base "+Fr:"")+" number: "+Rr);ir.s=null}ir.c=ir.e=null}}();function rr(je,Gt,Xt,et){var _e,ir,Rr,vr,Fr,st,qr,Kr=je.c,Qr=X;if(Kr){e:{for(_e=1,vr=Kr[0];vr>=10;vr/=10,_e++);if(ir=Gt-_e,ir<0)ir+=P,Rr=Gt,Fr=Kr[st=0],qr=Fr/Qr[_e-Rr-1]%10|0;else if(st=o((ir+1)/P),st>=Kr.length)if(et){for(;Kr.length<=st;Kr.push(0));Fr=qr=0,_e=1,ir%=P,Rr=ir-P+1}else break e;else{for(Fr=vr=Kr[st],_e=1;vr>=10;vr/=10,_e++);ir%=P,Rr=ir-P+_e,qr=Rr<0?0:Fr/Qr[_e-Rr-1]%10|0}if(et=et||Gt<0||Kr[st+1]!=null||(Rr<0?Fr:Fr%Qr[_e-Rr-1]),et=Xt<4?(qr||et)&&(Xt==0||Xt==(je.s<0?3:2)):qr>5||qr==5&&(Xt==4||et||Xt==6&&(ir>0?Rr>0?Fr/Qr[_e-Rr]:0:Kr[st-1])%10&1||Xt==(je.s<0?8:7)),Gt<1||!Kr[0])return Kr.length=0,et?(Gt-=je.e+1,Kr[0]=Qr[(P-Gt%P)%P],je.e=-Gt||0):Kr[0]=je.e=0,je;if(ir==0?(Kr.length=st,vr=1,st--):(Kr.length=st+1,vr=Qr[P-ir],Kr[st]=Rr>0?y(Fr/Qr[_e-Rr]%Qr[Rr])*vr:0),et)for(;;)if(st==0){for(ir=1,Rr=Kr[0];Rr>=10;Rr/=10,ir++);for(Rr=Kr[0]+=vr,vr=1;Rr>=10;Rr/=10,vr++);ir!=vr&&(je.e++,Kr[0]==T&&(Kr[0]=1));break}else{if(Kr[st]+=vr,Kr[st]!=T)break;Kr[st--]=0,vr=1}for(ir=Kr.length;Kr[--ir]===0;Kr.pop());}je.e>wo?je.c=je.e=null:je.e<rn&&(je.c=[je.e=0])}return je}function Br(je){var Gt,Xt=je.e;return Xt===null?je.toString():(Gt=ee(je.c),Gt=Xt<=Hr||Xt>=en?ot(Gt,Xt):qe(Gt,Xt,"0"),je.s<0?"-"+Gt:Gt)}return Qt.absoluteValue=Qt.abs=function(){var je=new Wt(this);return je.s<0&&(je.s=1),je},Qt.comparedTo=function(je,Gt){return ie(this,new Wt(je,Gt))},Qt.decimalPlaces=Qt.dp=function(je,Gt){var Xt,et,_e,ir=this;if(je!=null)return le(je,0,q),Gt==null?Gt=zr:le(Gt,0,8),rr(new Wt(ir),je+ir.e+1,Gt);if(!(Xt=ir.c))return null;if(et=((_e=Xt.length-1)-I(this.e/P))*P,_e=Xt[_e])for(;_e%10==0;_e/=10,et--);return et<0&&(et=0),et},Qt.dividedBy=Qt.div=function(je,Gt){return it(this,new Wt(je,Gt),Pr,zr)},Qt.dividedToIntegerBy=Qt.idiv=function(je,Gt){return it(this,new Wt(je,Gt),0,1)},Qt.exponentiatedBy=Qt.pow=function(je,Gt){var Xt,et,_e,ir,Rr,vr,Fr,st,qr,Kr=this;if(je=new Wt(je),je.c&&!je.isInteger())throw Error(E+"Exponent not an integer: "+Br(je));if(Gt!=null&&(Gt=new Wt(Gt)),vr=je.e>14,!Kr.c||!Kr.c[0]||Kr.c[0]==1&&!Kr.e&&Kr.c.length==1||!je.c||!je.c[0])return qr=new Wt(Math.pow(+Br(Kr),vr?2-ye(je):+Br(je))),Gt?qr.mod(Gt):qr;if(Fr=je.s<0,Gt){if(Gt.c?!Gt.c[0]:!Gt.s)return new Wt(NaN);et=!Fr&&Kr.isInteger()&&Gt.isInteger(),et&&(Kr=Kr.mod(Gt))}else{if(je.e>9&&(Kr.e>0||Kr.e<-1||(Kr.e==0?Kr.c[0]>1||vr&&Kr.c[1]>=24e7:Kr.c[0]<8e13||vr&&Kr.c[0]<=9999975e7)))return ir=Kr.s<0&&ye(je)?-0:0,Kr.e>-1&&(ir=1/ir),new Wt(Fr?1/ir:ir);ki&&(ir=o(ki/P+2))}for(vr?(Xt=new Wt(.5),Fr&&(je.s=1),st=ye(je)):(_e=Math.abs(+Br(je)),st=_e%2),qr=new Wt(sr);;){if(st){if(qr=qr.times(Kr),!qr.c)break;ir?qr.c.length>ir&&(qr.c.length=ir):et&&(qr=qr.mod(Gt))}if(_e){if(_e=y(_e/2),_e===0)break;st=_e%2}else if(je=je.times(Xt),rr(je,je.e+1,1),je.e>14)st=ye(je);else{if(_e=+Br(je),_e===0)break;st=_e%2}Kr=Kr.times(Kr),ir?Kr.c&&Kr.c.length>ir&&(Kr.c.length=ir):et&&(Kr=Kr.mod(Gt))}return et?qr:(Fr&&(qr=sr.div(qr)),Gt?qr.mod(Gt):ir?rr(qr,ki,zr,Rr):qr)},Qt.integerValue=function(je){var Gt=new Wt(this);return je==null?je=zr:le(je,0,8),rr(Gt,Gt.e+1,je)},Qt.isEqualTo=Qt.eq=function(je,Gt){return ie(this,new Wt(je,Gt))===0},Qt.isFinite=function(){return!!this.c},Qt.isGreaterThan=Qt.gt=function(je,Gt){return ie(this,new Wt(je,Gt))>0},Qt.isGreaterThanOrEqualTo=Qt.gte=function(je,Gt){return(Gt=ie(this,new Wt(je,Gt)))===1||Gt===0},Qt.isInteger=function(){return!!this.c&&I(this.e/P)>this.c.length-2},Qt.isLessThan=Qt.lt=function(je,Gt){return ie(this,new Wt(je,Gt))<0},Qt.isLessThanOrEqualTo=Qt.lte=function(je,Gt){return(Gt=ie(this,new Wt(je,Gt)))===-1||Gt===0},Qt.isNaN=function(){return!this.s},Qt.isNegative=function(){return this.s<0},Qt.isPositive=function(){return this.s>0},Qt.isZero=function(){return!!this.c&&this.c[0]==0},Qt.minus=function(je,Gt){var Xt,et,_e,ir,Rr=this,vr=Rr.s;if(je=new Wt(je,Gt),Gt=je.s,!vr||!Gt)return new Wt(NaN);if(vr!=Gt)return je.s=-Gt,Rr.plus(je);var Fr=Rr.e/P,st=je.e/P,qr=Rr.c,Kr=je.c;if(!Fr||!st){if(!qr||!Kr)return qr?(je.s=-Gt,je):new Wt(Kr?Rr:NaN);if(!qr[0]||!Kr[0])return Kr[0]?(je.s=-Gt,je):new Wt(qr[0]?Rr:zr==3?-0:0)}if(Fr=I(Fr),st=I(st),qr=qr.slice(),vr=Fr-st){for((ir=vr<0)?(vr=-vr,_e=qr):(st=Fr,_e=Kr),_e.reverse(),Gt=vr;Gt--;_e.push(0));_e.reverse()}else for(et=(ir=(vr=qr.length)<(Gt=Kr.length))?vr:Gt,vr=Gt=0;Gt<et;Gt++)if(qr[Gt]!=Kr[Gt]){ir=qr[Gt]<Kr[Gt];break}if(ir&&(_e=qr,qr=Kr,Kr=_e,je.s=-je.s),Gt=(et=Kr.length)-(Xt=qr.length),Gt>0)for(;Gt--;qr[Xt++]=0);for(Gt=T-1;et>vr;){if(qr[--et]<Kr[et]){for(Xt=et;Xt&&!qr[--Xt];qr[Xt]=Gt);--qr[Xt],qr[et]+=T}qr[et]-=Kr[et]}for(;qr[0]==0;qr.splice(0,1),--st);return qr[0]?yo(je,qr,st):(je.s=zr==3?-1:1,je.c=[je.e=0],je)},Qt.modulo=Qt.mod=function(je,Gt){var Xt,et,_e=this;return je=new Wt(je,Gt),!_e.c||!je.s||je.c&&!je.c[0]?new Wt(NaN):!je.c||_e.c&&!_e.c[0]?new Wt(_e):(ni==9?(et=je.s,je.s=1,Xt=it(_e,je,0,3),je.s=et,Xt.s*=et):Xt=it(_e,je,0,ni),je=_e.minus(Xt.times(je)),!je.c[0]&&ni==1&&(je.s=_e.s),je)},Qt.multipliedBy=Qt.times=function(je,Gt){var Xt,et,_e,ir,Rr,vr,Fr,st,qr,Kr,Qr,ei,Bi,_i,Ii,s=this,w=s.c,k=(je=new Wt(je,Gt)).c;if(!w||!k||!w[0]||!k[0])return!s.s||!je.s||w&&!w[0]&&!k||k&&!k[0]&&!w?je.c=je.e=je.s=null:(je.s*=s.s,!w||!k?je.c=je.e=null:(je.c=[0],je.e=0)),je;for(et=I(s.e/P)+I(je.e/P),je.s*=s.s,Fr=w.length,Kr=k.length,Fr<Kr&&(Bi=w,w=k,k=Bi,_e=Fr,Fr=Kr,Kr=_e),_e=Fr+Kr,Bi=[];_e--;Bi.push(0));for(_i=T,Ii=re,_e=Kr;--_e>=0;){for(Xt=0,Qr=k[_e]%Ii,ei=k[_e]/Ii|0,Rr=Fr,ir=_e+Rr;ir>_e;)st=w[--Rr]%Ii,qr=w[Rr]/Ii|0,vr=ei*st+qr*Qr,st=Qr*st+vr%Ii*Ii+Bi[ir]+Xt,Xt=(st/_i|0)+(vr/Ii|0)+ei*qr,Bi[ir--]=st%_i;Bi[ir]=Xt}return Xt?++et:Bi.splice(0,1),yo(je,Bi,et)},Qt.negated=function(){var je=new Wt(this);return je.s=-je.s||null,je},Qt.plus=function(je,Gt){var Xt,et=this,_e=et.s;if(je=new Wt(je,Gt),Gt=je.s,!_e||!Gt)return new Wt(NaN);if(_e!=Gt)return je.s=-Gt,et.minus(je);var ir=et.e/P,Rr=je.e/P,vr=et.c,Fr=je.c;if(!ir||!Rr){if(!vr||!Fr)return new Wt(_e/0);if(!vr[0]||!Fr[0])return Fr[0]?je:new Wt(vr[0]?et:_e*0)}if(ir=I(ir),Rr=I(Rr),vr=vr.slice(),_e=ir-Rr){for(_e>0?(Rr=ir,Xt=Fr):(_e=-_e,Xt=vr),Xt.reverse();_e--;Xt.push(0));Xt.reverse()}for(_e=vr.length,Gt=Fr.length,_e-Gt<0&&(Xt=Fr,Fr=vr,vr=Xt,Gt=_e),_e=0;Gt;)_e=(vr[--Gt]=vr[Gt]+Fr[Gt]+_e)/T|0,vr[Gt]=T===vr[Gt]?0:vr[Gt]%T;return _e&&(vr=[_e].concat(vr),++Rr),yo(je,vr,Rr)},Qt.precision=Qt.sd=function(je,Gt){var Xt,et,_e,ir=this;if(je!=null&&je!==!!je)return le(je,1,q),Gt==null?Gt=zr:le(Gt,0,8),rr(new Wt(ir),je,Gt);if(!(Xt=ir.c))return null;if(_e=Xt.length-1,et=_e*P+1,_e=Xt[_e]){for(;_e%10==0;_e/=10,et--);for(_e=Xt[0];_e>=10;_e/=10,et++);}return je&&ir.e+1>et&&(et=ir.e+1),et},Qt.shiftedBy=function(je){return le(je,-V,V),this.times("1e"+je)},Qt.squareRoot=Qt.sqrt=function(){var je,Gt,Xt,et,_e,ir=this,Rr=ir.c,vr=ir.s,Fr=ir.e,st=Pr+4,qr=new Wt("0.5");if(vr!==1||!Rr||!Rr[0])return new Wt(!vr||vr<0&&(!Rr||Rr[0])?NaN:Rr?ir:1/0);if(vr=Math.sqrt(+Br(ir)),vr==0||vr==1/0?(Gt=ee(Rr),(Gt.length+Fr)%2==0&&(Gt+="0"),vr=Math.sqrt(+Gt),Fr=I((Fr+1)/2)-(Fr<0||Fr%2),vr==1/0?Gt="5e"+Fr:(Gt=vr.toExponential(),Gt=Gt.slice(0,Gt.indexOf("e")+1)+Fr),Xt=new Wt(Gt)):Xt=new Wt(vr+""),Xt.c[0]){for(Fr=Xt.e,vr=Fr+st,vr<3&&(vr=0);;)if(_e=Xt,Xt=qr.times(_e.plus(it(ir,_e,st,1))),ee(_e.c).slice(0,vr)===(Gt=ee(Xt.c)).slice(0,vr))if(Xt.e<Fr&&--vr,Gt=Gt.slice(vr-3,vr+1),Gt=="9999"||!et&&Gt=="4999"){if(!et&&(rr(_e,_e.e+Pr+2,0),_e.times(_e).eq(ir))){Xt=_e;break}st+=4,vr+=4,et=1}else{(!+Gt||!+Gt.slice(1)&&Gt.charAt(0)=="5")&&(rr(Xt,Xt.e+Pr+2,1),je=!Xt.times(Xt).eq(ir));break}}return rr(Xt,Xt.e+Pr+1,zr,je)},Qt.toExponential=function(je,Gt){return je!=null&&(le(je,0,q),je++),Jr(this,je,Gt,1)},Qt.toFixed=function(je,Gt){return je!=null&&(le(je,0,q),je=je+this.e+1),Jr(this,je,Gt)},Qt.toFormat=function(je,Gt,Xt){var et,_e=this;if(Xt==null)je!=null&&Gt&&typeof Gt=="object"?(Xt=Gt,Gt=null):je&&typeof je=="object"?(Xt=je,je=Gt=null):Xt=Xr;else if(typeof Xt!="object")throw Error(E+"Argument not an object: "+Xt);if(et=_e.toFixed(je,Gt),_e.c){var ir,Rr=et.split("."),vr=+Xt.groupSize,Fr=+Xt.secondaryGroupSize,st=Xt.groupSeparator||"",qr=Rr[0],Kr=Rr[1],Qr=_e.s<0,ei=Qr?qr.slice(1):qr,Bi=ei.length;if(Fr&&(ir=vr,vr=Fr,Fr=ir,Bi-=ir),vr>0&&Bi>0){for(ir=Bi%vr||vr,qr=ei.substr(0,ir);ir<Bi;ir+=vr)qr+=st+ei.substr(ir,vr);Fr>0&&(qr+=st+ei.slice(ir)),Qr&&(qr="-"+qr)}et=Kr?qr+(Xt.decimalSeparator||"")+((Fr=+Xt.fractionGroupSize)?Kr.replace(new RegExp("\\d{"+Fr+"}\\B","g"),"$&"+(Xt.fractionGroupSeparator||"")):Kr):qr}return(Xt.prefix||"")+et+(Xt.suffix||"")},Qt.toFraction=function(je){var Gt,Xt,et,_e,ir,Rr,vr,Fr,st,qr,Kr,Qr,ei=this,Bi=ei.c;if(je!=null&&(vr=new Wt(je),!vr.isInteger()&&(vr.c||vr.s!==1)||vr.lt(sr)))throw Error(E+"Argument "+(vr.isInteger()?"out of range: ":"not an integer: ")+Br(vr));if(!Bi)return new Wt(ei);for(Gt=new Wt(sr),st=Xt=new Wt(sr),et=Fr=new Wt(sr),Qr=ee(Bi),ir=Gt.e=Qr.length-ei.e-1,Gt.c[0]=X[(Rr=ir%P)<0?P+Rr:Rr],je=!je||vr.comparedTo(Gt)>0?ir>0?Gt:st:vr,Rr=wo,wo=1/0,vr=new Wt(Qr),Fr.c[0]=0;qr=it(vr,Gt,0,1),_e=Xt.plus(qr.times(et)),_e.comparedTo(je)!=1;)Xt=et,et=_e,st=Fr.plus(qr.times(_e=st)),Fr=_e,Gt=vr.minus(qr.times(_e=Gt)),vr=_e;return _e=it(je.minus(Xt),et,0,1),Fr=Fr.plus(_e.times(st)),Xt=Xt.plus(_e.times(et)),Fr.s=st.s=ei.s,ir=ir*2,Kr=it(st,et,ir,zr).minus(ei).abs().comparedTo(it(Fr,Xt,ir,zr).minus(ei).abs())<1?[st,et]:[Fr,Xt],wo=Rr,Kr},Qt.toNumber=function(){return+Br(this)},Qt.toPrecision=function(je,Gt){return je!=null&&le(je,1,q),Jr(this,je,Gt,2)},Qt.toString=function(je){var Gt,Xt=this,et=Xt.s,_e=Xt.e;return _e===null?et?(Gt="Infinity",et<0&&(Gt="-"+Gt)):Gt="NaN":(je==null?Gt=_e<=Hr||_e>=en?ot(ee(Xt.c),_e):qe(ee(Xt.c),_e,"0"):je===10&&tr?(Xt=rr(new Wt(Xt),Pr+_e+1,zr),Gt=qe(ee(Xt.c),Xt.e,"0")):(le(je,2,Dt.length,"Base"),Gt=Ie(qe(ee(Xt.c),_e,"0"),10,je,et,!0)),et<0&&Xt.c[0]&&(Gt="-"+Gt)),Gt},Qt.valueOf=Qt.toJSON=function(){return Br(this)},Qt._isBigNumber=!0,Ee!=null&&Wt.set(Ee),Wt}function I(Ee){var it=Ee|0;return Ee>0||Ee===it?it:it-1}function ee(Ee){for(var it,Ie,jt=1,Qt=Ee.length,sr=Ee[0]+"";jt<Qt;){for(it=Ee[jt++]+"",Ie=P-it.length;Ie--;it="0"+it);sr+=it}for(Qt=sr.length;sr.charCodeAt(--Qt)===48;);return sr.slice(0,Qt+1||1)}function ie(Ee,it){var Ie,jt,Qt=Ee.c,sr=it.c,Pr=Ee.s,zr=it.s,Hr=Ee.e,en=it.e;if(!Pr||!zr)return null;if(Ie=Qt&&!Qt[0],jt=sr&&!sr[0],Ie||jt)return Ie?jt?0:-zr:Pr;if(Pr!=zr)return Pr;if(Ie=Pr<0,jt=Hr==en,!Qt||!sr)return jt?0:!Qt^Ie?1:-1;if(!jt)return Hr>en^Ie?1:-1;for(zr=(Hr=Qt.length)<(en=sr.length)?Hr:en,Pr=0;Pr<zr;Pr++)if(Qt[Pr]!=sr[Pr])return Qt[Pr]>sr[Pr]^Ie?1:-1;return Hr==en?0:Hr>en^Ie?1:-1}function le(Ee,it,Ie,jt){if(Ee<it||Ee>Ie||Ee!==y(Ee))throw Error(E+(jt||"Argument")+(typeof Ee=="number"?Ee<it||Ee>Ie?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Ee))}function ye(Ee){var it=Ee.c.length-1;return I(Ee.e/P)==it&&Ee.c[it]%2!=0}function ot(Ee,it){return(Ee.length>1?Ee.charAt(0)+"."+Ee.slice(1):Ee)+(it<0?"e":"e+")+it}function qe(Ee,it,Ie){var jt,Qt;if(it<0){for(Qt=Ie+".";++it;Qt+=Ie);Ee=Qt+Ee}else if(jt=Ee.length,++it>jt){for(Qt=Ie,it-=jt;--it;Qt+=Ie);Ee+=Qt}else it<jt&&(Ee=Ee.slice(0,it)+"."+Ee.slice(it));return Ee}r=L(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(commonjsGlobal)})(bignumber);Object.defineProperty(ar,"__esModule",{value:!0});const bignumber_js_1=bignumber.exports;class Ar{constructor(){this.BigNum=(t,r)=>{let n=bignumber_js_1.BigNumber.clone({DECIMAL_PLACES:r});return new n(t)}}winstonToAr(t,{formatted:r=!1,decimals:n=12,trim:o=!0}={}){let y=this.stringToBigNum(t,n).shiftedBy(-12);return r?y.toFormat(n):y.toFixed(n)}arToWinston(t,{formatted:r=!1}={}){let n=this.stringToBigNum(t).shiftedBy(12);return r?n.toFormat():n.toFixed(0)}compare(t,r){let n=this.stringToBigNum(t),o=this.stringToBigNum(r);return n.comparedTo(o)}isEqual(t,r){return this.compare(t,r)===0}isLessThan(t,r){let n=this.stringToBigNum(t),o=this.stringToBigNum(r);return n.isLessThan(o)}isGreaterThan(t,r){let n=this.stringToBigNum(t),o=this.stringToBigNum(r);return n.isGreaterThan(o)}add(t,r){let n=this.stringToBigNum(t);return this.stringToBigNum(r),n.plus(r).toFixed(0)}sub(t,r){let n=this.stringToBigNum(t);return this.stringToBigNum(r),n.minus(r).toFixed(0)}stringToBigNum(t,r=12){return this.BigNum(t,r)}}ar.default=Ar;var api={},axios$2={exports:{}},axios$1={exports:{}},bind$2=function e(t,r){return function(){for(var o=new Array(arguments.length),y=0;y<o.length;y++)o[y]=arguments[y];return t.apply(r,o)}},bind$1=bind$2,toString=Object.prototype.toString,kindOf=function(e){return function(t){var r=toString.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function kindOfTest(e){return e=e.toLowerCase(),function(r){return kindOf(r)===e}}function isArray(e){return Array.isArray(e)}function isUndefined(e){return typeof e>"u"}function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}function isString(e){return typeof e=="string"}function isNumber(e){return typeof e=="number"}function isObject(e){return e!==null&&typeof e=="object"}function isPlainObject(e){if(kindOf(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction(e){return toString.call(e)==="[object Function]"}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isFormData(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||toString.call(e)===t||isFunction(e.toString)&&e.toString()===t)}var isURLSearchParams=kindOfTest("URLSearchParams");function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function forEach(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),isArray(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function merge(){var e={};function t(o,y){isPlainObject(e[y])&&isPlainObject(o)?e[y]=merge(e[y],o):isPlainObject(o)?e[y]=merge({},o):isArray(o)?e[y]=o.slice():e[y]=o}for(var r=0,n=arguments.length;r<n;r++)forEach(arguments[r],t);return e}function extend(e,t,r){return forEach(t,function(o,y){r&&typeof o=="function"?e[y]=bind$1(o,r):e[y]=o}),e}function stripBOM(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function inherits(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)}function toFlatObject(e,t,r){var n,o,y,E={};t=t||{};do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)y=n[o],E[y]||(t[y]=e[y],E[y]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t}function endsWith(e,t,r){e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return n!==-1&&n===r}function toArray(e){if(!e)return null;var t=e.length;if(isUndefined(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r}var isTypedArray$1=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),utils$c={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,isTypedArray:isTypedArray$1,isFileList},utils$b=utils$c;function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function e(t,r,n){if(!r)return t;var o;if(n)o=n(r);else if(utils$b.isURLSearchParams(r))o=r.toString();else{var y=[];utils$b.forEach(r,function(T,P){T===null||typeof T>"u"||(utils$b.isArray(T)?P=P+"[]":T=[T],utils$b.forEach(T,function(X){utils$b.isDate(X)?X=X.toISOString():utils$b.isObject(X)&&(X=JSON.stringify(X)),y.push(encode(P)+"="+encode(X))}))}),o=y.join("&")}if(o){var E=t.indexOf("#");E!==-1&&(t=t.slice(0,E)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t},utils$a=utils$c;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function e(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function e(t){this.handlers[t]&&(this.handlers[t]=null)};InterceptorManager$1.prototype.forEach=function e(t){utils$a.forEach(this.handlers,function(n){n!==null&&t(n)})};var InterceptorManager_1=InterceptorManager$1,utils$9=utils$c,normalizeHeaderName$1=function e(t,r){utils$9.forEach(t,function(o,y){y!==r&&y.toUpperCase()===r.toUpperCase()&&(t[r]=o,delete t[y])})},utils$8=utils$c;function AxiosError$2(e,t,r,n,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}utils$8.inherits(AxiosError$2,Error,{toJSON:function e(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError$2.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){descriptors[e]={value:e}});Object.defineProperties(AxiosError$2,descriptors);Object.defineProperty(prototype,"isAxiosError",{value:!0});AxiosError$2.from=function(e,t,r,n,o,y){var E=Object.create(prototype);return utils$8.toFlatObject(e,E,function(T){return T!==Error.prototype}),AxiosError$2.call(E,e.message,t,r,n,o),E.name=e.name,y&&Object.assign(E,y),E};var AxiosError_1=AxiosError$2,transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},utils$7=utils$c;function toFormData$1(e,t){t=t||new FormData;var r=[];function n(y){return y===null?"":utils$7.isDate(y)?y.toISOString():utils$7.isArrayBuffer(y)||utils$7.isTypedArray(y)?typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function o(y,E){if(utils$7.isPlainObject(y)||utils$7.isArray(y)){if(r.indexOf(y)!==-1)throw Error("Circular reference detected in "+E);r.push(y),utils$7.forEach(y,function(T,P){if(!utils$7.isUndefined(T)){var V=E?E+"."+P:P,X;if(T&&!E&&typeof T=="object"){if(utils$7.endsWith(P,"{}"))T=JSON.stringify(T);else if(utils$7.endsWith(P,"[]")&&(X=utils$7.toArray(T))){X.forEach(function(re){!utils$7.isUndefined(re)&&t.append(V,n(re))});return}}o(T,V)}}),r.pop()}else t.append(E,n(y))}return o(e),t}var toFormData_1=toFormData$1,settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var e=AxiosError_1;return settle=function(r,n,o){var y=o.config.validateStatus;!o.status||!y||y(o.status)?r(o):n(new e("Request failed with status code "+o.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var e=utils$c;return cookies=e.isStandardBrowserEnv()?function(){return{write:function(n,o,y,E,g,T){var P=[];P.push(n+"="+encodeURIComponent(o)),e.isNumber(y)&&P.push("expires="+new Date(y).toGMTString()),e.isString(E)&&P.push("path="+E),e.isString(g)&&P.push("domain="+g),T===!0&&P.push("secure"),document.cookie=P.join("; ")},read:function(n){var o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL$1=function e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},combineURLs$1=function e(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function e(t,r){return t&&!isAbsoluteURL(r)?combineURLs(t,r):r},parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var e=utils$c,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(n){var o={},y,E,g;return n&&e.forEach(n.split(`
`),function(P){if(g=P.indexOf(":"),y=e.trim(P.substr(0,g)).toLowerCase(),E=e.trim(P.substr(g+1)),y){if(o[y]&&t.indexOf(y)>=0)return;y==="set-cookie"?o[y]=(o[y]?o[y]:[]).concat([E]):o[y]=o[y]?o[y]+", "+E:E}}),o},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var e=utils$c;return isURLSameOrigin=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),o;function y(E){var g=E;return r&&(n.setAttribute("href",g),g=n.href),n.setAttribute("href",g),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=y(window.location.href),function(g){var T=e.isString(g)?y(g):g;return T.protocol===o.protocol&&T.host===o.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var CanceledError_1,hasRequiredCanceledError;function requireCanceledError(){if(hasRequiredCanceledError)return CanceledError_1;hasRequiredCanceledError=1;var e=AxiosError_1,t=utils$c;function r(n){e.call(this,n==null?"canceled":n,e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(r,e,{__CANCEL__:!0}),CanceledError_1=r,CanceledError_1}var parseProtocol,hasRequiredParseProtocol;function requireParseProtocol(){return hasRequiredParseProtocol||(hasRequiredParseProtocol=1,parseProtocol=function(t){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}),parseProtocol}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var e=utils$c,t=requireSettle(),r=requireCookies(),n=buildURL$1,o=buildFullPath$1,y=requireParseHeaders(),E=requireIsURLSameOrigin(),g=transitional,T=AxiosError_1,P=requireCanceledError(),V=requireParseProtocol();return xhr=function(re){return new Promise(function(L,I){var ee=re.data,ie=re.headers,le=re.responseType,ye;function ot(){re.cancelToken&&re.cancelToken.unsubscribe(ye),re.signal&&re.signal.removeEventListener("abort",ye)}e.isFormData(ee)&&e.isStandardBrowserEnv()&&delete ie["Content-Type"];var qe=new XMLHttpRequest;if(re.auth){var Ee=re.auth.username||"",it=re.auth.password?unescape(encodeURIComponent(re.auth.password)):"";ie.Authorization="Basic "+btoa(Ee+":"+it)}var Ie=o(re.baseURL,re.url);qe.open(re.method.toUpperCase(),n(Ie,re.params,re.paramsSerializer),!0),qe.timeout=re.timeout;function jt(){if(!!qe){var Pr="getAllResponseHeaders"in qe?y(qe.getAllResponseHeaders()):null,zr=!le||le==="text"||le==="json"?qe.responseText:qe.response,Hr={data:zr,status:qe.status,statusText:qe.statusText,headers:Pr,config:re,request:qe};t(function(rn){L(rn),ot()},function(rn){I(rn),ot()},Hr),qe=null}}if("onloadend"in qe?qe.onloadend=jt:qe.onreadystatechange=function(){!qe||qe.readyState!==4||qe.status===0&&!(qe.responseURL&&qe.responseURL.indexOf("file:")===0)||setTimeout(jt)},qe.onabort=function(){!qe||(I(new T("Request aborted",T.ECONNABORTED,re,qe)),qe=null)},qe.onerror=function(){I(new T("Network Error",T.ERR_NETWORK,re,qe,qe)),qe=null},qe.ontimeout=function(){var zr=re.timeout?"timeout of "+re.timeout+"ms exceeded":"timeout exceeded",Hr=re.transitional||g;re.timeoutErrorMessage&&(zr=re.timeoutErrorMessage),I(new T(zr,Hr.clarifyTimeoutError?T.ETIMEDOUT:T.ECONNABORTED,re,qe)),qe=null},e.isStandardBrowserEnv()){var Qt=(re.withCredentials||E(Ie))&&re.xsrfCookieName?r.read(re.xsrfCookieName):void 0;Qt&&(ie[re.xsrfHeaderName]=Qt)}"setRequestHeader"in qe&&e.forEach(ie,function(zr,Hr){typeof ee>"u"&&Hr.toLowerCase()==="content-type"?delete ie[Hr]:qe.setRequestHeader(Hr,zr)}),e.isUndefined(re.withCredentials)||(qe.withCredentials=!!re.withCredentials),le&&le!=="json"&&(qe.responseType=re.responseType),typeof re.onDownloadProgress=="function"&&qe.addEventListener("progress",re.onDownloadProgress),typeof re.onUploadProgress=="function"&&qe.upload&&qe.upload.addEventListener("progress",re.onUploadProgress),(re.cancelToken||re.signal)&&(ye=function(Pr){!qe||(I(!Pr||Pr&&Pr.type?new P:Pr),qe.abort(),qe=null)},re.cancelToken&&re.cancelToken.subscribe(ye),re.signal&&(re.signal.aborted?ye():re.signal.addEventListener("abort",ye))),ee||(ee=null);var sr=V(Ie);if(sr&&["http","https","file"].indexOf(sr)===-1){I(new T("Unsupported protocol "+sr+":",T.ERR_BAD_REQUEST,re));return}qe.send(ee)})},xhr}var _null,hasRequired_null;function require_null(){return hasRequired_null||(hasRequired_null=1,_null=null),_null}var utils$6=utils$c,normalizeHeaderName=normalizeHeaderName$1,AxiosError$1=AxiosError_1,transitionalDefaults=transitional,toFormData=toFormData_1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils$6.isUndefined(e)&&utils$6.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=requireXhr()),e}function stringifySafely(e,t,r){if(utils$6.isString(e))try{return(t||JSON.parse)(e),utils$6.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var defaults$3={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function e(t,r){if(normalizeHeaderName(r,"Accept"),normalizeHeaderName(r,"Content-Type"),utils$6.isFormData(t)||utils$6.isArrayBuffer(t)||utils$6.isBuffer(t)||utils$6.isStream(t)||utils$6.isFile(t)||utils$6.isBlob(t))return t;if(utils$6.isArrayBufferView(t))return t.buffer;if(utils$6.isURLSearchParams(t))return setContentTypeIfUnset(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n=utils$6.isObject(t),o=r&&r["Content-Type"],y;if((y=utils$6.isFileList(t))||n&&o==="multipart/form-data"){var E=this.env&&this.env.FormData;return toFormData(y?{"files[]":t}:t,E&&new E)}else if(n||o==="application/json")return setContentTypeIfUnset(r,"application/json"),stringifySafely(t);return t}],transformResponse:[function e(t){var r=this.transitional||defaults$3.transitional,n=r&&r.silentJSONParsing,o=r&&r.forcedJSONParsing,y=!n&&this.responseType==="json";if(y||o&&utils$6.isString(t)&&t.length)try{return JSON.parse(t)}catch(E){if(y)throw E.name==="SyntaxError"?AxiosError$1.from(E,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):E}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:require_null()},validateStatus:function e(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$6.forEach(["delete","get","head"],function e(t){defaults$3.headers[t]={}});utils$6.forEach(["post","put","patch"],function e(t){defaults$3.headers[t]=utils$6.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$3,utils$5=utils$c,defaults$2=defaults_1,transformData$1=function e(t,r,n){var o=this||defaults$2;return utils$5.forEach(n,function(E){t=E.call(o,t,r)}),t},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel$1=function(t){return!!(t&&t.__CANCEL__)}),isCancel$1}var utils$4=utils$c,transformData=transformData$1,isCancel=requireIsCancel(),defaults$1=defaults_1,CanceledError=requireCanceledError();function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError}var dispatchRequest$1=function e(t){throwIfCancellationRequested(t),t.headers=t.headers||{},t.data=transformData.call(t,t.data,t.headers,t.transformRequest),t.headers=utils$4.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),utils$4.forEach(["delete","get","head","post","put","patch","common"],function(o){delete t.headers[o]});var r=t.adapter||defaults$1.adapter;return r(t).then(function(o){return throwIfCancellationRequested(t),o.data=transformData.call(t,o.data,o.headers,t.transformResponse),o},function(o){return isCancel(o)||(throwIfCancellationRequested(t),o&&o.response&&(o.response.data=transformData.call(t,o.response.data,o.response.headers,t.transformResponse))),Promise.reject(o)})},utils$3=utils$c,mergeConfig$2=function e(t,r){r=r||{};var n={};function o(V,X){return utils$3.isPlainObject(V)&&utils$3.isPlainObject(X)?utils$3.merge(V,X):utils$3.isPlainObject(X)?utils$3.merge({},X):utils$3.isArray(X)?X.slice():X}function y(V){if(utils$3.isUndefined(r[V])){if(!utils$3.isUndefined(t[V]))return o(void 0,t[V])}else return o(t[V],r[V])}function E(V){if(!utils$3.isUndefined(r[V]))return o(void 0,r[V])}function g(V){if(utils$3.isUndefined(r[V])){if(!utils$3.isUndefined(t[V]))return o(void 0,t[V])}else return o(void 0,r[V])}function T(V){if(V in r)return o(t[V],r[V]);if(V in t)return o(void 0,t[V])}var P={url:E,method:E,data:E,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:T};return utils$3.forEach(Object.keys(t).concat(Object.keys(r)),function(X){var re=P[X]||y,q=re(X);utils$3.isUndefined(q)&&re!==T||(n[X]=q)}),n},data,hasRequiredData;function requireData(){return hasRequiredData||(hasRequiredData=1,data={version:"0.27.2"}),data}var VERSION=requireData().version,AxiosError=AxiosError_1,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){validators$1[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var deprecatedWarnings={};validators$1.transitional=function e(t,r,n){function o(y,E){return"[Axios v"+VERSION+"] Transitional option '"+y+"'"+E+(n?". "+n:"")}return function(y,E,g){if(t===!1)throw new AxiosError(o(E," has been removed"+(r?" in "+r:"")),AxiosError.ERR_DEPRECATED);return r&&!deprecatedWarnings[E]&&(deprecatedWarnings[E]=!0,console.warn(o(E," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(y,E,g):!0}};function assertOptions(e,t,r){if(typeof e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),o=n.length;o-- >0;){var y=n[o],E=t[y];if(E){var g=e[y],T=g===void 0||E(g,y,e);if(T!==!0)throw new AxiosError("option "+y+" must be "+T,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+y,AxiosError.ERR_BAD_OPTION)}}var validator$1={assertOptions,validators:validators$1},utils$2=utils$c,buildURL=buildURL$1,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,buildFullPath=buildFullPath$1,validator=validator$1,validators=validator.validators;function Axios$1(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function e(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mergeConfig$1(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&validator.assertOptions(n,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var o=[],y=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(r)===!1||(y=y&&q.synchronous,o.unshift(q.fulfilled,q.rejected))});var E=[];this.interceptors.response.forEach(function(q){E.push(q.fulfilled,q.rejected)});var g;if(!y){var T=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(T,o),T=T.concat(E),g=Promise.resolve(r);T.length;)g=g.then(T.shift(),T.shift());return g}for(var P=r;o.length;){var V=o.shift(),X=o.shift();try{P=V(P)}catch(re){X(re);break}}try{g=dispatchRequest(P)}catch(re){return Promise.reject(re)}for(;E.length;)g=g.then(E.shift(),E.shift());return g};Axios$1.prototype.getUri=function e(t){t=mergeConfig$1(this.defaults,t);var r=buildFullPath(t.baseURL,t.url);return buildURL(r,t.params,t.paramsSerializer)};utils$2.forEach(["delete","get","head","options"],function e(t){Axios$1.prototype[t]=function(r,n){return this.request(mergeConfig$1(n||{},{method:t,url:r,data:(n||{}).data}))}});utils$2.forEach(["post","put","patch"],function e(t){function r(n){return function(y,E,g){return this.request(mergeConfig$1(g||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:y,data:E}))}}Axios$1.prototype[t]=r(),Axios$1.prototype[t+"Form"]=r(!0)});var Axios_1=Axios$1,CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var e=requireCanceledError();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(E){n=E});var o=this;this.promise.then(function(y){if(!!o._listeners){var E,g=o._listeners.length;for(E=0;E<g;E++)o._listeners[E](y);o._listeners=null}}),this.promise.then=function(y){var E,g=new Promise(function(T){o.subscribe(T),E=T}).then(y);return g.cancel=function(){o.unsubscribe(E)},g},r(function(E){o.reason||(o.reason=new e(E),n(o.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(!!this._listeners){var o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}},t.source=function(){var n,o=new t(function(E){n=E});return{token:o,cancel:n}},CancelToken_1=t,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(t){return function(n){return t.apply(null,n)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){if(hasRequiredIsAxiosError)return isAxiosError;hasRequiredIsAxiosError=1;var e=utils$c;return isAxiosError=function(r){return e.isObject(r)&&r.isAxiosError===!0},isAxiosError}var utils$1=utils$c,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(e){var t=new Axios(e),r=bind(Axios.prototype.request,t);return utils$1.extend(r,Axios.prototype,t),utils$1.extend(r,t),r.create=function(o){return createInstance(mergeConfig(e,o))},r}var axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=requireCanceledError();axios.CancelToken=requireCancelToken();axios.isCancel=requireIsCancel();axios.VERSION=requireData().version;axios.toFormData=toFormData_1;axios.AxiosError=AxiosError_1;axios.Cancel=axios.CanceledError;axios.all=function e(t){return Promise.all(t)};axios.spread=requireSpread();axios.isAxiosError=requireIsAxiosError();axios$1.exports=axios;axios$1.exports.default=axios;(function(e){e.exports=axios$1.exports})(axios$2);Object.defineProperty(api,"__esModule",{value:!0});const axios_1=axios$2.exports;class Api{constructor(t){this.METHOD_GET="GET",this.METHOD_POST="POST",this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t)}getConfig(){return this.config}mergeDefaults(t){const r=t.protocol||"http",n=t.port||(r==="https"?443:80);return{host:t.host||"127.0.0.1",protocol:r,port:n,timeout:t.timeout||2e4,logging:t.logging||!1,logger:t.logger||console.log,network:t.network}}async get(t,r){try{return await this.request().get(t,r)}catch(n){if(n.response&&n.response.status)return n.response;throw n}}async post(t,r,n){try{return await this.request().post(t,r,n)}catch(o){if(o.response&&o.response.status)return o.response;throw o}}request(){const t={};this.config.network&&(t["x-network"]=this.config.network);let r=axios_1.default.create({baseURL:`${this.config.protocol}://${this.config.host}:${this.config.port}`,timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:t});return this.config.logging&&(r.interceptors.request.use(n=>(this.config.logger(`Requesting: ${n.baseURL}/${n.url}`),n)),r.interceptors.response.use(n=>(this.config.logger(`Response:   ${n.config.url} - ${n.status}`),n))),r}}api.default=Api;var webcryptoDriver={},utils={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return(r+n)*3/4-n}function _byteLength(e,t,r){return(t+r)*3/4-r}function toByteArray(e){var t,r=getLens(e),n=r[0],o=r[1],y=new Arr(_byteLength(e,n,o)),E=0,g=o>0?n-4:n,T;for(T=0;T<g;T+=4)t=revLookup[e.charCodeAt(T)]<<18|revLookup[e.charCodeAt(T+1)]<<12|revLookup[e.charCodeAt(T+2)]<<6|revLookup[e.charCodeAt(T+3)],y[E++]=t>>16&255,y[E++]=t>>8&255,y[E++]=t&255;return o===2&&(t=revLookup[e.charCodeAt(T)]<<2|revLookup[e.charCodeAt(T+1)]>>4,y[E++]=t&255),o===1&&(t=revLookup[e.charCodeAt(T)]<<10|revLookup[e.charCodeAt(T+1)]<<4|revLookup[e.charCodeAt(T+2)]>>2,y[E++]=t>>8&255,y[E++]=t&255),y}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[e&63]}function encodeChunk(e,t,r){for(var n,o=[],y=t;y<r;y+=3)n=(e[y]<<16&16711680)+(e[y+1]<<8&65280)+(e[y+2]&255),o.push(tripletToBase64(n));return o.join("")}function fromByteArray(e){for(var t,r=e.length,n=r%3,o=[],y=16383,E=0,g=r-n;E<g;E+=y)o.push(encodeChunk(e,E,E+y>g?g:E+y));return n===1?(t=e[r-1],o.push(lookup[t>>2]+lookup[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),o.join("")}var util={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var y=Object.getOwnPropertySymbols(t);if(y.length!==1||y[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var E=Object.getOwnPropertyDescriptor(t,r);if(E.value!==o||E.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var e=requireShams$1();return shams=function(){return e()&&!!Symbol.toStringTag},shams}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var e=typeof Symbol<"u"&&Symbol,t=requireShams$1();return hasSymbols=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},hasSymbols}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var e="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,r=Object.prototype.toString,n="[object Function]";return implementation=function(y){var E=this;if(typeof E!="function"||r.call(E)!==n)throw new TypeError(e+E);for(var g=t.call(arguments,1),T,P=function(){if(this instanceof T){var L=E.apply(this,g.concat(t.call(arguments)));return Object(L)===L?L:this}else return E.apply(y,g.concat(t.call(arguments)))},V=Math.max(0,E.length-g.length),X=[],re=0;re<V;re++)X.push("$"+re);if(T=Function("binder","return function ("+X.join(",")+"){ return binder.apply(this,arguments); }")(P),E.prototype){var q=function(){};q.prototype=E.prototype,T.prototype=new q,q.prototype=null}return T},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var e=requireImplementation();return functionBind=Function.prototype.bind||e,functionBind}var src,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src;hasRequiredSrc=1;var e=requireFunctionBind();return src=e.call(Function.call,Object.prototype.hasOwnProperty),src}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var e,t=SyntaxError,r=Function,n=TypeError,o=function(Qt){try{return r('"use strict"; return ('+Qt+").constructor;")()}catch{}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch{y=null}var E=function(){throw new n},g=y?function(){try{return arguments.callee,E}catch{try{return y(arguments,"callee").get}catch{return E}}}():E,T=requireHasSymbols()(),P=Object.getPrototypeOf||function(Qt){return Qt.__proto__},V={},X=typeof Uint8Array>"u"?e:P(Uint8Array),re={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":T?P([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":V,"%AsyncGenerator%":V,"%AsyncGeneratorFunction%":V,"%AsyncIteratorPrototype%":V,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":V,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T?P(P([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!T?e:P(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!T?e:P(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T?P(""[Symbol.iterator]()):e,"%Symbol%":T?Symbol:e,"%SyntaxError%":t,"%ThrowTypeError%":g,"%TypedArray%":X,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet},q=function Qt(sr){var Pr;if(sr==="%AsyncFunction%")Pr=o("async function () {}");else if(sr==="%GeneratorFunction%")Pr=o("function* () {}");else if(sr==="%AsyncGeneratorFunction%")Pr=o("async function* () {}");else if(sr==="%AsyncGenerator%"){var zr=Qt("%AsyncGeneratorFunction%");zr&&(Pr=zr.prototype)}else if(sr==="%AsyncIteratorPrototype%"){var Hr=Qt("%AsyncGenerator%");Hr&&(Pr=P(Hr.prototype))}return re[sr]=Pr,Pr},L={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=requireFunctionBind(),ee=requireSrc(),ie=I.call(Function.call,Array.prototype.concat),le=I.call(Function.apply,Array.prototype.splice),ye=I.call(Function.call,String.prototype.replace),ot=I.call(Function.call,String.prototype.slice),qe=I.call(Function.call,RegExp.prototype.exec),Ee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,it=/\\(\\)?/g,Ie=function(sr){var Pr=ot(sr,0,1),zr=ot(sr,-1);if(Pr==="%"&&zr!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(zr==="%"&&Pr!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var Hr=[];return ye(sr,Ee,function(en,rn,wo,Gr){Hr[Hr.length]=wo?ye(Gr,it,"$1"):rn||en}),Hr},jt=function(sr,Pr){var zr=sr,Hr;if(ee(L,zr)&&(Hr=L[zr],zr="%"+Hr[0]+"%"),ee(re,zr)){var en=re[zr];if(en===V&&(en=q(zr)),typeof en>"u"&&!Pr)throw new n("intrinsic "+sr+" exists, but is not available. Please file an issue!");return{alias:Hr,name:zr,value:en}}throw new t("intrinsic "+sr+" does not exist!")};return getIntrinsic=function(sr,Pr){if(typeof sr!="string"||sr.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Pr!="boolean")throw new n('"allowMissing" argument must be a boolean');if(qe(/^%?[^%]*%?$/,sr)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var zr=Ie(sr),Hr=zr.length>0?zr[0]:"",en=jt("%"+Hr+"%",Pr),rn=en.name,wo=en.value,Gr=!1,ni=en.alias;ni&&(Hr=ni[0],le(zr,ie([0,1],ni)));for(var ki=1,Xr=!0;ki<zr.length;ki+=1){var Dt=zr[ki],tr=ot(Dt,0,1),Wt=ot(Dt,-1);if((tr==='"'||tr==="'"||tr==="`"||Wt==='"'||Wt==="'"||Wt==="`")&&tr!==Wt)throw new t("property names with quotes must have matching quotes");if((Dt==="constructor"||!Xr)&&(Gr=!0),Hr+="."+Dt,rn="%"+Hr+"%",ee(re,rn))wo=re[rn];else if(wo!=null){if(!(Dt in wo)){if(!Pr)throw new n("base intrinsic for "+sr+" exists, but the property is not available.");return}if(y&&ki+1>=zr.length){var Jr=y(wo,Dt);Xr=!!Jr,Xr&&"get"in Jr&&!("originalValue"in Jr.get)?wo=Jr.get:wo=wo[Dt]}else Xr=ee(wo,Dt),wo=wo[Dt];Xr&&!Gr&&(re[rn]=wo)}}return wo},getIntrinsic}var callBind={exports:{}},hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(e){var t=requireFunctionBind(),r=requireGetIntrinsic(),n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),y=r("%Reflect.apply%",!0)||t.call(o,n),E=r("%Object.getOwnPropertyDescriptor%",!0),g=r("%Object.defineProperty%",!0),T=r("%Math.max%");if(g)try{g({},"a",{value:1})}catch{g=null}e.exports=function(X){var re=y(t,o,arguments);if(E&&g){var q=E(re,"length");q.configurable&&g(re,"length",{value:1+T(0,X.length-(arguments.length-1))})}return re};var P=function(){return y(t,n,arguments)};g?g(e.exports,"apply",{value:P}):e.exports.apply=P}(callBind)),callBind.exports}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var e=requireGetIntrinsic(),t=requireCallBind(),r=t(e("String.prototype.indexOf"));return callBound=function(o,y){var E=e(o,!!y);return typeof E=="function"&&r(o,".prototype.")>-1?t(E):E},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var e=requireShams()(),t=requireCallBound(),r=t("Object.prototype.toString"),n=function(g){return e&&g&&typeof g=="object"&&Symbol.toStringTag in g?!1:r(g)==="[object Arguments]"},o=function(g){return n(g)?!0:g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&r(g)!=="[object Array]"&&r(g.callee)==="[object Function]"},y=function(){return n(arguments)}();return n.isLegacyArguments=o,isArguments=y?n:o,isArguments}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=requireShams()(),o=Object.getPrototypeOf,y=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},E;return isGeneratorFunction=function(T){if(typeof T!="function")return!1;if(r.test(t.call(T)))return!0;if(!n){var P=e.call(T);return P==="[object GeneratorFunction]"}if(!o)return!1;if(typeof E>"u"){var V=y();E=V?o(V):!1}return o(T)===E},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(ee){ee!==n&&(t=null)}else t=null;var o=/^\s*class\b/,y=function(ie){try{var le=e.call(ie);return o.test(le)}catch{return!1}},E=function(ie){try{return y(ie)?!1:(e.call(ie),!0)}catch{return!1}},g=Object.prototype.toString,T="[object Object]",P="[object Function]",V="[object GeneratorFunction]",X="[object HTMLAllCollection]",re=typeof Symbol=="function"&&!!Symbol.toStringTag,q=!(0 in[,]),L=function(){return!1};if(typeof document=="object"){var I=document.all;g.call(I)===g.call(document.all)&&(L=function(ie){if((q||!ie)&&(typeof ie>"u"||typeof ie=="object"))try{var le=g.call(ie);return(le===X||le===T)&&ie("")==null}catch{}return!1})}return isCallable=t?function(ie){if(L(ie))return!0;if(!ie||typeof ie!="function"&&typeof ie!="object")return!1;if(typeof ie=="function"&&!ie.prototype)return!0;try{t(ie,null,r)}catch(le){if(le!==n)return!1}return!y(ie)}:function(ie){if(L(ie))return!0;if(!ie||typeof ie!="function"&&typeof ie!="object")return!1;if(re)return E(ie);if(y(ie))return!1;var le=g.call(ie);return le===P||le===V||E(ie)},isCallable}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var e=requireIsCallable(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(T,P,V){for(var X=0,re=T.length;X<re;X++)r.call(T,X)&&(V==null?P(T[X],X,T):P.call(V,T[X],X,T))},o=function(T,P,V){for(var X=0,re=T.length;X<re;X++)V==null?P(T.charAt(X),X,T):P.call(V,T.charAt(X),X,T)},y=function(T,P,V){for(var X in T)r.call(T,X)&&(V==null?P(T[X],X,T):P.call(V,T[X],X,T))},E=function(T,P,V){if(!e(P))throw new TypeError("iterator must be a function");var X;arguments.length>=3&&(X=V),t.call(T)==="[object Array]"?n(T,P,X):typeof T=="string"?o(T,P,X):y(T,P,X)};return forEach_1=E,forEach_1}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var e=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],t=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var n=[],o=0;o<e.length;o++)typeof t[e[o]]=="function"&&(n[n.length]=e[o]);return n},availableTypedArrays}var getOwnPropertyDescriptor,hasRequiredGetOwnPropertyDescriptor;function requireGetOwnPropertyDescriptor(){if(hasRequiredGetOwnPropertyDescriptor)return getOwnPropertyDescriptor;hasRequiredGetOwnPropertyDescriptor=1;var e=requireGetIntrinsic(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return getOwnPropertyDescriptor=t,getOwnPropertyDescriptor}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var e=requireForEach(),t=requireAvailableTypedArrays(),r=requireCallBound(),n=r("Object.prototype.toString"),o=requireShams()(),y=typeof globalThis>"u"?commonjsGlobal:globalThis,E=t(),g=r("Array.prototype.indexOf",!0)||function(L,I){for(var ee=0;ee<L.length;ee+=1)if(L[ee]===I)return ee;return-1},T=r("String.prototype.slice"),P={},V=requireGetOwnPropertyDescriptor(),X=Object.getPrototypeOf;o&&V&&X&&e(E,function(q){var L=new y[q];if(Symbol.toStringTag in L){var I=X(L),ee=V(I,Symbol.toStringTag);if(!ee){var ie=X(I);ee=V(ie,Symbol.toStringTag)}P[q]=ee.get}});var re=function(L){var I=!1;return e(P,function(ee,ie){if(!I)try{I=ee.call(L)===ie}catch{}}),I};return isTypedArray=function(L){if(!L||typeof L!="object")return!1;if(!o||!(Symbol.toStringTag in L)){var I=T(n(L),8,-1);return g(E,I)>-1}return V?re(L):!1},isTypedArray}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var e=requireForEach(),t=requireAvailableTypedArrays(),r=requireCallBound(),n=r("Object.prototype.toString"),o=requireShams()(),y=typeof globalThis>"u"?commonjsGlobal:globalThis,E=t(),g=r("String.prototype.slice"),T={},P=requireGetOwnPropertyDescriptor(),V=Object.getPrototypeOf;o&&P&&V&&e(E,function(q){if(typeof y[q]=="function"){var L=new y[q];if(Symbol.toStringTag in L){var I=V(L),ee=P(I,Symbol.toStringTag);if(!ee){var ie=V(I);ee=P(ie,Symbol.toStringTag)}T[q]=ee.get}}});var X=function(L){var I=!1;return e(T,function(ee,ie){if(!I)try{var le=ee.call(L);le===ie&&(I=le)}catch{}}),I},re=requireIsTypedArray();return whichTypedArray=function(L){return re(L)?!o||!(Symbol.toStringTag in L)?g(n(L),8,-1):X(L):!1},whichTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(e){var t=requireIsArguments(),r=requireIsGeneratorFunction(),n=requireWhichTypedArray(),o=requireIsTypedArray();function y(st){return st.call.bind(st)}var E=typeof BigInt<"u",g=typeof Symbol<"u",T=y(Object.prototype.toString),P=y(Number.prototype.valueOf),V=y(String.prototype.valueOf),X=y(Boolean.prototype.valueOf);if(E)var re=y(BigInt.prototype.valueOf);if(g)var q=y(Symbol.prototype.valueOf);function L(st,qr){if(typeof st!="object")return!1;try{return qr(st),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=o;function I(st){return typeof Promise<"u"&&st instanceof Promise||st!==null&&typeof st=="object"&&typeof st.then=="function"&&typeof st.catch=="function"}e.isPromise=I;function ee(st){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(st):o(st)||tr(st)}e.isArrayBufferView=ee;function ie(st){return n(st)==="Uint8Array"}e.isUint8Array=ie;function le(st){return n(st)==="Uint8ClampedArray"}e.isUint8ClampedArray=le;function ye(st){return n(st)==="Uint16Array"}e.isUint16Array=ye;function ot(st){return n(st)==="Uint32Array"}e.isUint32Array=ot;function qe(st){return n(st)==="Int8Array"}e.isInt8Array=qe;function Ee(st){return n(st)==="Int16Array"}e.isInt16Array=Ee;function it(st){return n(st)==="Int32Array"}e.isInt32Array=it;function Ie(st){return n(st)==="Float32Array"}e.isFloat32Array=Ie;function jt(st){return n(st)==="Float64Array"}e.isFloat64Array=jt;function Qt(st){return n(st)==="BigInt64Array"}e.isBigInt64Array=Qt;function sr(st){return n(st)==="BigUint64Array"}e.isBigUint64Array=sr;function Pr(st){return T(st)==="[object Map]"}Pr.working=typeof Map<"u"&&Pr(new Map);function zr(st){return typeof Map>"u"?!1:Pr.working?Pr(st):st instanceof Map}e.isMap=zr;function Hr(st){return T(st)==="[object Set]"}Hr.working=typeof Set<"u"&&Hr(new Set);function en(st){return typeof Set>"u"?!1:Hr.working?Hr(st):st instanceof Set}e.isSet=en;function rn(st){return T(st)==="[object WeakMap]"}rn.working=typeof WeakMap<"u"&&rn(new WeakMap);function wo(st){return typeof WeakMap>"u"?!1:rn.working?rn(st):st instanceof WeakMap}e.isWeakMap=wo;function Gr(st){return T(st)==="[object WeakSet]"}Gr.working=typeof WeakSet<"u"&&Gr(new WeakSet);function ni(st){return Gr(st)}e.isWeakSet=ni;function ki(st){return T(st)==="[object ArrayBuffer]"}ki.working=typeof ArrayBuffer<"u"&&ki(new ArrayBuffer);function Xr(st){return typeof ArrayBuffer>"u"?!1:ki.working?ki(st):st instanceof ArrayBuffer}e.isArrayBuffer=Xr;function Dt(st){return T(st)==="[object DataView]"}Dt.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Dt(new DataView(new ArrayBuffer(1),0,1));function tr(st){return typeof DataView>"u"?!1:Dt.working?Dt(st):st instanceof DataView}e.isDataView=tr;var Wt=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Jr(st){return T(st)==="[object SharedArrayBuffer]"}function ao(st){return typeof Wt>"u"?!1:(typeof Jr.working>"u"&&(Jr.working=Jr(new Wt)),Jr.working?Jr(st):st instanceof Wt)}e.isSharedArrayBuffer=ao;function yo(st){return T(st)==="[object AsyncFunction]"}e.isAsyncFunction=yo;function rr(st){return T(st)==="[object Map Iterator]"}e.isMapIterator=rr;function Br(st){return T(st)==="[object Set Iterator]"}e.isSetIterator=Br;function je(st){return T(st)==="[object Generator]"}e.isGeneratorObject=je;function Gt(st){return T(st)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=Gt;function Xt(st){return L(st,P)}e.isNumberObject=Xt;function et(st){return L(st,V)}e.isStringObject=et;function _e(st){return L(st,X)}e.isBooleanObject=_e;function ir(st){return E&&L(st,re)}e.isBigIntObject=ir;function Rr(st){return g&&L(st,q)}e.isSymbolObject=Rr;function vr(st){return Xt(st)||et(st)||_e(st)||ir(st)||Rr(st)}e.isBoxedPrimitive=vr;function Fr(st){return typeof Uint8Array<"u"&&(Xr(st)||ao(st))}e.isAnyArrayBuffer=Fr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(st){Object.defineProperty(e,st,{enumerable:!1,value:function(){throw new Error(st+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),isBufferBrowser}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),inherits_browser.exports}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(e){var t=Object.getOwnPropertyDescriptors||function(tr){for(var Wt=Object.keys(tr),Jr={},ao=0;ao<Wt.length;ao++)Jr[Wt[ao]]=Object.getOwnPropertyDescriptor(tr,Wt[ao]);return Jr},r=/%[sdj%]/g;e.format=function(Dt){if(!qe(Dt)){for(var tr=[],Wt=0;Wt<arguments.length;Wt++)tr.push(E(arguments[Wt]));return tr.join(" ")}for(var Wt=1,Jr=arguments,ao=Jr.length,yo=String(Dt).replace(r,function(Br){if(Br==="%%")return"%";if(Wt>=ao)return Br;switch(Br){case"%s":return String(Jr[Wt++]);case"%d":return Number(Jr[Wt++]);case"%j":try{return JSON.stringify(Jr[Wt++])}catch{return"[Circular]"}default:return Br}}),rr=Jr[Wt];Wt<ao;rr=Jr[++Wt])le(rr)||!jt(rr)?yo+=" "+rr:yo+=" "+E(rr);return yo},e.deprecate=function(Dt,tr){if(typeof process<"u"&&process.noDeprecation===!0)return Dt;if(typeof process>"u")return function(){return e.deprecate(Dt,tr).apply(this,arguments)};var Wt=!1;function Jr(){if(!Wt){if(process.throwDeprecation)throw new Error(tr);process.traceDeprecation?console.trace(tr):console.error(tr),Wt=!0}return Dt.apply(this,arguments)}return Jr};var n={},o=/^$/;if(process.env.NODE_DEBUG){var y=process.env.NODE_DEBUG;y=y.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+y+"$","i")}e.debuglog=function(Dt){if(Dt=Dt.toUpperCase(),!n[Dt])if(o.test(Dt)){var tr=process.pid;n[Dt]=function(){var Wt=e.format.apply(e,arguments);console.error("%s %d: %s",Dt,tr,Wt)}}else n[Dt]=function(){};return n[Dt]};function E(Dt,tr){var Wt={seen:[],stylize:T};return arguments.length>=3&&(Wt.depth=arguments[2]),arguments.length>=4&&(Wt.colors=arguments[3]),ie(tr)?Wt.showHidden=tr:tr&&e._extend(Wt,tr),it(Wt.showHidden)&&(Wt.showHidden=!1),it(Wt.depth)&&(Wt.depth=2),it(Wt.colors)&&(Wt.colors=!1),it(Wt.customInspect)&&(Wt.customInspect=!0),Wt.colors&&(Wt.stylize=g),V(Wt,Dt,Wt.depth)}e.inspect=E,E.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},E.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function g(Dt,tr){var Wt=E.styles[tr];return Wt?"\x1B["+E.colors[Wt][0]+"m"+Dt+"\x1B["+E.colors[Wt][1]+"m":Dt}function T(Dt,tr){return Dt}function P(Dt){var tr={};return Dt.forEach(function(Wt,Jr){tr[Wt]=!0}),tr}function V(Dt,tr,Wt){if(Dt.customInspect&&tr&&Pr(tr.inspect)&&tr.inspect!==e.inspect&&!(tr.constructor&&tr.constructor.prototype===tr)){var Jr=tr.inspect(Wt,Dt);return qe(Jr)||(Jr=V(Dt,Jr,Wt)),Jr}var ao=X(Dt,tr);if(ao)return ao;var yo=Object.keys(tr),rr=P(yo);if(Dt.showHidden&&(yo=Object.getOwnPropertyNames(tr)),sr(tr)&&(yo.indexOf("message")>=0||yo.indexOf("description")>=0))return re(tr);if(yo.length===0){if(Pr(tr)){var Br=tr.name?": "+tr.name:"";return Dt.stylize("[Function"+Br+"]","special")}if(Ie(tr))return Dt.stylize(RegExp.prototype.toString.call(tr),"regexp");if(Qt(tr))return Dt.stylize(Date.prototype.toString.call(tr),"date");if(sr(tr))return re(tr)}var je="",Gt=!1,Xt=["{","}"];if(ee(tr)&&(Gt=!0,Xt=["[","]"]),Pr(tr)){var et=tr.name?": "+tr.name:"";je=" [Function"+et+"]"}if(Ie(tr)&&(je=" "+RegExp.prototype.toString.call(tr)),Qt(tr)&&(je=" "+Date.prototype.toUTCString.call(tr)),sr(tr)&&(je=" "+re(tr)),yo.length===0&&(!Gt||tr.length==0))return Xt[0]+je+Xt[1];if(Wt<0)return Ie(tr)?Dt.stylize(RegExp.prototype.toString.call(tr),"regexp"):Dt.stylize("[Object]","special");Dt.seen.push(tr);var _e;return Gt?_e=q(Dt,tr,Wt,rr,yo):_e=yo.map(function(ir){return L(Dt,tr,Wt,rr,ir,Gt)}),Dt.seen.pop(),I(_e,je,Xt)}function X(Dt,tr){if(it(tr))return Dt.stylize("undefined","undefined");if(qe(tr)){var Wt="'"+JSON.stringify(tr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Dt.stylize(Wt,"string")}if(ot(tr))return Dt.stylize(""+tr,"number");if(ie(tr))return Dt.stylize(""+tr,"boolean");if(le(tr))return Dt.stylize("null","null")}function re(Dt){return"["+Error.prototype.toString.call(Dt)+"]"}function q(Dt,tr,Wt,Jr,ao){for(var yo=[],rr=0,Br=tr.length;rr<Br;++rr)Gr(tr,String(rr))?yo.push(L(Dt,tr,Wt,Jr,String(rr),!0)):yo.push("");return ao.forEach(function(je){je.match(/^\d+$/)||yo.push(L(Dt,tr,Wt,Jr,je,!0))}),yo}function L(Dt,tr,Wt,Jr,ao,yo){var rr,Br,je;if(je=Object.getOwnPropertyDescriptor(tr,ao)||{value:tr[ao]},je.get?je.set?Br=Dt.stylize("[Getter/Setter]","special"):Br=Dt.stylize("[Getter]","special"):je.set&&(Br=Dt.stylize("[Setter]","special")),Gr(Jr,ao)||(rr="["+ao+"]"),Br||(Dt.seen.indexOf(je.value)<0?(le(Wt)?Br=V(Dt,je.value,null):Br=V(Dt,je.value,Wt-1),Br.indexOf(`
`)>-1&&(yo?Br=Br.split(`
`).map(function(Gt){return"  "+Gt}).join(`
`).substr(2):Br=`
`+Br.split(`
`).map(function(Gt){return"   "+Gt}).join(`
`))):Br=Dt.stylize("[Circular]","special")),it(rr)){if(yo&&ao.match(/^\d+$/))return Br;rr=JSON.stringify(""+ao),rr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(rr=rr.substr(1,rr.length-2),rr=Dt.stylize(rr,"name")):(rr=rr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),rr=Dt.stylize(rr,"string"))}return rr+": "+Br}function I(Dt,tr,Wt){var Jr=Dt.reduce(function(ao,yo){return yo.indexOf(`
`)>=0,ao+yo.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Jr>60?Wt[0]+(tr===""?"":tr+`
 `)+" "+Dt.join(`,
  `)+" "+Wt[1]:Wt[0]+tr+" "+Dt.join(", ")+" "+Wt[1]}e.types=requireTypes();function ee(Dt){return Array.isArray(Dt)}e.isArray=ee;function ie(Dt){return typeof Dt=="boolean"}e.isBoolean=ie;function le(Dt){return Dt===null}e.isNull=le;function ye(Dt){return Dt==null}e.isNullOrUndefined=ye;function ot(Dt){return typeof Dt=="number"}e.isNumber=ot;function qe(Dt){return typeof Dt=="string"}e.isString=qe;function Ee(Dt){return typeof Dt=="symbol"}e.isSymbol=Ee;function it(Dt){return Dt===void 0}e.isUndefined=it;function Ie(Dt){return jt(Dt)&&Hr(Dt)==="[object RegExp]"}e.isRegExp=Ie,e.types.isRegExp=Ie;function jt(Dt){return typeof Dt=="object"&&Dt!==null}e.isObject=jt;function Qt(Dt){return jt(Dt)&&Hr(Dt)==="[object Date]"}e.isDate=Qt,e.types.isDate=Qt;function sr(Dt){return jt(Dt)&&(Hr(Dt)==="[object Error]"||Dt instanceof Error)}e.isError=sr,e.types.isNativeError=sr;function Pr(Dt){return typeof Dt=="function"}e.isFunction=Pr;function zr(Dt){return Dt===null||typeof Dt=="boolean"||typeof Dt=="number"||typeof Dt=="string"||typeof Dt=="symbol"||typeof Dt>"u"}e.isPrimitive=zr,e.isBuffer=requireIsBufferBrowser();function Hr(Dt){return Object.prototype.toString.call(Dt)}function en(Dt){return Dt<10?"0"+Dt.toString(10):Dt.toString(10)}var rn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function wo(){var Dt=new Date,tr=[en(Dt.getHours()),en(Dt.getMinutes()),en(Dt.getSeconds())].join(":");return[Dt.getDate(),rn[Dt.getMonth()],tr].join(" ")}e.log=function(){console.log("%s - %s",wo(),e.format.apply(e,arguments))},e.inherits=requireInherits_browser(),e._extend=function(Dt,tr){if(!tr||!jt(tr))return Dt;for(var Wt=Object.keys(tr),Jr=Wt.length;Jr--;)Dt[Wt[Jr]]=tr[Wt[Jr]];return Dt};function Gr(Dt,tr){return Object.prototype.hasOwnProperty.call(Dt,tr)}var ni=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(tr){if(typeof tr!="function")throw new TypeError('The "original" argument must be of type Function');if(ni&&tr[ni]){var Wt=tr[ni];if(typeof Wt!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Wt,ni,{value:Wt,enumerable:!1,writable:!1,configurable:!0}),Wt}function Wt(){for(var Jr,ao,yo=new Promise(function(je,Gt){Jr=je,ao=Gt}),rr=[],Br=0;Br<arguments.length;Br++)rr.push(arguments[Br]);rr.push(function(je,Gt){je?ao(je):Jr(Gt)});try{tr.apply(this,rr)}catch(je){ao(je)}return yo}return Object.setPrototypeOf(Wt,Object.getPrototypeOf(tr)),ni&&Object.defineProperty(Wt,ni,{value:Wt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Wt,t(tr))},e.promisify.custom=ni;function ki(Dt,tr){if(!Dt){var Wt=new Error("Promise was rejected with a falsy value");Wt.reason=Dt,Dt=Wt}return tr(Dt)}function Xr(Dt){if(typeof Dt!="function")throw new TypeError('The "original" argument must be of type Function');function tr(){for(var Wt=[],Jr=0;Jr<arguments.length;Jr++)Wt.push(arguments[Jr]);var ao=Wt.pop();if(typeof ao!="function")throw new TypeError("The last argument must be of type Function");var yo=this,rr=function(){return ao.apply(yo,arguments)};Dt.apply(this,Wt).then(function(Br){process.nextTick(rr.bind(null,null,Br))},function(Br){process.nextTick(ki.bind(null,Br,rr))})}return Object.setPrototypeOf(tr,Object.getPrototypeOf(Dt)),Object.defineProperties(tr,t(Dt)),tr}e.callbackify=Xr}(util)),util}Object.defineProperty(utils,"__esModule",{value:!0});utils.b64UrlDecode=utils.b64UrlEncode=utils.bufferTob64Url=utils.bufferTob64=utils.b64UrlToBuffer=utils.stringToB64Url=utils.stringToBuffer=utils.bufferToString=utils.b64UrlToString=utils.concatBuffers=void 0;const B64js=base64Js;function concatBuffers(e){let t=0;for(let o=0;o<e.length;o++)t+=e[o].byteLength;let r=new Uint8Array(t),n=0;r.set(new Uint8Array(e[0]),n),n+=e[0].byteLength;for(let o=1;o<e.length;o++)r.set(new Uint8Array(e[o]),n),n+=e[o].byteLength;return r}utils.concatBuffers=concatBuffers;function b64UrlToString(e){let t=b64UrlToBuffer(e);return bufferToString(t)}utils.b64UrlToString=b64UrlToString;function bufferToString(e){if(typeof TextDecoder>"u"){const t=requireUtil().TextDecoder;return new t("utf-8",{fatal:!0}).decode(e)}return new TextDecoder("utf-8",{fatal:!0}).decode(e)}utils.bufferToString=bufferToString;function stringToBuffer(e){if(typeof TextEncoder>"u"){const t=requireUtil().TextEncoder;return new t().encode(e)}return new TextEncoder().encode(e)}utils.stringToBuffer=stringToBuffer;function stringToB64Url(e){return bufferTob64Url(stringToBuffer(e))}utils.stringToB64Url=stringToB64Url;function b64UrlToBuffer(e){return new Uint8Array(B64js.toByteArray(b64UrlDecode(e)))}utils.b64UrlToBuffer=b64UrlToBuffer;function bufferTob64(e){return B64js.fromByteArray(new Uint8Array(e))}utils.bufferTob64=bufferTob64;function bufferTob64Url(e){return b64UrlEncode(bufferTob64(e))}utils.bufferTob64Url=bufferTob64Url;function b64UrlEncode(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}utils.b64UrlEncode=b64UrlEncode;function b64UrlDecode(e){e=e.replace(/\-/g,"+").replace(/\_/g,"/");let t;return e.length%4==0?t=0:t=4-e.length%4,e.concat("=".repeat(t))}utils.b64UrlDecode=b64UrlDecode;Object.defineProperty(webcryptoDriver,"__esModule",{value:!0});const ArweaveUtils$3=utils;class WebCryptoDriver{constructor(){if(this.keyLength=4096,this.publicExponent=65537,this.hashAlgorithm="sha256",!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let t=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),r=await this.driver.exportKey("jwk",t.privateKey);return{kty:r.kty,e:r.e,n:r.n,d:r.d,p:r.p,q:r.q,dp:r.dp,dq:r.dq,qi:r.qi}}async sign(t,r,{saltLength:n}={}){let o=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(t),r);return new Uint8Array(o)}async hash(t,r="SHA-256"){let n=await this.driver.digest(r,t);return new Uint8Array(n)}async verify(t,r,n){const o={kty:"RSA",e:"AQAB",n:t},y=await this.jwkToPublicCryptoKey(o),E=this.driver.verify({name:"RSA-PSS",saltLength:32},y,n,r),g=this.driver.verify({name:"RSA-PSS",saltLength:0},y,n,r);return E||g}async jwkToCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;const t=crypto==null?void 0:crypto.subtle;return t===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(n=>typeof t[n]=="function")}async encrypt(t,r,n){const o=await this.driver.importKey("raw",typeof r=="string"?ArweaveUtils$3.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),y=await this.driver.deriveKey({name:"PBKDF2",salt:n?ArweaveUtils$3.stringToBuffer(n):ArweaveUtils$3.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},o,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),E=new Uint8Array(16);crypto.getRandomValues(E);const g=await this.driver.encrypt({name:"AES-CBC",iv:E},y,t);return ArweaveUtils$3.concatBuffers([E,g])}async decrypt(t,r,n){const o=await this.driver.importKey("raw",typeof r=="string"?ArweaveUtils$3.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),y=await this.driver.deriveKey({name:"PBKDF2",salt:n?ArweaveUtils$3.stringToBuffer(n):ArweaveUtils$3.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},o,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),E=t.slice(0,16),g=await this.driver.decrypt({name:"AES-CBC",iv:E},y,t.slice(16));return ArweaveUtils$3.concatBuffers([g])}}webcryptoDriver.default=WebCryptoDriver;var network={};Object.defineProperty(network,"__esModule",{value:!0});class Network{constructor(t){this.api=t}getInfo(){return this.api.get("info").then(t=>t.data)}getPeers(){return this.api.get("peers").then(t=>t.data)}}network.default=Network;var transactions={},error={};Object.defineProperty(error,"__esModule",{value:!0});error.getError=void 0;class ArweaveError extends Error{constructor(t,r={}){r.message?super(r.message):super(),this.type=t,this.response=r.response}getType(){return this.type}}error.default=ArweaveError;function getError(e){let t=e.data;if(typeof e.data=="string")try{t=JSON.parse(e.data)}catch{}if(e.data instanceof ArrayBuffer||e.data instanceof Uint8Array)try{t=JSON.parse(t.toString())}catch{}return t?t.error||t:e.statusText||"unknown"}error.getError=getError;var transaction={},deepHash={},hasRequiredDeepHash;function requireDeepHash(){if(hasRequiredDeepHash)return deepHash;hasRequiredDeepHash=1,Object.defineProperty(deepHash,"__esModule",{value:!0});const e=requireCommon();async function t(n){if(Array.isArray(n)){const E=e.default.utils.concatBuffers([e.default.utils.stringToBuffer("list"),e.default.utils.stringToBuffer(n.length.toString())]);return await r(n,await e.default.crypto.hash(E,"SHA-384"))}const o=e.default.utils.concatBuffers([e.default.utils.stringToBuffer("blob"),e.default.utils.stringToBuffer(n.byteLength.toString())]),y=e.default.utils.concatBuffers([await e.default.crypto.hash(o,"SHA-384"),await e.default.crypto.hash(n,"SHA-384")]);return await e.default.crypto.hash(y,"SHA-384")}deepHash.default=t;async function r(n,o){if(n.length<1)return o;const y=e.default.utils.concatBuffers([o,await t(n[0])]),E=await e.default.crypto.hash(y,"SHA-384");return await r(n.slice(1),E)}return deepHash}var merkle={},hasRequiredMerkle;function requireMerkle(){return hasRequiredMerkle||(hasRequiredMerkle=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.validatePath=e.arrayCompare=e.bufferToInt=e.intToBuffer=e.arrayFlatten=e.generateProofs=e.buildLayers=e.generateTransactionChunks=e.generateTree=e.computeRootHash=e.generateLeaves=e.chunkData=e.MIN_CHUNK_SIZE=e.MAX_CHUNK_SIZE=void 0;const t=requireCommon(),r=utils;e.MAX_CHUNK_SIZE=256*1024,e.MIN_CHUNK_SIZE=32*1024;const n=32,o=32;async function y(qe){let Ee=[],it=qe,Ie=0;for(;it.byteLength>=e.MAX_CHUNK_SIZE;){let jt=e.MAX_CHUNK_SIZE,Qt=it.byteLength-e.MAX_CHUNK_SIZE;Qt>0&&Qt<e.MIN_CHUNK_SIZE&&(jt=Math.ceil(it.byteLength/2));const sr=it.slice(0,jt),Pr=await t.default.crypto.hash(sr);Ie+=sr.byteLength,Ee.push({dataHash:Pr,minByteRange:Ie-sr.byteLength,maxByteRange:Ie}),it=it.slice(jt)}return Ee.push({dataHash:await t.default.crypto.hash(it),minByteRange:Ie,maxByteRange:Ie+it.byteLength}),Ee}e.chunkData=y;async function E(qe){return Promise.all(qe.map(async({dataHash:Ee,minByteRange:it,maxByteRange:Ie})=>({type:"leaf",id:await I(await Promise.all([I(Ee),I(ee(Ie))])),dataHash:Ee,minByteRange:it,maxByteRange:Ie})))}e.generateLeaves=E;async function g(qe){return(await T(qe)).id}e.computeRootHash=g;async function T(qe){return await V(await E(await y(qe)))}e.generateTree=T;async function P(qe){const Ee=await y(qe),it=await E(Ee),Ie=await V(it),jt=await X(Ie),Qt=Ee.slice(-1)[0];return Qt.maxByteRange-Qt.minByteRange===0&&(Ee.splice(Ee.length-1,1),jt.splice(jt.length-1,1)),{data_root:Ie.id,chunks:Ee,proofs:jt}}e.generateTransactionChunks=P;async function V(qe,Ee=0){if(qe.length<2)return qe[0];const it=[];for(let Ie=0;Ie<qe.length;Ie+=2)it.push(await L(qe[Ie],qe[Ie+1]));return V(it,Ee+1)}e.buildLayers=V;function X(qe){const Ee=re(qe);return Array.isArray(Ee)?q(Ee):[Ee]}e.generateProofs=X;function re(qe,Ee=new Uint8Array,it=0){if(qe.type=="leaf")return{offset:qe.maxByteRange-1,proof:(0,r.concatBuffers)([Ee,qe.dataHash,ee(qe.maxByteRange)])};if(qe.type=="branch"){const Ie=(0,r.concatBuffers)([Ee,qe.leftChild.id,qe.rightChild.id,ee(qe.byteRange)]);return[re(qe.leftChild,Ie,it+1),re(qe.rightChild,Ie,it+1)]}throw new Error("Unexpected node type")}function q(qe){const Ee=[];return qe.forEach(it=>{Array.isArray(it)?Ee.push(...q(it)):Ee.push(it)}),Ee}e.arrayFlatten=q;async function L(qe,Ee){return Ee?{type:"branch",id:await I([await I(qe.id),await I(Ee.id),await I(ee(qe.maxByteRange))]),byteRange:qe.maxByteRange,maxByteRange:Ee.maxByteRange,leftChild:qe,rightChild:Ee}:qe}async function I(qe){return Array.isArray(qe)&&(qe=t.default.utils.concatBuffers(qe)),new Uint8Array(await t.default.crypto.hash(qe))}function ee(qe){const Ee=new Uint8Array(n);for(var it=Ee.length-1;it>=0;it--){var Ie=qe%256;Ee[it]=Ie,qe=(qe-Ie)/256}return Ee}e.intToBuffer=ee;function ie(qe){let Ee=0;for(var it=0;it<qe.length;it++)Ee*=256,Ee+=qe[it];return Ee}e.bufferToInt=ie;const le=(qe,Ee)=>qe.every((it,Ie)=>Ee[Ie]===it);e.arrayCompare=le;async function ye(qe,Ee,it,Ie,jt){if(Ie<=0)return!1;if(Ee>=Ie)return ye(qe,0,Ie-1,Ie,jt);if(Ee<0)return ye(qe,0,0,Ie,jt);if(jt.length==o+n){const rn=jt.slice(0,o),wo=jt.slice(rn.length,rn.length+n),Gr=await I([await I(rn),await I(wo)]);return(0,e.arrayCompare)(qe,Gr)?{offset:Ie-1,leftBound:it,rightBound:Ie,chunkSize:Ie-it}:!1}const Qt=jt.slice(0,o),sr=jt.slice(Qt.length,Qt.length+o),Pr=jt.slice(Qt.length+sr.length,Qt.length+sr.length+n),zr=ie(Pr),Hr=jt.slice(Qt.length+sr.length+Pr.length),en=await I([await I(Qt),await I(sr),await I(Pr)]);return(0,e.arrayCompare)(qe,en)?Ee<zr?await ye(Qt,Ee,it,Math.min(Ie,zr),Hr):await ye(sr,Ee,Math.max(it,zr),Ie,Hr):!1}e.validatePath=ye;async function ot(qe,Ee=""){if(qe.byteLength<1)return Ee;const it=qe.slice(0,o),Ie=qe.slice(it.length,it.length+o),jt=qe.slice(it.length+Ie.length,it.length+Ie.length+n),Qt=ie(jt),sr=qe.slice(it.length+Ie.length+jt.length),Pr=await I([await I(it),await I(Ie),await I(jt)]),zr=`${Ee}
${JSON.stringify(Buffer.from(it))},${JSON.stringify(Buffer.from(Ie))},${Qt} => ${JSON.stringify(Pr)}`;return ot(sr,zr)}e.debug=ot}(merkle)),merkle}var hasRequiredTransaction;function requireTransaction(){if(hasRequiredTransaction)return transaction;hasRequiredTransaction=1,Object.defineProperty(transaction,"__esModule",{value:!0}),transaction.Tag=void 0;const e=utils,t=requireDeepHash(),r=requireMerkle();class n{get(g,T){if(!Object.getOwnPropertyNames(this).includes(g))throw new Error(`Field "${g}" is not a property of the Arweave Transaction class.`);return this[g]instanceof Uint8Array?T&&T.decode&&T.string?e.bufferToString(this[g]):T&&T.decode&&!T.string?this[g]:e.bufferTob64Url(this[g]):T&&T.decode==!0?T&&T.string?e.b64UrlToString(this[g]):e.b64UrlToBuffer(this[g]):this[g]}}class o extends n{constructor(g,T,P=!1){super(),this.name=g,this.value=T}}transaction.Tag=o;class y extends n{constructor(g={}){super(),this.format=2,this.id="",this.last_tx="",this.owner="",this.tags=[],this.target="",this.quantity="0",this.data_size="0",this.data=new Uint8Array,this.data_root="",this.reward="0",this.signature="",Object.assign(this,g),typeof this.data=="string"&&(this.data=e.b64UrlToBuffer(this.data)),g.tags&&(this.tags=g.tags.map(T=>new o(T.name,T.value)))}addTag(g,T){this.tags.push(new o(e.stringToB64Url(g),e.stringToB64Url(T)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:e.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(g){this.owner=g}setSignature({id:g,owner:T,reward:P,tags:V,signature:X}){this.id=g,this.owner=T,P&&(this.reward=P),V&&(this.tags=V),this.signature=X}async prepareChunks(g){!this.chunks&&g.byteLength>0&&(this.chunks=await(0,r.generateTransactionChunks)(g),this.data_root=e.bufferTob64Url(this.chunks.data_root)),!this.chunks&&g.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(g,T){if(!this.chunks)throw new Error("Chunks have not been prepared");const P=this.chunks.proofs[g],V=this.chunks.chunks[g];return{data_root:this.data_root,data_size:this.data_size,data_path:e.bufferTob64Url(P.proof),offset:P.offset.toString(),chunk:e.bufferTob64Url(T.slice(V.minByteRange,V.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let g=this.tags.reduce((P,V)=>e.concatBuffers([P,V.get("name",{decode:!0,string:!1}),V.get("value",{decode:!0,string:!1})]),new Uint8Array);return e.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),e.stringToBuffer(this.quantity),e.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),g]);case 2:this.data_root||await this.prepareChunks(this.data);const T=this.tags.map(P=>[P.get("name",{decode:!0,string:!1}),P.get("value",{decode:!0,string:!1})]);return await(0,t.default)([e.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),e.stringToBuffer(this.quantity),e.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),T,e.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}return transaction.default=y,transaction}var transactionUploader={},hasRequiredTransactionUploader;function requireTransactionUploader(){if(hasRequiredTransactionUploader)return transactionUploader;hasRequiredTransactionUploader=1,Object.defineProperty(transactionUploader,"__esModule",{value:!0}),transactionUploader.TransactionUploader=void 0;const e=requireTransaction(),t=utils,r=error,n=requireMerkle(),o=1,y=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],E=1e3*40;class g{constructor(P,V){if(this.api=P,this.chunkIndex=0,this.txPosted=!1,this.lastRequestTimeEnd=0,this.totalErrors=0,this.lastResponseStatus=0,this.lastResponseError="",!V.id)throw new Error("Transaction is not signed");if(!V.chunks)throw new Error("Transaction chunks not prepared");this.data=V.data,this.transaction=new e.default(Object.assign({},V,{data:new Uint8Array(0)}))}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(P){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let V=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+E-Date.now(),E);if(V>0&&(V=V-V*Math.random()*.3,await new Promise(L=>setTimeout(L,V))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}P&&(this.chunkIndex=P);const X=this.transaction.getChunk(P||this.chunkIndex,this.data);if(!await(0,n.validatePath)(this.transaction.chunks.data_root,parseInt(X.offset),0,parseInt(X.data_size),t.b64UrlToBuffer(X.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const q=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(L=>(console.error(L.message),{status:-1,data:{error:L.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=q.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,r.getError)(q),y.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(P,V,X){if(!V||typeof V.chunkIndex!="number"||typeof V.transaction!="object")throw new Error("Serialized object does not match expected format.");var re=new e.default(V.transaction);re.chunks||await re.prepareChunks(X);const q=new g(P,re);if(q.chunkIndex=V.chunkIndex,q.lastRequestTimeEnd=V.lastRequestTimeEnd,q.lastResponseError=V.lastResponseError,q.lastResponseStatus=V.lastResponseStatus,q.txPosted=V.txPosted,q.data=X,q.transaction.data_root!==V.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return q}static async fromTransactionId(P,V){const X=await P.get(`tx/${V}`);if(X.status!==200)throw new Error(`Tx ${V} not found: ${X.status}`);const re=X.data;return re.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:re}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=o){this.transaction.data=this.data;const X=await this.api.post("tx",this.transaction).catch(re=>(console.error(re),{status:-1,data:{error:re.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=X.status,this.transaction.data=new Uint8Array(0),X.status>=200&&X.status<300){this.txPosted=!0,this.chunkIndex=o;return}throw this.lastResponseError=(0,r.getError)(X),new Error(`Unable to upload transaction: ${X.status}, ${this.lastResponseError}`)}const V=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=V.status,!(V.status>=200&&V.status<300))throw this.lastResponseError=(0,r.getError)(V),new Error(`Unable to upload transaction: ${V.status}, ${this.lastResponseError}`);this.txPosted=!0}}return transactionUploader.TransactionUploader=g,transactionUploader}var hasRequiredTransactions;function requireTransactions(){if(hasRequiredTransactions)return transactions;hasRequiredTransactions=1;var e=commonjsGlobal&&commonjsGlobal.__await||function(g){return this instanceof e?(this.v=g,this):new e(g)},t=commonjsGlobal&&commonjsGlobal.__asyncGenerator||function(g,T,P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=P.apply(g,T||[]),X,re=[];return X={},q("next"),q("throw"),q("return"),X[Symbol.asyncIterator]=function(){return this},X;function q(ye){V[ye]&&(X[ye]=function(ot){return new Promise(function(qe,Ee){re.push([ye,ot,qe,Ee])>1||L(ye,ot)})})}function L(ye,ot){try{I(V[ye](ot))}catch(qe){le(re[0][3],qe)}}function I(ye){ye.value instanceof e?Promise.resolve(ye.value.v).then(ee,ie):le(re[0][2],ye)}function ee(ye){L("next",ye)}function ie(ye){L("throw",ye)}function le(ye,ot){ye(ot),re.shift(),re.length&&L(re[0][0],re[0][1])}};Object.defineProperty(transactions,"__esModule",{value:!0});const r=error,n=requireTransaction(),o=utils,y=requireTransactionUploader();class E{constructor(T,P,V){this.api=T,this.crypto=P,this.chunks=V}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(T=>T.data)}getPrice(T,P){let V=P?`price/${T}/${P}`:`price/${T}`;return this.api.get(V,{transformResponse:[function(X){return X}]}).then(X=>X.data)}async get(T){const P=await this.api.get(`tx/${T}`);if(P.status==200){const V=parseInt(P.data.data_size);if(P.data.format>=2&&V>0&&V<=1024*1024*12){const X=await this.getData(T);return new n.default(Object.assign(Object.assign({},P.data),{data:X}))}return new n.default(Object.assign(Object.assign({},P.data),{format:P.data.format||1}))}throw P.status==404?new r.default("TX_NOT_FOUND"):P.status==410?new r.default("TX_FAILED"):new r.default("TX_INVALID")}fromRaw(T){return new n.default(T)}async search(T,P){return this.api.post("arql",{op:"equals",expr1:T,expr2:P}).then(V=>V.data?V.data:[])}getStatus(T){return this.api.get(`tx/${T}/status`).then(P=>P.status==200?{status:200,confirmed:P.data}:{status:P.status,confirmed:null})}async getData(T,P){let V;try{V=await this.chunks.downloadChunkedData(T)}catch(X){console.error(`Error while trying to download chunked data for ${T}`),console.error(X)}if(!V){console.warn(`Falling back to gateway cache for ${T}`);try{V=(await this.api.get(`/${T}`)).data}catch(X){console.error(`Error while trying to download contiguous data from gateway cache for ${T}`),console.error(X)}}if(!V)throw new Error(`${T} was not found!`);return P&&P.decode&&!P.string?V:P&&P.decode&&P.string?o.bufferToString(V):o.bufferTob64Url(V)}async sign(T,P,V){if(!P&&(typeof window>"u"||!window.arweaveWallet))throw new Error("A new Arweave transaction must provide the jwk parameter.");if(!P||P==="use_wallet"){try{(await window.arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await window.arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}const X=await window.arweaveWallet.sign(T,V);T.setSignature({id:X.id,owner:X.owner,reward:X.reward,tags:X.tags,signature:X.signature})}else{T.setOwner(P.n);let X=await T.getSignatureData(),re=await this.crypto.sign(P,X,V),q=await this.crypto.hash(re);T.setSignature({id:o.bufferTob64Url(q),owner:P.n,signature:o.bufferTob64Url(re)})}}async verify(T){const P=await T.getSignatureData(),V=T.get("signature",{decode:!0,string:!1}),X=o.bufferTob64Url(await this.crypto.hash(V));if(T.id!==X)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(T.owner,P,V)}async post(T){if(typeof T=="string"?T=new n.default(JSON.parse(T)):typeof T.readInt32BE=="function"?T=new n.default(JSON.parse(T.toString())):typeof T=="object"&&!(T instanceof n.default)&&(T=new n.default(T)),!(T instanceof n.default))throw new Error("Must be Transaction object");T.chunks||await T.prepareChunks(T.data);const P=await this.getUploader(T,T.data);try{for(;!P.isComplete;)await P.uploadChunk()}catch(V){if(P.lastResponseStatus>0)return{status:P.lastResponseStatus,statusText:P.lastResponseError,data:{error:P.lastResponseError}};throw V}return{status:200,statusText:"OK",data:{}}}async getUploader(T,P){let V;if(P instanceof ArrayBuffer&&(P=new Uint8Array(P)),T instanceof n.default){if(P||(P=T.data),!(P instanceof Uint8Array))throw new Error("Data format is invalid");T.chunks||await T.prepareChunks(P),V=new y.TransactionUploader(this.api,T),(!V.data||V.data.length===0)&&(V.data=P)}else{if(typeof T=="string"&&(T=await y.TransactionUploader.fromTransactionId(this.api,T)),!P||!(P instanceof Uint8Array))throw new Error("Must provide data when resuming upload");V=await y.TransactionUploader.fromSerialized(this.api,T,P)}return V}upload(T,P){return t(this,arguments,function*(){const X=yield e(this.getUploader(T,P));for(;!X.isComplete;)yield e(X.uploadChunk()),yield yield e(X);return yield e(X)})}}return transactions.default=E,transactions}var wallets={};Object.defineProperty(wallets,"__esModule",{value:!0});const ArweaveUtils$2=utils;class Wallets{constructor(t,r){this.api=t,this.crypto=r}getBalance(t){return this.api.get(`wallet/${t}/balance`,{transformResponse:[function(r){return r}]}).then(r=>r.data)}getLastTransactionID(t){return this.api.get(`wallet/${t}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(t){return!t||t==="use_wallet"?this.getAddress():this.getAddress(t)}async getAddress(t){if(!t||t==="use_wallet"){try{await window.arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return window.arweaveWallet.getActiveAddress()}else return this.ownerToAddress(t.n)}async ownerToAddress(t){return ArweaveUtils$2.bufferTob64Url(await this.crypto.hash(ArweaveUtils$2.b64UrlToBuffer(t)))}}wallets.default=Wallets;var silo={};Object.defineProperty(silo,"__esModule",{value:!0});silo.SiloResource=void 0;const ArweaveUtils$1=utils;class Silo{constructor(t,r,n){this.api=t,this.crypto=r,this.transactions=n}async get(t){if(!t)throw new Error("No Silo URI specified");const r=await this.parseUri(t),n=await this.transactions.search("Silo-Name",r.getAccessKey());if(n.length==0)throw new Error(`No data could be found for the Silo URI: ${t}`);const o=await this.transactions.get(n[0]);if(!o)throw new Error(`No data could be found for the Silo URI: ${t}`);const y=o.get("data",{decode:!0,string:!1});return this.crypto.decrypt(y,r.getEncryptionKey())}async readTransactionData(t,r){if(!r)throw new Error("No Silo URI specified");const n=await this.parseUri(r),o=t.get("data",{decode:!0,string:!1});return this.crypto.decrypt(o,n.getEncryptionKey())}async parseUri(t){const r=t.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!r)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");const n=r[1],o=Math.pow(2,parseInt(r[2])),y=await this.hash(ArweaveUtils$1.stringToBuffer(n),o),E=ArweaveUtils$1.bufferTob64(y.slice(0,15)),g=await this.hash(y.slice(16,31),1);return new SiloResource(t,E,g)}async hash(t,r){let n=await this.crypto.hash(t);for(let o=0;o<r-1;o++)n=await this.crypto.hash(n);return n}}silo.default=Silo;class SiloResource{constructor(t,r,n){this.uri=t,this.accessKey=r,this.encryptionKey=n}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}}silo.SiloResource=SiloResource;var chunks={};Object.defineProperty(chunks,"__esModule",{value:!0});const error_1$1=error,ArweaveUtils=utils;class Chunks{constructor(t){this.api=t}async getTransactionOffset(t){const r=await this.api.get(`tx/${t}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${(0,error_1$1.getError)(r)}`)}async getChunk(t){const r=await this.api.get(`chunk/${t}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${(0,error_1$1.getError)(r)}`)}async getChunkData(t){const r=await this.getChunk(t);return ArweaveUtils.b64UrlToBuffer(r.chunk)}firstChunkOffset(t){return parseInt(t.offset)-parseInt(t.size)+1}async downloadChunkedData(t){const r=await this.getTransactionOffset(t),n=parseInt(r.size),y=parseInt(r.offset)-n+1,E=new Uint8Array(n);let g=0;for(;g<n;){this.api.config.logging&&console.log(`[chunk] ${g}/${n}`);let T;try{T=await this.getChunkData(y+g)}catch{console.error(`[chunk] Failed to fetch chunk at offset ${y+g}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node")}if(T)E.set(T,g),g+=T.length;else throw new Error(`Couldn't complete data download at ${g}/${n}`)}return E}}chunks.default=Chunks;var blocks={};Object.defineProperty(blocks,"__esModule",{value:!0});const error_1=error;class Blocks{constructor(t,r){this.api=t,this.network=r}async get(t){const r=await this.api.get(`${Blocks.ENDPOINT}${t}`);if(r.status===200)return r.data;throw r.status===404?new error_1.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){const{current:t}=await this.network.getInfo();return await this.get(t)}}blocks.default=Blocks;Blocks.ENDPOINT="block/hash/";var hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1,Object.defineProperty(common,"__esModule",{value:!0});const e=ar,t=api,r=webcryptoDriver,n=network,o=requireTransactions(),y=wallets,E=requireTransaction(),g=utils,T=silo,P=chunks,V=blocks;class X{constructor(q){this.api=new t.default(q),this.wallets=new y.default(this.api,X.crypto),this.chunks=new P.default(this.api),this.transactions=new o.default(this.api,X.crypto,this.chunks),this.silo=new T.default(this.api,this.crypto,this.transactions),this.network=new n.default(this.api),this.blocks=new V.default(this.api,this.network),this.ar=new e.default}get crypto(){return X.crypto}get utils(){return X.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(q,L){const I={};if(Object.assign(I,q),!q.data&&!(q.target&&q.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(q.owner==null&&L&&L!=="use_wallet"&&(I.owner=L.n),q.last_tx==null&&(I.last_tx=await this.transactions.getTransactionAnchor()),typeof q.data=="string"&&(q.data=g.stringToBuffer(q.data)),q.data instanceof ArrayBuffer&&(q.data=new Uint8Array(q.data)),q.data&&!(q.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(q.reward==null){const ie=q.data?q.data.byteLength:0;I.reward=await this.transactions.getPrice(ie,I.target)}I.data_root="",I.data_size=q.data?q.data.byteLength.toString():"0",I.data=q.data||new Uint8Array(0);const ee=new E.default(I);return await ee.getSignatureData(),ee}async createSiloTransaction(q,L,I){const ee={};if(Object.assign(ee,q),!q.data)throw new Error("Silo transactions must have a 'data' value");if(!I)throw new Error("No Silo URI specified.");if(q.target||q.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(q.owner==null){if(!L||!L.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");ee.owner=L.n}q.last_tx==null&&(ee.last_tx=await this.transactions.getTransactionAnchor());const ie=await this.silo.parseUri(I);if(typeof q.data=="string"){const ye=await this.crypto.encrypt(g.stringToBuffer(q.data),ie.getEncryptionKey());ee.reward=await this.transactions.getPrice(ye.byteLength),ee.data=g.bufferTob64Url(ye)}if(q.data instanceof Uint8Array){const ye=await this.crypto.encrypt(q.data,ie.getEncryptionKey());ee.reward=await this.transactions.getPrice(ye.byteLength),ee.data=g.bufferTob64Url(ye)}const le=new E.default(ee);return le.addTag("Silo-Name",ie.getAccessKey()),le.addTag("Silo-Version","0.1.0"),le}arql(q){return this.api.post("/arql",q).then(L=>L.data||[])}}return common.default=X,X.crypto=new r.default,X.utils=g,common}(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(o,y,E,g){g===void 0&&(g=E);var T=Object.getOwnPropertyDescriptor(y,E);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[E]}}),Object.defineProperty(o,g,T)}:function(o,y,E,g){g===void 0&&(g=E),o[g]=y[E]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(o,y){for(var E in o)E!=="default"&&!Object.prototype.hasOwnProperty.call(y,E)&&t(y,o,E)};Object.defineProperty(e,"__esModule",{value:!0});const n=requireCommon();n.default.init=function(o={}){function y(){const V={host:"arweave.net",port:443,protocol:"https"};if(!window||!window.location||!window.location.protocol||!window.location.hostname)return V;const X=window.location.protocol.replace(":",""),re=window.location.hostname,q=window.location.port?parseInt(window.location.port):X=="https"?443:80;return["localhost","127.0.0.1"].includes(re)||X=="file"?V:{host:re,port:q,protocol:X}}const E=y(),g=o.protocol||E.protocol,T=o.host||E.host,P=o.port||E.port;return new n.default(Object.assign(Object.assign({},o),{host:T,protocol:g,port:P}))},window.Arweave=n.default,r(requireCommon(),e),e.default=n.default})(web);const Arweave=getDefaultExportFromCjs(web);export{Arweave as A,get as g,initializeArDag as i,load as l,persist as p};
