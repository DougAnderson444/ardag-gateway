import{c as be,g as Mn}from"./_commonjsHelpers-e864563f.js";function Hn(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const f=Object.getOwnPropertyDescriptor(i,a);f&&Object.defineProperty(e,a,f.get?f:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Lt={},$e={},Mt={},sn={exports:{}};(function(e){(function(t){var r,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,f=Math.floor,h="[BigNumber Error] ",p=h+"Number primitive has more than 15 significant digits: ",s=1e14,l=14,w=9007199254740991,E=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],T=1e7,_=1e9;function j(N){var U,k,M,B=g.prototype={constructor:g,toString:null,valueOf:null},q=new g(1),F=20,L=4,z=-7,X=21,ne=-1e7,ee=1e7,ue=!1,fe=1,ce=0,ge={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},A="0123456789abcdefghijklmnopqrstuvwxyz",P=!0;function g(n,o){var c,b,y,v,O,d,m,u,S=this;if(!(S instanceof g))return new g(n,o);if(o==null){if(n&&n._isBigNumber===!0){S.s=n.s,!n.c||n.e>ee?S.c=S.e=null:n.e<ne?S.c=[S.e=0]:(S.e=n.e,S.c=n.c.slice());return}if((d=typeof n=="number")&&n*0==0){if(S.s=1/n<0?(n=-n,-1):1,n===~~n){for(v=0,O=n;O>=10;O/=10,v++);v>ee?S.c=S.e=null:(S.e=v,S.c=[n]);return}u=String(n)}else{if(!i.test(u=String(n)))return M(S,u,d);S.s=u.charCodeAt(0)==45?(u=u.slice(1),-1):1}(v=u.indexOf("."))>-1&&(u=u.replace(".","")),(O=u.search(/e/i))>0?(v<0&&(v=O),v+=+u.slice(O+1),u=u.substring(0,O)):v<0&&(v=u.length)}else{if($(o,2,A.length,"Base"),o==10&&P)return S=new g(n),V(S,F+S.e+1,L);if(u=String(n),d=typeof n=="number"){if(n*0!=0)return M(S,u,d,o);if(S.s=1/n<0?(u=u.slice(1),-1):1,g.DEBUG&&u.replace(/^0\.0*|\./,"").length>15)throw Error(p+n)}else S.s=u.charCodeAt(0)===45?(u=u.slice(1),-1):1;for(c=A.slice(0,o),v=O=0,m=u.length;O<m;O++)if(c.indexOf(b=u.charAt(O))<0){if(b=="."){if(O>v){v=m;continue}}else if(!y&&(u==u.toUpperCase()&&(u=u.toLowerCase())||u==u.toLowerCase()&&(u=u.toUpperCase()))){y=!0,O=-1,v=0;continue}return M(S,String(n),d,o)}d=!1,u=k(u,o,10,S.s),(v=u.indexOf("."))>-1?u=u.replace(".",""):v=u.length}for(O=0;u.charCodeAt(O)===48;O++);for(m=u.length;u.charCodeAt(--m)===48;);if(u=u.slice(O,++m)){if(m-=O,d&&g.DEBUG&&m>15&&(n>w||n!==f(n)))throw Error(p+S.s*n);if((v=v-O-1)>ee)S.c=S.e=null;else if(v<ne)S.c=[S.e=0];else{if(S.e=v,S.c=[],O=(v+1)%l,v<0&&(O+=l),O<m){for(O&&S.c.push(+u.slice(0,O)),m-=l;O<m;)S.c.push(+u.slice(O,O+=l));O=l-(u=u.slice(O)).length}else O-=m;for(;O--;u+="0");S.c.push(+u)}}else S.c=[S.e=0]}g.clone=j,g.ROUND_UP=0,g.ROUND_DOWN=1,g.ROUND_CEIL=2,g.ROUND_FLOOR=3,g.ROUND_HALF_UP=4,g.ROUND_HALF_DOWN=5,g.ROUND_HALF_EVEN=6,g.ROUND_HALF_CEIL=7,g.ROUND_HALF_FLOOR=8,g.EUCLID=9,g.config=g.set=function(n){var o,c;if(n!=null)if(typeof n=="object"){if(n.hasOwnProperty(o="DECIMAL_PLACES")&&(c=n[o],$(c,0,_,o),F=c),n.hasOwnProperty(o="ROUNDING_MODE")&&(c=n[o],$(c,0,8,o),L=c),n.hasOwnProperty(o="EXPONENTIAL_AT")&&(c=n[o],c&&c.pop?($(c[0],-_,0,o),$(c[1],0,_,o),z=c[0],X=c[1]):($(c,-_,_,o),z=-(X=c<0?-c:c))),n.hasOwnProperty(o="RANGE"))if(c=n[o],c&&c.pop)$(c[0],-_,-1,o),$(c[1],1,_,o),ne=c[0],ee=c[1];else if($(c,-_,_,o),c)ne=-(ee=c<0?-c:c);else throw Error(h+o+" cannot be zero: "+c);if(n.hasOwnProperty(o="CRYPTO"))if(c=n[o],c===!!c)if(c)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ue=c;else throw ue=!c,Error(h+"crypto unavailable");else ue=c;else throw Error(h+o+" not true or false: "+c);if(n.hasOwnProperty(o="MODULO_MODE")&&(c=n[o],$(c,0,9,o),fe=c),n.hasOwnProperty(o="POW_PRECISION")&&(c=n[o],$(c,0,_,o),ce=c),n.hasOwnProperty(o="FORMAT"))if(c=n[o],typeof c=="object")ge=c;else throw Error(h+o+" not an object: "+c);if(n.hasOwnProperty(o="ALPHABET"))if(c=n[o],typeof c=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(c))P=c.slice(0,10)=="0123456789",A=c;else throw Error(h+o+" invalid: "+c)}else throw Error(h+"Object expected: "+n);return{DECIMAL_PLACES:F,ROUNDING_MODE:L,EXPONENTIAL_AT:[z,X],RANGE:[ne,ee],CRYPTO:ue,MODULO_MODE:fe,POW_PRECISION:ce,FORMAT:ge,ALPHABET:A}},g.isBigNumber=function(n){if(!n||n._isBigNumber!==!0)return!1;if(!g.DEBUG)return!0;var o,c,b=n.c,y=n.e,v=n.s;e:if({}.toString.call(b)=="[object Array]"){if((v===1||v===-1)&&y>=-_&&y<=_&&y===f(y)){if(b[0]===0){if(y===0&&b.length===1)return!0;break e}if(o=(y+1)%l,o<1&&(o+=l),String(b[0]).length==o){for(o=0;o<b.length;o++)if(c=b[o],c<0||c>=s||c!==f(c))break e;if(c!==0)return!0}}}else if(b===null&&y===null&&(v===null||v===1||v===-1))return!0;throw Error(h+"Invalid BigNumber: "+n)},g.maximum=g.max=function(){return Z(arguments,B.lt)},g.minimum=g.min=function(){return Z(arguments,B.gt)},g.random=function(){var n=9007199254740992,o=Math.random()*n&2097151?function(){return f(Math.random()*n)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(c){var b,y,v,O,d,m=0,u=[],S=new g(q);if(c==null?c=F:$(c,0,_),O=a(c/l),ue)if(crypto.getRandomValues){for(b=crypto.getRandomValues(new Uint32Array(O*=2));m<O;)d=b[m]*131072+(b[m+1]>>>11),d>=9e15?(y=crypto.getRandomValues(new Uint32Array(2)),b[m]=y[0],b[m+1]=y[1]):(u.push(d%1e14),m+=2);m=O/2}else if(crypto.randomBytes){for(b=crypto.randomBytes(O*=7);m<O;)d=(b[m]&31)*281474976710656+b[m+1]*1099511627776+b[m+2]*4294967296+b[m+3]*16777216+(b[m+4]<<16)+(b[m+5]<<8)+b[m+6],d>=9e15?crypto.randomBytes(7).copy(b,m):(u.push(d%1e14),m+=7);m=O/7}else throw ue=!1,Error(h+"crypto unavailable");if(!ue)for(;m<O;)d=o(),d<9e15&&(u[m++]=d%1e14);for(O=u[--m],c%=l,O&&c&&(d=E[l-c],u[m]=f(O/d)*d);u[m]===0;u.pop(),m--);if(m<0)u=[v=0];else{for(v=-1;u[0]===0;u.splice(0,1),v-=l);for(m=1,d=u[0];d>=10;d/=10,m++);m<l&&(v-=l-m)}return S.e=v,S.c=u,S}}(),g.sum=function(){for(var n=1,o=arguments,c=new g(o[0]);n<o.length;)c=c.plus(o[n++]);return c},k=function(){var n="0123456789";function o(c,b,y,v){for(var O,d=[0],m,u=0,S=c.length;u<S;){for(m=d.length;m--;d[m]*=b);for(d[0]+=v.indexOf(c.charAt(u++)),O=0;O<d.length;O++)d[O]>y-1&&(d[O+1]==null&&(d[O+1]=0),d[O+1]+=d[O]/y|0,d[O]%=y)}return d.reverse()}return function(c,b,y,v,O){var d,m,u,S,C,H,G,te,oe=c.indexOf("."),le=F,Q=L;for(oe>=0&&(S=ce,ce=0,c=c.replace(".",""),te=new g(b),H=te.pow(c.length-oe),ce=S,te.c=o(R(D(H.c),H.e,"0"),10,y,n),te.e=te.c.length),G=o(c,b,y,O?(d=A,n):(d=n,A)),u=S=G.length;G[--S]==0;G.pop());if(!G[0])return d.charAt(0);if(oe<0?--u:(H.c=G,H.e=u,H.s=v,H=U(H,te,le,Q,y),G=H.c,C=H.r,u=H.e),m=u+le+1,oe=G[m],S=y/2,C=C||m<0||G[m+1]!=null,C=Q<4?(oe!=null||C)&&(Q==0||Q==(H.s<0?3:2)):oe>S||oe==S&&(Q==4||C||Q==6&&G[m-1]&1||Q==(H.s<0?8:7)),m<1||!G[0])c=C?R(d.charAt(1),-le,d.charAt(0)):d.charAt(0);else{if(G.length=m,C)for(--y;++G[--m]>y;)G[m]=0,m||(++u,G=[1].concat(G));for(S=G.length;!G[--S];);for(oe=0,c="";oe<=S;c+=d.charAt(G[oe++]));c=R(c,u,d.charAt(0))}return c}}(),U=function(){function n(b,y,v){var O,d,m,u,S=0,C=b.length,H=y%T,G=y/T|0;for(b=b.slice();C--;)m=b[C]%T,u=b[C]/T|0,O=G*m+u*H,d=H*m+O%T*T+S,S=(d/v|0)+(O/T|0)+G*u,b[C]=d%v;return S&&(b=[S].concat(b)),b}function o(b,y,v,O){var d,m;if(v!=O)m=v>O?1:-1;else for(d=m=0;d<v;d++)if(b[d]!=y[d]){m=b[d]>y[d]?1:-1;break}return m}function c(b,y,v,O){for(var d=0;v--;)b[v]-=d,d=b[v]<y[v]?1:0,b[v]=d*O+b[v]-y[v];for(;!b[0]&&b.length>1;b.splice(0,1));}return function(b,y,v,O,d){var m,u,S,C,H,G,te,oe,le,Q,ie,de,qe,tt,rt,Ee,De,ve=b.s==y.s?1:-1,ye=b.c,se=y.c;if(!ye||!ye[0]||!se||!se[0])return new g(!b.s||!y.s||(ye?se&&ye[0]==se[0]:!se)?NaN:ye&&ye[0]==0||!se?ve*0:ve/0);for(oe=new g(ve),le=oe.c=[],u=b.e-y.e,ve=v+u+1,d||(d=s,u=I(b.e/l)-I(y.e/l),ve=ve/l|0),S=0;se[S]==(ye[S]||0);S++);if(se[S]>(ye[S]||0)&&u--,ve<0)le.push(1),C=!0;else{for(tt=ye.length,Ee=se.length,S=0,ve+=2,H=f(d/(se[0]+1)),H>1&&(se=n(se,H,d),ye=n(ye,H,d),Ee=se.length,tt=ye.length),qe=Ee,Q=ye.slice(0,Ee),ie=Q.length;ie<Ee;Q[ie++]=0);De=se.slice(),De=[0].concat(De),rt=se[0],se[1]>=d/2&&rt++;do{if(H=0,m=o(se,Q,Ee,ie),m<0){if(de=Q[0],Ee!=ie&&(de=de*d+(Q[1]||0)),H=f(de/rt),H>1)for(H>=d&&(H=d-1),G=n(se,H,d),te=G.length,ie=Q.length;o(G,Q,te,ie)==1;)H--,c(G,Ee<te?De:se,te,d),te=G.length,m=1;else H==0&&(m=H=1),G=se.slice(),te=G.length;if(te<ie&&(G=[0].concat(G)),c(Q,G,ie,d),ie=Q.length,m==-1)for(;o(se,Q,Ee,ie)<1;)H++,c(Q,Ee<ie?De:se,ie,d),ie=Q.length}else m===0&&(H++,Q=[0]);le[S++]=H,Q[0]?Q[ie++]=ye[qe]||0:(Q=[ye[qe]],ie=1)}while((qe++<tt||Q[0]!=null)&&ve--);C=Q[0]!=null,le[0]||le.splice(0,1)}if(d==s){for(S=1,ve=le[0];ve>=10;ve/=10,S++);V(oe,v+(oe.e=S+u*l-1)+1,O,C)}else oe.e=u,oe.r=+C;return oe}}();function K(n,o,c,b){var y,v,O,d,m;if(c==null?c=L:$(c,0,8),!n.c)return n.toString();if(y=n.c[0],O=n.e,o==null)m=D(n.c),m=b==1||b==2&&(O<=z||O>=X)?ae(m,O):R(m,O,"0");else if(n=V(new g(n),o,c),v=n.e,m=D(n.c),d=m.length,b==1||b==2&&(o<=v||v<=z)){for(;d<o;m+="0",d++);m=ae(m,v)}else if(o-=O,m=R(m,v,"0"),v+1>d){if(--o>0)for(m+=".";o--;m+="0");}else if(o+=v-d,o>0)for(v+1==d&&(m+=".");o--;m+="0");return n.s<0&&y?"-"+m:m}function Z(n,o){for(var c,b=1,y=new g(n[0]);b<n.length;b++)if(c=new g(n[b]),c.s)o.call(y,c)&&(y=c);else{y=c;break}return y}function Y(n,o,c){for(var b=1,y=o.length;!o[--y];o.pop());for(y=o[0];y>=10;y/=10,b++);return(c=b+c*l-1)>ee?n.c=n.e=null:c<ne?n.c=[n.e=0]:(n.e=c,n.c=o),n}M=function(){var n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,o=/^([^.]+)\.$/,c=/^\.([^.]+)$/,b=/^-?(Infinity|NaN)$/,y=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(v,O,d,m){var u,S=d?O:O.replace(y,"");if(b.test(S))v.s=isNaN(S)?null:S<0?-1:1;else{if(!d&&(S=S.replace(n,function(C,H,G){return u=(G=G.toLowerCase())=="x"?16:G=="b"?2:8,!m||m==u?H:C}),m&&(u=m,S=S.replace(o,"$1").replace(c,"0.$1")),O!=S))return new g(S,u);if(g.DEBUG)throw Error(h+"Not a"+(m?" base "+m:"")+" number: "+O);v.s=null}v.c=v.e=null}}();function V(n,o,c,b){var y,v,O,d,m,u,S,C=n.c,H=E;if(C){e:{for(y=1,d=C[0];d>=10;d/=10,y++);if(v=o-y,v<0)v+=l,O=o,m=C[u=0],S=m/H[y-O-1]%10|0;else if(u=a((v+1)/l),u>=C.length)if(b){for(;C.length<=u;C.push(0));m=S=0,y=1,v%=l,O=v-l+1}else break e;else{for(m=d=C[u],y=1;d>=10;d/=10,y++);v%=l,O=v-l+y,S=O<0?0:m/H[y-O-1]%10|0}if(b=b||o<0||C[u+1]!=null||(O<0?m:m%H[y-O-1]),b=c<4?(S||b)&&(c==0||c==(n.s<0?3:2)):S>5||S==5&&(c==4||b||c==6&&(v>0?O>0?m/H[y-O]:0:C[u-1])%10&1||c==(n.s<0?8:7)),o<1||!C[0])return C.length=0,b?(o-=n.e+1,C[0]=H[(l-o%l)%l],n.e=-o||0):C[0]=n.e=0,n;if(v==0?(C.length=u,d=1,u--):(C.length=u+1,d=H[l-v],C[u]=O>0?f(m/H[y-O]%H[O])*d:0),b)for(;;)if(u==0){for(v=1,O=C[0];O>=10;O/=10,v++);for(O=C[0]+=d,d=1;O>=10;O/=10,d++);v!=d&&(n.e++,C[0]==s&&(C[0]=1));break}else{if(C[u]+=d,C[u]!=s)break;C[u--]=0,d=1}for(v=C.length;C[--v]===0;C.pop());}n.e>ee?n.c=n.e=null:n.e<ne&&(n.c=[n.e=0])}return n}function J(n){var o,c=n.e;return c===null?n.toString():(o=D(n.c),o=c<=z||c>=X?ae(o,c):R(o,c,"0"),n.s<0?"-"+o:o)}return B.absoluteValue=B.abs=function(){var n=new g(this);return n.s<0&&(n.s=1),n},B.comparedTo=function(n,o){return x(this,new g(n,o))},B.decimalPlaces=B.dp=function(n,o){var c,b,y,v=this;if(n!=null)return $(n,0,_),o==null?o=L:$(o,0,8),V(new g(v),n+v.e+1,o);if(!(c=v.c))return null;if(b=((y=c.length-1)-I(this.e/l))*l,y=c[y])for(;y%10==0;y/=10,b--);return b<0&&(b=0),b},B.dividedBy=B.div=function(n,o){return U(this,new g(n,o),F,L)},B.dividedToIntegerBy=B.idiv=function(n,o){return U(this,new g(n,o),0,1)},B.exponentiatedBy=B.pow=function(n,o){var c,b,y,v,O,d,m,u,S,C=this;if(n=new g(n),n.c&&!n.isInteger())throw Error(h+"Exponent not an integer: "+J(n));if(o!=null&&(o=new g(o)),d=n.e>14,!C.c||!C.c[0]||C.c[0]==1&&!C.e&&C.c.length==1||!n.c||!n.c[0])return S=new g(Math.pow(+J(C),d?2-W(n):+J(n))),o?S.mod(o):S;if(m=n.s<0,o){if(o.c?!o.c[0]:!o.s)return new g(NaN);b=!m&&C.isInteger()&&o.isInteger(),b&&(C=C.mod(o))}else{if(n.e>9&&(C.e>0||C.e<-1||(C.e==0?C.c[0]>1||d&&C.c[1]>=24e7:C.c[0]<8e13||d&&C.c[0]<=9999975e7)))return v=C.s<0&&W(n)?-0:0,C.e>-1&&(v=1/v),new g(m?1/v:v);ce&&(v=a(ce/l+2))}for(d?(c=new g(.5),m&&(n.s=1),u=W(n)):(y=Math.abs(+J(n)),u=y%2),S=new g(q);;){if(u){if(S=S.times(C),!S.c)break;v?S.c.length>v&&(S.c.length=v):b&&(S=S.mod(o))}if(y){if(y=f(y/2),y===0)break;u=y%2}else if(n=n.times(c),V(n,n.e+1,1),n.e>14)u=W(n);else{if(y=+J(n),y===0)break;u=y%2}C=C.times(C),v?C.c&&C.c.length>v&&(C.c.length=v):b&&(C=C.mod(o))}return b?S:(m&&(S=q.div(S)),o?S.mod(o):v?V(S,ce,L,O):S)},B.integerValue=function(n){var o=new g(this);return n==null?n=L:$(n,0,8),V(o,o.e+1,n)},B.isEqualTo=B.eq=function(n,o){return x(this,new g(n,o))===0},B.isFinite=function(){return!!this.c},B.isGreaterThan=B.gt=function(n,o){return x(this,new g(n,o))>0},B.isGreaterThanOrEqualTo=B.gte=function(n,o){return(o=x(this,new g(n,o)))===1||o===0},B.isInteger=function(){return!!this.c&&I(this.e/l)>this.c.length-2},B.isLessThan=B.lt=function(n,o){return x(this,new g(n,o))<0},B.isLessThanOrEqualTo=B.lte=function(n,o){return(o=x(this,new g(n,o)))===-1||o===0},B.isNaN=function(){return!this.s},B.isNegative=function(){return this.s<0},B.isPositive=function(){return this.s>0},B.isZero=function(){return!!this.c&&this.c[0]==0},B.minus=function(n,o){var c,b,y,v,O=this,d=O.s;if(n=new g(n,o),o=n.s,!d||!o)return new g(NaN);if(d!=o)return n.s=-o,O.plus(n);var m=O.e/l,u=n.e/l,S=O.c,C=n.c;if(!m||!u){if(!S||!C)return S?(n.s=-o,n):new g(C?O:NaN);if(!S[0]||!C[0])return C[0]?(n.s=-o,n):new g(S[0]?O:L==3?-0:0)}if(m=I(m),u=I(u),S=S.slice(),d=m-u){for((v=d<0)?(d=-d,y=S):(u=m,y=C),y.reverse(),o=d;o--;y.push(0));y.reverse()}else for(b=(v=(d=S.length)<(o=C.length))?d:o,d=o=0;o<b;o++)if(S[o]!=C[o]){v=S[o]<C[o];break}if(v&&(y=S,S=C,C=y,n.s=-n.s),o=(b=C.length)-(c=S.length),o>0)for(;o--;S[c++]=0);for(o=s-1;b>d;){if(S[--b]<C[b]){for(c=b;c&&!S[--c];S[c]=o);--S[c],S[b]+=s}S[b]-=C[b]}for(;S[0]==0;S.splice(0,1),--u);return S[0]?Y(n,S,u):(n.s=L==3?-1:1,n.c=[n.e=0],n)},B.modulo=B.mod=function(n,o){var c,b,y=this;return n=new g(n,o),!y.c||!n.s||n.c&&!n.c[0]?new g(NaN):!n.c||y.c&&!y.c[0]?new g(y):(fe==9?(b=n.s,n.s=1,c=U(y,n,0,3),n.s=b,c.s*=b):c=U(y,n,0,fe),n=y.minus(c.times(n)),!n.c[0]&&fe==1&&(n.s=y.s),n)},B.multipliedBy=B.times=function(n,o){var c,b,y,v,O,d,m,u,S,C,H,G,te,oe,le,Q=this,ie=Q.c,de=(n=new g(n,o)).c;if(!ie||!de||!ie[0]||!de[0])return!Q.s||!n.s||ie&&!ie[0]&&!de||de&&!de[0]&&!ie?n.c=n.e=n.s=null:(n.s*=Q.s,!ie||!de?n.c=n.e=null:(n.c=[0],n.e=0)),n;for(b=I(Q.e/l)+I(n.e/l),n.s*=Q.s,m=ie.length,C=de.length,m<C&&(te=ie,ie=de,de=te,y=m,m=C,C=y),y=m+C,te=[];y--;te.push(0));for(oe=s,le=T,y=C;--y>=0;){for(c=0,H=de[y]%le,G=de[y]/le|0,O=m,v=y+O;v>y;)u=ie[--O]%le,S=ie[O]/le|0,d=G*u+S*H,u=H*u+d%le*le+te[v]+c,c=(u/oe|0)+(d/le|0)+G*S,te[v--]=u%oe;te[v]=c}return c?++b:te.splice(0,1),Y(n,te,b)},B.negated=function(){var n=new g(this);return n.s=-n.s||null,n},B.plus=function(n,o){var c,b=this,y=b.s;if(n=new g(n,o),o=n.s,!y||!o)return new g(NaN);if(y!=o)return n.s=-o,b.minus(n);var v=b.e/l,O=n.e/l,d=b.c,m=n.c;if(!v||!O){if(!d||!m)return new g(y/0);if(!d[0]||!m[0])return m[0]?n:new g(d[0]?b:y*0)}if(v=I(v),O=I(O),d=d.slice(),y=v-O){for(y>0?(O=v,c=m):(y=-y,c=d),c.reverse();y--;c.push(0));c.reverse()}for(y=d.length,o=m.length,y-o<0&&(c=m,m=d,d=c,o=y),y=0;o;)y=(d[--o]=d[o]+m[o]+y)/s|0,d[o]=s===d[o]?0:d[o]%s;return y&&(d=[y].concat(d),++O),Y(n,d,O)},B.precision=B.sd=function(n,o){var c,b,y,v=this;if(n!=null&&n!==!!n)return $(n,1,_),o==null?o=L:$(o,0,8),V(new g(v),n,o);if(!(c=v.c))return null;if(y=c.length-1,b=y*l+1,y=c[y]){for(;y%10==0;y/=10,b--);for(y=c[0];y>=10;y/=10,b++);}return n&&v.e+1>b&&(b=v.e+1),b},B.shiftedBy=function(n){return $(n,-w,w),this.times("1e"+n)},B.squareRoot=B.sqrt=function(){var n,o,c,b,y,v=this,O=v.c,d=v.s,m=v.e,u=F+4,S=new g("0.5");if(d!==1||!O||!O[0])return new g(!d||d<0&&(!O||O[0])?NaN:O?v:1/0);if(d=Math.sqrt(+J(v)),d==0||d==1/0?(o=D(O),(o.length+m)%2==0&&(o+="0"),d=Math.sqrt(+o),m=I((m+1)/2)-(m<0||m%2),d==1/0?o="5e"+m:(o=d.toExponential(),o=o.slice(0,o.indexOf("e")+1)+m),c=new g(o)):c=new g(d+""),c.c[0]){for(m=c.e,d=m+u,d<3&&(d=0);;)if(y=c,c=S.times(y.plus(U(v,y,u,1))),D(y.c).slice(0,d)===(o=D(c.c)).slice(0,d))if(c.e<m&&--d,o=o.slice(d-3,d+1),o=="9999"||!b&&o=="4999"){if(!b&&(V(y,y.e+F+2,0),y.times(y).eq(v))){c=y;break}u+=4,d+=4,b=1}else{(!+o||!+o.slice(1)&&o.charAt(0)=="5")&&(V(c,c.e+F+2,1),n=!c.times(c).eq(v));break}}return V(c,c.e+F+1,L,n)},B.toExponential=function(n,o){return n!=null&&($(n,0,_),n++),K(this,n,o,1)},B.toFixed=function(n,o){return n!=null&&($(n,0,_),n=n+this.e+1),K(this,n,o)},B.toFormat=function(n,o,c){var b,y=this;if(c==null)n!=null&&o&&typeof o=="object"?(c=o,o=null):n&&typeof n=="object"?(c=n,n=o=null):c=ge;else if(typeof c!="object")throw Error(h+"Argument not an object: "+c);if(b=y.toFixed(n,o),y.c){var v,O=b.split("."),d=+c.groupSize,m=+c.secondaryGroupSize,u=c.groupSeparator||"",S=O[0],C=O[1],H=y.s<0,G=H?S.slice(1):S,te=G.length;if(m&&(v=d,d=m,m=v,te-=v),d>0&&te>0){for(v=te%d||d,S=G.substr(0,v);v<te;v+=d)S+=u+G.substr(v,d);m>0&&(S+=u+G.slice(v)),H&&(S="-"+S)}b=C?S+(c.decimalSeparator||"")+((m=+c.fractionGroupSize)?C.replace(new RegExp("\\d{"+m+"}\\B","g"),"$&"+(c.fractionGroupSeparator||"")):C):S}return(c.prefix||"")+b+(c.suffix||"")},B.toFraction=function(n){var o,c,b,y,v,O,d,m,u,S,C,H,G=this,te=G.c;if(n!=null&&(d=new g(n),!d.isInteger()&&(d.c||d.s!==1)||d.lt(q)))throw Error(h+"Argument "+(d.isInteger()?"out of range: ":"not an integer: ")+J(d));if(!te)return new g(G);for(o=new g(q),u=c=new g(q),b=m=new g(q),H=D(te),v=o.e=H.length-G.e-1,o.c[0]=E[(O=v%l)<0?l+O:O],n=!n||d.comparedTo(o)>0?v>0?o:u:d,O=ee,ee=1/0,d=new g(H),m.c[0]=0;S=U(d,o,0,1),y=c.plus(S.times(b)),y.comparedTo(n)!=1;)c=b,b=y,u=m.plus(S.times(y=u)),m=y,o=d.minus(S.times(y=o)),d=y;return y=U(n.minus(c),b,0,1),m=m.plus(y.times(u)),c=c.plus(y.times(b)),m.s=u.s=G.s,v=v*2,C=U(u,b,v,L).minus(G).abs().comparedTo(U(m,c,v,L).minus(G).abs())<1?[u,b]:[m,c],ee=O,C},B.toNumber=function(){return+J(this)},B.toPrecision=function(n,o){return n!=null&&$(n,1,_),K(this,n,o,2)},B.toString=function(n){var o,c=this,b=c.s,y=c.e;return y===null?b?(o="Infinity",b<0&&(o="-"+o)):o="NaN":(n==null?o=y<=z||y>=X?ae(D(c.c),y):R(D(c.c),y,"0"):n===10&&P?(c=V(new g(c),F+y+1,L),o=R(D(c.c),c.e,"0")):($(n,2,A.length,"Base"),o=k(R(D(c.c),y,"0"),10,n,b,!0)),b<0&&c.c[0]&&(o="-"+o)),o},B.valueOf=B.toJSON=function(){return J(this)},B._isBigNumber=!0,N!=null&&g.set(N),g}function I(N){var U=N|0;return N>0||N===U?U:U-1}function D(N){for(var U,k,M=1,B=N.length,q=N[0]+"";M<B;){for(U=N[M++]+"",k=l-U.length;k--;U="0"+U);q+=U}for(B=q.length;q.charCodeAt(--B)===48;);return q.slice(0,B+1||1)}function x(N,U){var k,M,B=N.c,q=U.c,F=N.s,L=U.s,z=N.e,X=U.e;if(!F||!L)return null;if(k=B&&!B[0],M=q&&!q[0],k||M)return k?M?0:-L:F;if(F!=L)return F;if(k=F<0,M=z==X,!B||!q)return M?0:!B^k?1:-1;if(!M)return z>X^k?1:-1;for(L=(z=B.length)<(X=q.length)?z:X,F=0;F<L;F++)if(B[F]!=q[F])return B[F]>q[F]^k?1:-1;return z==X?0:z>X^k?1:-1}function $(N,U,k,M){if(N<U||N>k||N!==f(N))throw Error(h+(M||"Argument")+(typeof N=="number"?N<U||N>k?" out of range: ":" not an integer: ":" not a primitive number: ")+String(N))}function W(N){var U=N.c.length-1;return I(N.e/l)==U&&N.c[U]%2!=0}function ae(N,U){return(N.length>1?N.charAt(0)+"."+N.slice(1):N)+(U<0?"e":"e+")+U}function R(N,U,k){var M,B;if(U<0){for(B=k+".";++U;B+=k);N=B+N}else if(M=N.length,++U>M){for(B=k,U-=M;--U;B+=k);N+=B}else U<M&&(N=N.slice(0,U)+"."+N.slice(U));return N}r=j(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(be)})(sn);Object.defineProperty(Mt,"__esModule",{value:!0});const Gn=sn.exports;class Wn{constructor(){this.BigNum=(t,r)=>{let i=Gn.BigNumber.clone({DECIMAL_PLACES:r});return new i(t)}}winstonToAr(t,{formatted:r=!1,decimals:i=12,trim:a=!0}={}){let f=this.stringToBigNum(t,i).shiftedBy(-12);return r?f.toFormat(i):f.toFixed(i)}arToWinston(t,{formatted:r=!1}={}){let i=this.stringToBigNum(t).shiftedBy(12);return r?i.toFormat():i.toFixed(0)}compare(t,r){let i=this.stringToBigNum(t),a=this.stringToBigNum(r);return i.comparedTo(a)}isEqual(t,r){return this.compare(t,r)===0}isLessThan(t,r){let i=this.stringToBigNum(t),a=this.stringToBigNum(r);return i.isLessThan(a)}isGreaterThan(t,r){let i=this.stringToBigNum(t),a=this.stringToBigNum(r);return i.isGreaterThan(a)}add(t,r){let i=this.stringToBigNum(t);return this.stringToBigNum(r),i.plus(r).toFixed(0)}sub(t,r){let i=this.stringToBigNum(t);return this.stringToBigNum(r),i.minus(r).toFixed(0)}stringToBigNum(t,r=12){return this.BigNum(t,r)}}Mt.default=Wn;var Ht={},un={exports:{}},Gt={exports:{}},fn=function(t,r){return function(){for(var a=new Array(arguments.length),f=0;f<a.length;f++)a[f]=arguments[f];return t.apply(r,a)}},zn=fn,Wt=Object.prototype.toString,zt=function(e){return function(t){var r=Wt.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Pe(e){return e=e.toLowerCase(),function(r){return zt(r)===e}}function Kt(e){return Array.isArray(e)}function ze(e){return typeof e>"u"}function Kn(e){return e!==null&&!ze(e)&&e.constructor!==null&&!ze(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var cn=Pe("ArrayBuffer");function Vn(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&cn(e.buffer),t}function Jn(e){return typeof e=="string"}function Xn(e){return typeof e=="number"}function ln(e){return e!==null&&typeof e=="object"}function Ge(e){if(zt(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var Zn=Pe("Date"),Yn=Pe("File"),Qn=Pe("Blob"),ei=Pe("FileList");function Vt(e){return Wt.call(e)==="[object Function]"}function ti(e){return ln(e)&&Vt(e.pipe)}function ri(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Wt.call(e)===t||Vt(e.toString)&&e.toString()===t)}var ni=Pe("URLSearchParams");function ii(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ai(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Jt(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Kt(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function $t(){var e={};function t(a,f){Ge(e[f])&&Ge(a)?e[f]=$t(e[f],a):Ge(a)?e[f]=$t({},a):Kt(a)?e[f]=a.slice():e[f]=a}for(var r=0,i=arguments.length;r<i;r++)Jt(arguments[r],t);return e}function oi(e,t,r){return Jt(t,function(a,f){r&&typeof a=="function"?e[f]=zn(a,r):e[f]=a}),e}function si(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function ui(e,t,r,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)}function fi(e,t,r){var i,a,f,h={};t=t||{};do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)f=i[a],h[f]||(t[f]=e[f],h[f]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t}function ci(e,t,r){e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;var i=e.indexOf(t,r);return i!==-1&&i===r}function li(e){if(!e)return null;var t=e.length;if(ze(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r}var hi=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),pe={isArray:Kt,isArrayBuffer:cn,isBuffer:Kn,isFormData:ri,isArrayBufferView:Vn,isString:Jn,isNumber:Xn,isObject:ln,isPlainObject:Ge,isUndefined:ze,isDate:Zn,isFile:Yn,isBlob:Qn,isFunction:Vt,isStream:ti,isURLSearchParams:ni,isStandardBrowserEnv:ai,forEach:Jt,merge:$t,extend:oi,trim:ii,stripBOM:si,inherits:ui,toFlatObject:fi,kindOf:zt,kindOfTest:Pe,endsWith:ci,toArray:li,isTypedArray:hi,isFileList:ei},Be=pe;function sr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var hn=function(t,r,i){if(!r)return t;var a;if(i)a=i(r);else if(Be.isURLSearchParams(r))a=r.toString();else{var f=[];Be.forEach(r,function(s,l){s===null||typeof s>"u"||(Be.isArray(s)?l=l+"[]":s=[s],Be.forEach(s,function(E){Be.isDate(E)?E=E.toISOString():Be.isObject(E)&&(E=JSON.stringify(E)),f.push(sr(l)+"="+sr(E))}))}),a=f.join("&")}if(a){var h=t.indexOf("#");h!==-1&&(t=t.slice(0,h)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t},pi=pe;function Ve(){this.handlers=[]}Ve.prototype.use=function(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};Ve.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Ve.prototype.forEach=function(t){pi.forEach(this.handlers,function(i){i!==null&&t(i)})};var di=Ve,yi=pe,gi=function(t,r){yi.forEach(t,function(a,f){f!==r&&f.toUpperCase()===r.toUpperCase()&&(t[r]=a,delete t[f])})},pn=pe;function Ie(e,t,r,i,a){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),a&&(this.response=a)}pn.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var dn=Ie.prototype,yn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){yn[e]={value:e}});Object.defineProperties(Ie,yn);Object.defineProperty(dn,"isAxiosError",{value:!0});Ie.from=function(e,t,r,i,a,f){var h=Object.create(dn);return pn.toFlatObject(e,h,function(s){return s!==Error.prototype}),Ie.call(h,e.message,t,r,i,a),h.name=e.name,f&&Object.assign(h,f),h};var je=Ie,gn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Se=pe;function wi(e,t){t=t||new FormData;var r=[];function i(f){return f===null?"":Se.isDate(f)?f.toISOString():Se.isArrayBuffer(f)||Se.isTypedArray(f)?typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function a(f,h){if(Se.isPlainObject(f)||Se.isArray(f)){if(r.indexOf(f)!==-1)throw Error("Circular reference detected in "+h);r.push(f),Se.forEach(f,function(s,l){if(!Se.isUndefined(s)){var w=h?h+"."+l:l,E;if(s&&!h&&typeof s=="object"){if(Se.endsWith(l,"{}"))s=JSON.stringify(s);else if(Se.endsWith(l,"[]")&&(E=Se.toArray(s))){E.forEach(function(T){!Se.isUndefined(T)&&t.append(w,i(T))});return}}a(s,w)}}),r.pop()}else t.append(h,i(f))}return a(e),t}var wn=wi,nt,ur;function mi(){if(ur)return nt;ur=1;var e=je;return nt=function(r,i,a){var f=a.config.validateStatus;!a.status||!f||f(a.status)?r(a):i(new e("Request failed with status code "+a.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))},nt}var it,fr;function vi(){if(fr)return it;fr=1;var e=pe;return it=e.isStandardBrowserEnv()?function(){return{write:function(i,a,f,h,p,s){var l=[];l.push(i+"="+encodeURIComponent(a)),e.isNumber(f)&&l.push("expires="+new Date(f).toGMTString()),e.isString(h)&&l.push("path="+h),e.isString(p)&&l.push("domain="+p),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(i){var a=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),it}var Ai=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},bi=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},Si=Ai,Ei=bi,mn=function(t,r){return t&&!Si(r)?Ei(t,r):r},at,cr;function Oi(){if(cr)return at;cr=1;var e=pe,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return at=function(i){var a={},f,h,p;return i&&e.forEach(i.split(`
`),function(l){if(p=l.indexOf(":"),f=e.trim(l.substr(0,p)).toLowerCase(),h=e.trim(l.substr(p+1)),f){if(a[f]&&t.indexOf(f)>=0)return;f==="set-cookie"?a[f]=(a[f]?a[f]:[]).concat([h]):a[f]=a[f]?a[f]+", "+h:h}}),a},at}var ot,lr;function Ti(){if(lr)return ot;lr=1;var e=pe;return ot=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),a;function f(h){var p=h;return r&&(i.setAttribute("href",p),p=i.href),i.setAttribute("href",p),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return a=f(window.location.href),function(p){var s=e.isString(p)?f(p):p;return s.protocol===a.protocol&&s.host===a.host}}():function(){return function(){return!0}}(),ot}var st,hr;function Je(){if(hr)return st;hr=1;var e=je,t=pe;function r(i){e.call(this,i==null?"canceled":i,e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(r,e,{__CANCEL__:!0}),st=r,st}var ut,pr;function Ri(){return pr||(pr=1,ut=function(t){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}),ut}var ft,dr;function yr(){if(dr)return ft;dr=1;var e=pe,t=mi(),r=vi(),i=hn,a=mn,f=Oi(),h=Ti(),p=gn,s=je,l=Je(),w=Ri();return ft=function(T){return new Promise(function(j,I){var D=T.data,x=T.headers,$=T.responseType,W;function ae(){T.cancelToken&&T.cancelToken.unsubscribe(W),T.signal&&T.signal.removeEventListener("abort",W)}e.isFormData(D)&&e.isStandardBrowserEnv()&&delete x["Content-Type"];var R=new XMLHttpRequest;if(T.auth){var N=T.auth.username||"",U=T.auth.password?unescape(encodeURIComponent(T.auth.password)):"";x.Authorization="Basic "+btoa(N+":"+U)}var k=a(T.baseURL,T.url);R.open(T.method.toUpperCase(),i(k,T.params,T.paramsSerializer),!0),R.timeout=T.timeout;function M(){if(!!R){var F="getAllResponseHeaders"in R?f(R.getAllResponseHeaders()):null,L=!$||$==="text"||$==="json"?R.responseText:R.response,z={data:L,status:R.status,statusText:R.statusText,headers:F,config:T,request:R};t(function(ne){j(ne),ae()},function(ne){I(ne),ae()},z),R=null}}if("onloadend"in R?R.onloadend=M:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(M)},R.onabort=function(){!R||(I(new s("Request aborted",s.ECONNABORTED,T,R)),R=null)},R.onerror=function(){I(new s("Network Error",s.ERR_NETWORK,T,R,R)),R=null},R.ontimeout=function(){var L=T.timeout?"timeout of "+T.timeout+"ms exceeded":"timeout exceeded",z=T.transitional||p;T.timeoutErrorMessage&&(L=T.timeoutErrorMessage),I(new s(L,z.clarifyTimeoutError?s.ETIMEDOUT:s.ECONNABORTED,T,R)),R=null},e.isStandardBrowserEnv()){var B=(T.withCredentials||h(k))&&T.xsrfCookieName?r.read(T.xsrfCookieName):void 0;B&&(x[T.xsrfHeaderName]=B)}"setRequestHeader"in R&&e.forEach(x,function(L,z){typeof D>"u"&&z.toLowerCase()==="content-type"?delete x[z]:R.setRequestHeader(z,L)}),e.isUndefined(T.withCredentials)||(R.withCredentials=!!T.withCredentials),$&&$!=="json"&&(R.responseType=T.responseType),typeof T.onDownloadProgress=="function"&&R.addEventListener("progress",T.onDownloadProgress),typeof T.onUploadProgress=="function"&&R.upload&&R.upload.addEventListener("progress",T.onUploadProgress),(T.cancelToken||T.signal)&&(W=function(F){!R||(I(!F||F&&F.type?new l:F),R.abort(),R=null)},T.cancelToken&&T.cancelToken.subscribe(W),T.signal&&(T.signal.aborted?W():T.signal.addEventListener("abort",W))),D||(D=null);var q=w(k);if(q&&["http","https","file"].indexOf(q)===-1){I(new s("Unsupported protocol "+q+":",s.ERR_BAD_REQUEST,T));return}R.send(D)})},ft}var ct,gr;function _i(){return gr||(gr=1,ct=null),ct}var he=pe,wr=gi,mr=je,Pi=gn,Bi=wn,Ui={"Content-Type":"application/x-www-form-urlencoded"};function vr(e,t){!he.isUndefined(e)&&he.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Ci(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=yr()),e}function Ni(e,t,r){if(he.isString(e))try{return(t||JSON.parse)(e),he.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}var Xe={transitional:Pi,adapter:Ci(),transformRequest:[function(t,r){if(wr(r,"Accept"),wr(r,"Content-Type"),he.isFormData(t)||he.isArrayBuffer(t)||he.isBuffer(t)||he.isStream(t)||he.isFile(t)||he.isBlob(t))return t;if(he.isArrayBufferView(t))return t.buffer;if(he.isURLSearchParams(t))return vr(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var i=he.isObject(t),a=r&&r["Content-Type"],f;if((f=he.isFileList(t))||i&&a==="multipart/form-data"){var h=this.env&&this.env.FormData;return Bi(f?{"files[]":t}:t,h&&new h)}else if(i||a==="application/json")return vr(r,"application/json"),Ni(t);return t}],transformResponse:[function(t){var r=this.transitional||Xe.transitional,i=r&&r.silentJSONParsing,a=r&&r.forcedJSONParsing,f=!i&&this.responseType==="json";if(f||a&&he.isString(t)&&t.length)try{return JSON.parse(t)}catch(h){if(f)throw h.name==="SyntaxError"?mr.from(h,mr.ERR_BAD_RESPONSE,this,null,this.response):h}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_i()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};he.forEach(["delete","get","head"],function(t){Xe.headers[t]={}});he.forEach(["post","put","patch"],function(t){Xe.headers[t]=he.merge(Ui)});var Xt=Xe,Ii=pe,ki=Xt,ji=function(t,r,i){var a=this||ki;return Ii.forEach(i,function(h){t=h.call(a,t,r)}),t},lt,Ar;function vn(){return Ar||(Ar=1,lt=function(t){return!!(t&&t.__CANCEL__)}),lt}var br=pe,ht=ji,Di=vn(),Fi=Xt,xi=Je();function pt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xi}var qi=function(t){pt(t),t.headers=t.headers||{},t.data=ht.call(t,t.data,t.headers,t.transformRequest),t.headers=br.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),br.forEach(["delete","get","head","post","put","patch","common"],function(a){delete t.headers[a]});var r=t.adapter||Fi.adapter;return r(t).then(function(a){return pt(t),a.data=ht.call(t,a.data,a.headers,t.transformResponse),a},function(a){return Di(a)||(pt(t),a&&a.response&&(a.response.data=ht.call(t,a.response.data,a.response.headers,t.transformResponse))),Promise.reject(a)})},me=pe,An=function(t,r){r=r||{};var i={};function a(w,E){return me.isPlainObject(w)&&me.isPlainObject(E)?me.merge(w,E):me.isPlainObject(E)?me.merge({},E):me.isArray(E)?E.slice():E}function f(w){if(me.isUndefined(r[w])){if(!me.isUndefined(t[w]))return a(void 0,t[w])}else return a(t[w],r[w])}function h(w){if(!me.isUndefined(r[w]))return a(void 0,r[w])}function p(w){if(me.isUndefined(r[w])){if(!me.isUndefined(t[w]))return a(void 0,t[w])}else return a(void 0,r[w])}function s(w){if(w in r)return a(t[w],r[w]);if(w in t)return a(void 0,t[w])}var l={url:h,method:h,data:h,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:s};return me.forEach(Object.keys(t).concat(Object.keys(r)),function(E){var T=l[E]||f,_=T(E);me.isUndefined(_)&&T!==s||(i[E]=_)}),i},dt,Sr;function bn(){return Sr||(Sr=1,dt={version:"0.27.2"}),dt}var $i=bn().version,Re=je,Zt={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Zt[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var Er={};Zt.transitional=function(t,r,i){function a(f,h){return"[Axios v"+$i+"] Transitional option '"+f+"'"+h+(i?". "+i:"")}return function(f,h,p){if(t===!1)throw new Re(a(h," has been removed"+(r?" in "+r:"")),Re.ERR_DEPRECATED);return r&&!Er[h]&&(Er[h]=!0,console.warn(a(h," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(f,h,p):!0}};function Li(e,t,r){if(typeof e!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),a=i.length;a-- >0;){var f=i[a],h=t[f];if(h){var p=e[f],s=p===void 0||h(p,f,e);if(s!==!0)throw new Re("option "+f+" must be "+s,Re.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Re("Unknown option "+f,Re.ERR_BAD_OPTION)}}var Mi={assertOptions:Li,validators:Zt},Sn=pe,Hi=hn,Or=di,Tr=qi,Ze=An,Gi=mn,En=Mi,Ue=En.validators;function ke(e){this.defaults=e,this.interceptors={request:new Or,response:new Or}}ke.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ze(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var i=r.transitional;i!==void 0&&En.assertOptions(i,{silentJSONParsing:Ue.transitional(Ue.boolean),forcedJSONParsing:Ue.transitional(Ue.boolean),clarifyTimeoutError:Ue.transitional(Ue.boolean)},!1);var a=[],f=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(f=f&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});var h=[];this.interceptors.response.forEach(function(_){h.push(_.fulfilled,_.rejected)});var p;if(!f){var s=[Tr,void 0];for(Array.prototype.unshift.apply(s,a),s=s.concat(h),p=Promise.resolve(r);s.length;)p=p.then(s.shift(),s.shift());return p}for(var l=r;a.length;){var w=a.shift(),E=a.shift();try{l=w(l)}catch(T){E(T);break}}try{p=Tr(l)}catch(T){return Promise.reject(T)}for(;h.length;)p=p.then(h.shift(),h.shift());return p};ke.prototype.getUri=function(t){t=Ze(this.defaults,t);var r=Gi(t.baseURL,t.url);return Hi(r,t.params,t.paramsSerializer)};Sn.forEach(["delete","get","head","options"],function(t){ke.prototype[t]=function(r,i){return this.request(Ze(i||{},{method:t,url:r,data:(i||{}).data}))}});Sn.forEach(["post","put","patch"],function(t){function r(i){return function(f,h,p){return this.request(Ze(p||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}ke.prototype[t]=r(),ke.prototype[t+"Form"]=r(!0)});var Wi=ke,yt,Rr;function zi(){if(Rr)return yt;Rr=1;var e=Je();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(h){i=h});var a=this;this.promise.then(function(f){if(!!a._listeners){var h,p=a._listeners.length;for(h=0;h<p;h++)a._listeners[h](f);a._listeners=null}}),this.promise.then=function(f){var h,p=new Promise(function(s){a.subscribe(s),h=s}).then(f);return p.cancel=function(){a.unsubscribe(h)},p},r(function(h){a.reason||(a.reason=new e(h),i(a.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},t.prototype.unsubscribe=function(i){if(!!this._listeners){var a=this._listeners.indexOf(i);a!==-1&&this._listeners.splice(a,1)}},t.source=function(){var i,a=new t(function(h){i=h});return{token:a,cancel:i}},yt=t,yt}var gt,_r;function Ki(){return _r||(_r=1,gt=function(t){return function(i){return t.apply(null,i)}}),gt}var wt,Pr;function Vi(){if(Pr)return wt;Pr=1;var e=pe;return wt=function(r){return e.isObject(r)&&r.isAxiosError===!0},wt}var Br=pe,Ji=fn,We=Wi,Xi=An,Zi=Xt;function On(e){var t=new We(e),r=Ji(We.prototype.request,t);return Br.extend(r,We.prototype,t),Br.extend(r,t),r.create=function(a){return On(Xi(e,a))},r}var we=On(Zi);we.Axios=We;we.CanceledError=Je();we.CancelToken=zi();we.isCancel=vn();we.VERSION=bn().version;we.toFormData=wn;we.AxiosError=je;we.Cancel=we.CanceledError;we.all=function(t){return Promise.all(t)};we.spread=Ki();we.isAxiosError=Vi();Gt.exports=we;Gt.exports.default=we;(function(e){e.exports=Gt.exports})(un);Object.defineProperty(Ht,"__esModule",{value:!0});const Yi=un.exports;class Qi{constructor(t){this.METHOD_GET="GET",this.METHOD_POST="POST",this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t)}getConfig(){return this.config}mergeDefaults(t){const r=t.protocol||"http",i=t.port||(r==="https"?443:80);return{host:t.host||"127.0.0.1",protocol:r,port:i,timeout:t.timeout||2e4,logging:t.logging||!1,logger:t.logger||console.log,network:t.network}}async get(t,r){try{return await this.request().get(t,r)}catch(i){if(i.response&&i.response.status)return i.response;throw i}}async post(t,r,i){try{return await this.request().post(t,r,i)}catch(a){if(a.response&&a.response.status)return a.response;throw a}}request(){const t={};this.config.network&&(t["x-network"]=this.config.network);let r=Yi.default.create({baseURL:`${this.config.protocol}://${this.config.host}:${this.config.port}`,timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:t});return this.config.logging&&(r.interceptors.request.use(i=>(this.config.logger(`Requesting: ${i.baseURL}/${i.url}`),i)),r.interceptors.response.use(i=>(this.config.logger(`Response:   ${i.config.url} - ${i.status}`),i))),r}}Ht.default=Qi;var Yt={},re={},Ye={};Ye.byteLength=ra;Ye.toByteArray=ia;Ye.fromByteArray=sa;var Oe=[],Ae=[],ea=typeof Uint8Array<"u"?Uint8Array:Array,mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ce=0,ta=mt.length;Ce<ta;++Ce)Oe[Ce]=mt[Ce],Ae[mt.charCodeAt(Ce)]=Ce;Ae["-".charCodeAt(0)]=62;Ae["_".charCodeAt(0)]=63;function Tn(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function ra(e){var t=Tn(e),r=t[0],i=t[1];return(r+i)*3/4-i}function na(e,t,r){return(t+r)*3/4-r}function ia(e){var t,r=Tn(e),i=r[0],a=r[1],f=new ea(na(e,i,a)),h=0,p=a>0?i-4:i,s;for(s=0;s<p;s+=4)t=Ae[e.charCodeAt(s)]<<18|Ae[e.charCodeAt(s+1)]<<12|Ae[e.charCodeAt(s+2)]<<6|Ae[e.charCodeAt(s+3)],f[h++]=t>>16&255,f[h++]=t>>8&255,f[h++]=t&255;return a===2&&(t=Ae[e.charCodeAt(s)]<<2|Ae[e.charCodeAt(s+1)]>>4,f[h++]=t&255),a===1&&(t=Ae[e.charCodeAt(s)]<<10|Ae[e.charCodeAt(s+1)]<<4|Ae[e.charCodeAt(s+2)]>>2,f[h++]=t>>8&255,f[h++]=t&255),f}function aa(e){return Oe[e>>18&63]+Oe[e>>12&63]+Oe[e>>6&63]+Oe[e&63]}function oa(e,t,r){for(var i,a=[],f=t;f<r;f+=3)i=(e[f]<<16&16711680)+(e[f+1]<<8&65280)+(e[f+2]&255),a.push(aa(i));return a.join("")}function sa(e){for(var t,r=e.length,i=r%3,a=[],f=16383,h=0,p=r-i;h<p;h+=f)a.push(oa(e,h,h+f>p?p:h+f));return i===1?(t=e[r-1],a.push(Oe[t>>2]+Oe[t<<4&63]+"==")):i===2&&(t=(e[r-2]<<8)+e[r-1],a.push(Oe[t>>10]+Oe[t>>4&63]+Oe[t<<2&63]+"=")),a.join("")}var vt={},At={},bt,Ur;function Rn(){return Ur||(Ur=1,bt=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var a=42;t[r]=a;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var f=Object.getOwnPropertySymbols(t);if(f.length!==1||f[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(t,r);if(h.value!==a||h.enumerable!==!0)return!1}return!0}),bt}var St,Cr;function Qe(){if(Cr)return St;Cr=1;var e=Rn();return St=function(){return e()&&!!Symbol.toStringTag},St}var Et,Nr;function ua(){if(Nr)return Et;Nr=1;var e=typeof Symbol<"u"&&Symbol,t=Rn();return Et=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Et}var Ot,Ir;function fa(){if(Ir)return Ot;Ir=1;var e="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";return Ot=function(f){var h=this;if(typeof h!="function"||r.call(h)!==i)throw new TypeError(e+h);for(var p=t.call(arguments,1),s,l=function(){if(this instanceof s){var j=h.apply(this,p.concat(t.call(arguments)));return Object(j)===j?j:this}else return h.apply(f,p.concat(t.call(arguments)))},w=Math.max(0,h.length-p.length),E=[],T=0;T<w;T++)E.push("$"+T);if(s=Function("binder","return function ("+E.join(",")+"){ return binder.apply(this,arguments); }")(l),h.prototype){var _=function(){};_.prototype=h.prototype,s.prototype=new _,_.prototype=null}return s},Ot}var Tt,kr;function Qt(){if(kr)return Tt;kr=1;var e=fa();return Tt=Function.prototype.bind||e,Tt}var Rt,jr;function ca(){if(jr)return Rt;jr=1;var e=Qt();return Rt=e.call(Function.call,Object.prototype.hasOwnProperty),Rt}var _t,Dr;function er(){if(Dr)return _t;Dr=1;var e,t=SyntaxError,r=Function,i=TypeError,a=function(B){try{return r('"use strict"; return ('+B+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var h=function(){throw new i},p=f?function(){try{return arguments.callee,h}catch{try{return f(arguments,"callee").get}catch{return h}}}():h,s=ua()(),l=Object.getPrototypeOf||function(B){return B.__proto__},w={},E=typeof Uint8Array>"u"?e:l(Uint8Array),T={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":s?l([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":w,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?l(l([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!s?e:l(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!s?e:l(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":s?l(""[Symbol.iterator]()):e,"%Symbol%":s?Symbol:e,"%SyntaxError%":t,"%ThrowTypeError%":p,"%TypedArray%":E,"%TypeError%":i,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet},_=function B(q){var F;if(q==="%AsyncFunction%")F=a("async function () {}");else if(q==="%GeneratorFunction%")F=a("function* () {}");else if(q==="%AsyncGeneratorFunction%")F=a("async function* () {}");else if(q==="%AsyncGenerator%"){var L=B("%AsyncGeneratorFunction%");L&&(F=L.prototype)}else if(q==="%AsyncIteratorPrototype%"){var z=B("%AsyncGenerator%");z&&(F=l(z.prototype))}return T[q]=F,F},j={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=Qt(),D=ca(),x=I.call(Function.call,Array.prototype.concat),$=I.call(Function.apply,Array.prototype.splice),W=I.call(Function.call,String.prototype.replace),ae=I.call(Function.call,String.prototype.slice),R=I.call(Function.call,RegExp.prototype.exec),N=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,k=function(q){var F=ae(q,0,1),L=ae(q,-1);if(F==="%"&&L!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(L==="%"&&F!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var z=[];return W(q,N,function(X,ne,ee,ue){z[z.length]=ee?W(ue,U,"$1"):ne||X}),z},M=function(q,F){var L=q,z;if(D(j,L)&&(z=j[L],L="%"+z[0]+"%"),D(T,L)){var X=T[L];if(X===w&&(X=_(L)),typeof X>"u"&&!F)throw new i("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:z,name:L,value:X}}throw new t("intrinsic "+q+" does not exist!")};return _t=function(q,F){if(typeof q!="string"||q.length===0)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof F!="boolean")throw new i('"allowMissing" argument must be a boolean');if(R(/^%?[^%]*%?$/,q)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var L=k(q),z=L.length>0?L[0]:"",X=M("%"+z+"%",F),ne=X.name,ee=X.value,ue=!1,fe=X.alias;fe&&(z=fe[0],$(L,x([0,1],fe)));for(var ce=1,ge=!0;ce<L.length;ce+=1){var A=L[ce],P=ae(A,0,1),g=ae(A,-1);if((P==='"'||P==="'"||P==="`"||g==='"'||g==="'"||g==="`")&&P!==g)throw new t("property names with quotes must have matching quotes");if((A==="constructor"||!ge)&&(ue=!0),z+="."+A,ne="%"+z+"%",D(T,ne))ee=T[ne];else if(ee!=null){if(!(A in ee)){if(!F)throw new i("base intrinsic for "+q+" exists, but the property is not available.");return}if(f&&ce+1>=L.length){var K=f(ee,A);ge=!!K,ge&&"get"in K&&!("originalValue"in K.get)?ee=K.get:ee=ee[A]}else ge=D(ee,A),ee=ee[A];ge&&!ue&&(T[ne]=ee)}}return ee},_t}var Pt={exports:{}},Fr;function la(){return Fr||(Fr=1,function(e){var t=Qt(),r=er(),i=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),f=r("%Reflect.apply%",!0)||t.call(a,i),h=r("%Object.getOwnPropertyDescriptor%",!0),p=r("%Object.defineProperty%",!0),s=r("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}e.exports=function(E){var T=f(t,a,arguments);if(h&&p){var _=h(T,"length");_.configurable&&p(T,"length",{value:1+s(0,E.length-(arguments.length-1))})}return T};var l=function(){return f(t,i,arguments)};p?p(e.exports,"apply",{value:l}):e.exports.apply=l}(Pt)),Pt.exports}var Bt,xr;function tr(){if(xr)return Bt;xr=1;var e=er(),t=la(),r=t(e("String.prototype.indexOf"));return Bt=function(a,f){var h=e(a,!!f);return typeof h=="function"&&r(a,".prototype.")>-1?t(h):h},Bt}var Ut,qr;function ha(){if(qr)return Ut;qr=1;var e=Qe()(),t=tr(),r=t("Object.prototype.toString"),i=function(p){return e&&p&&typeof p=="object"&&Symbol.toStringTag in p?!1:r(p)==="[object Arguments]"},a=function(p){return i(p)?!0:p!==null&&typeof p=="object"&&typeof p.length=="number"&&p.length>=0&&r(p)!=="[object Array]"&&r(p.callee)==="[object Function]"},f=function(){return i(arguments)}();return i.isLegacyArguments=a,Ut=f?i:a,Ut}var Ct,$r;function pa(){if($r)return Ct;$r=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,i=Qe()(),a=Object.getPrototypeOf,f=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch{}},h;return Ct=function(s){if(typeof s!="function")return!1;if(r.test(t.call(s)))return!0;if(!i){var l=e.call(s);return l==="[object GeneratorFunction]"}if(!a)return!1;if(typeof h>"u"){var w=f();h=w?a(w):!1}return a(s)===h},Ct}var Nt,Lr;function da(){if(Lr)return Nt;Lr=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,i;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw i}}),i={},t(function(){throw 42},null,r)}catch(D){D!==i&&(t=null)}else t=null;var a=/^\s*class\b/,f=function(x){try{var $=e.call(x);return a.test($)}catch{return!1}},h=function(x){try{return f(x)?!1:(e.call(x),!0)}catch{return!1}},p=Object.prototype.toString,s="[object Object]",l="[object Function]",w="[object GeneratorFunction]",E="[object HTMLAllCollection]",T=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),j=function(){return!1};if(typeof document=="object"){var I=document.all;p.call(I)===p.call(document.all)&&(j=function(x){if((_||!x)&&(typeof x>"u"||typeof x=="object"))try{var $=p.call(x);return($===E||$===s)&&x("")==null}catch{}return!1})}return Nt=t?function(x){if(j(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;if(typeof x=="function"&&!x.prototype)return!0;try{t(x,null,r)}catch($){if($!==i)return!1}return!f(x)}:function(x){if(j(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;if(T)return h(x);if(f(x))return!1;var $=p.call(x);return $===l||$===w||h(x)},Nt}var It,Mr;function _n(){if(Mr)return It;Mr=1;var e=da(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,i=function(s,l,w){for(var E=0,T=s.length;E<T;E++)r.call(s,E)&&(w==null?l(s[E],E,s):l.call(w,s[E],E,s))},a=function(s,l,w){for(var E=0,T=s.length;E<T;E++)w==null?l(s.charAt(E),E,s):l.call(w,s.charAt(E),E,s)},f=function(s,l,w){for(var E in s)r.call(s,E)&&(w==null?l(s[E],E,s):l.call(w,s[E],E,s))},h=function(s,l,w){if(!e(l))throw new TypeError("iterator must be a function");var E;arguments.length>=3&&(E=w),t.call(s)==="[object Array]"?i(s,l,E):typeof s=="string"?a(s,l,E):f(s,l,E)};return It=h,It}var kt,Hr;function Pn(){if(Hr)return kt;Hr=1;var e=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],t=typeof globalThis>"u"?be:globalThis;return kt=function(){for(var i=[],a=0;a<e.length;a++)typeof t[e[a]]=="function"&&(i[i.length]=e[a]);return i},kt}var jt,Gr;function Bn(){if(Gr)return jt;Gr=1;var e=er(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return jt=t,jt}var Dt,Wr;function Un(){if(Wr)return Dt;Wr=1;var e=_n(),t=Pn(),r=tr(),i=r("Object.prototype.toString"),a=Qe()(),f=typeof globalThis>"u"?be:globalThis,h=t(),p=r("Array.prototype.indexOf",!0)||function(j,I){for(var D=0;D<j.length;D+=1)if(j[D]===I)return D;return-1},s=r("String.prototype.slice"),l={},w=Bn(),E=Object.getPrototypeOf;a&&w&&E&&e(h,function(_){var j=new f[_];if(Symbol.toStringTag in j){var I=E(j),D=w(I,Symbol.toStringTag);if(!D){var x=E(I);D=w(x,Symbol.toStringTag)}l[_]=D.get}});var T=function(j){var I=!1;return e(l,function(D,x){if(!I)try{I=D.call(j)===x}catch{}}),I};return Dt=function(j){if(!j||typeof j!="object")return!1;if(!a||!(Symbol.toStringTag in j)){var I=s(i(j),8,-1);return p(h,I)>-1}return w?T(j):!1},Dt}var Ft,zr;function ya(){if(zr)return Ft;zr=1;var e=_n(),t=Pn(),r=tr(),i=r("Object.prototype.toString"),a=Qe()(),f=typeof globalThis>"u"?be:globalThis,h=t(),p=r("String.prototype.slice"),s={},l=Bn(),w=Object.getPrototypeOf;a&&l&&w&&e(h,function(_){if(typeof f[_]=="function"){var j=new f[_];if(Symbol.toStringTag in j){var I=w(j),D=l(I,Symbol.toStringTag);if(!D){var x=w(I);D=l(x,Symbol.toStringTag)}s[_]=D.get}}});var E=function(j){var I=!1;return e(s,function(D,x){if(!I)try{var $=D.call(j);$===x&&(I=$)}catch{}}),I},T=Un();return Ft=function(j){return T(j)?!a||!(Symbol.toStringTag in j)?p(i(j),8,-1):E(j):!1},Ft}var Kr;function ga(){return Kr||(Kr=1,function(e){var t=ha(),r=pa(),i=ya(),a=Un();function f(u){return u.call.bind(u)}var h=typeof BigInt<"u",p=typeof Symbol<"u",s=f(Object.prototype.toString),l=f(Number.prototype.valueOf),w=f(String.prototype.valueOf),E=f(Boolean.prototype.valueOf);if(h)var T=f(BigInt.prototype.valueOf);if(p)var _=f(Symbol.prototype.valueOf);function j(u,S){if(typeof u!="object")return!1;try{return S(u),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=a;function I(u){return typeof Promise<"u"&&u instanceof Promise||u!==null&&typeof u=="object"&&typeof u.then=="function"&&typeof u.catch=="function"}e.isPromise=I;function D(u){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(u):a(u)||P(u)}e.isArrayBufferView=D;function x(u){return i(u)==="Uint8Array"}e.isUint8Array=x;function $(u){return i(u)==="Uint8ClampedArray"}e.isUint8ClampedArray=$;function W(u){return i(u)==="Uint16Array"}e.isUint16Array=W;function ae(u){return i(u)==="Uint32Array"}e.isUint32Array=ae;function R(u){return i(u)==="Int8Array"}e.isInt8Array=R;function N(u){return i(u)==="Int16Array"}e.isInt16Array=N;function U(u){return i(u)==="Int32Array"}e.isInt32Array=U;function k(u){return i(u)==="Float32Array"}e.isFloat32Array=k;function M(u){return i(u)==="Float64Array"}e.isFloat64Array=M;function B(u){return i(u)==="BigInt64Array"}e.isBigInt64Array=B;function q(u){return i(u)==="BigUint64Array"}e.isBigUint64Array=q;function F(u){return s(u)==="[object Map]"}F.working=typeof Map<"u"&&F(new Map);function L(u){return typeof Map>"u"?!1:F.working?F(u):u instanceof Map}e.isMap=L;function z(u){return s(u)==="[object Set]"}z.working=typeof Set<"u"&&z(new Set);function X(u){return typeof Set>"u"?!1:z.working?z(u):u instanceof Set}e.isSet=X;function ne(u){return s(u)==="[object WeakMap]"}ne.working=typeof WeakMap<"u"&&ne(new WeakMap);function ee(u){return typeof WeakMap>"u"?!1:ne.working?ne(u):u instanceof WeakMap}e.isWeakMap=ee;function ue(u){return s(u)==="[object WeakSet]"}ue.working=typeof WeakSet<"u"&&ue(new WeakSet);function fe(u){return ue(u)}e.isWeakSet=fe;function ce(u){return s(u)==="[object ArrayBuffer]"}ce.working=typeof ArrayBuffer<"u"&&ce(new ArrayBuffer);function ge(u){return typeof ArrayBuffer>"u"?!1:ce.working?ce(u):u instanceof ArrayBuffer}e.isArrayBuffer=ge;function A(u){return s(u)==="[object DataView]"}A.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&A(new DataView(new ArrayBuffer(1),0,1));function P(u){return typeof DataView>"u"?!1:A.working?A(u):u instanceof DataView}e.isDataView=P;var g=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function K(u){return s(u)==="[object SharedArrayBuffer]"}function Z(u){return typeof g>"u"?!1:(typeof K.working>"u"&&(K.working=K(new g)),K.working?K(u):u instanceof g)}e.isSharedArrayBuffer=Z;function Y(u){return s(u)==="[object AsyncFunction]"}e.isAsyncFunction=Y;function V(u){return s(u)==="[object Map Iterator]"}e.isMapIterator=V;function J(u){return s(u)==="[object Set Iterator]"}e.isSetIterator=J;function n(u){return s(u)==="[object Generator]"}e.isGeneratorObject=n;function o(u){return s(u)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=o;function c(u){return j(u,l)}e.isNumberObject=c;function b(u){return j(u,w)}e.isStringObject=b;function y(u){return j(u,E)}e.isBooleanObject=y;function v(u){return h&&j(u,T)}e.isBigIntObject=v;function O(u){return p&&j(u,_)}e.isSymbolObject=O;function d(u){return c(u)||b(u)||y(u)||v(u)||O(u)}e.isBoxedPrimitive=d;function m(u){return typeof Uint8Array<"u"&&(ge(u)||Z(u))}e.isAnyArrayBuffer=m,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(u){Object.defineProperty(e,u,{enumerable:!1,value:function(){throw new Error(u+" is not supported in userland")}})})}(At)),At}var xt,Vr;function wa(){return Vr||(Vr=1,xt=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),xt}var Le={exports:{}},Jr;function ma(){return Jr||(Jr=1,typeof Object.create=="function"?Le.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Le.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}),Le.exports}var Xr;function Cn(){return Xr||(Xr=1,function(e){var t=Object.getOwnPropertyDescriptors||function(P){for(var g=Object.keys(P),K={},Z=0;Z<g.length;Z++)K[g[Z]]=Object.getOwnPropertyDescriptor(P,g[Z]);return K},r=/%[sdj%]/g;e.format=function(A){if(!R(A)){for(var P=[],g=0;g<arguments.length;g++)P.push(h(arguments[g]));return P.join(" ")}for(var g=1,K=arguments,Z=K.length,Y=String(A).replace(r,function(J){if(J==="%%")return"%";if(g>=Z)return J;switch(J){case"%s":return String(K[g++]);case"%d":return Number(K[g++]);case"%j":try{return JSON.stringify(K[g++])}catch{return"[Circular]"}default:return J}}),V=K[g];g<Z;V=K[++g])$(V)||!M(V)?Y+=" "+V:Y+=" "+h(V);return Y},e.deprecate=function(A,P){if(typeof process<"u"&&process.noDeprecation===!0)return A;if(typeof process>"u")return function(){return e.deprecate(A,P).apply(this,arguments)};var g=!1;function K(){if(!g){if(process.throwDeprecation)throw new Error(P);process.traceDeprecation?console.trace(P):console.error(P),g=!0}return A.apply(this,arguments)}return K};var i={},a=/^$/;if(process.env.NODE_DEBUG){var f=process.env.NODE_DEBUG;f=f.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+f+"$","i")}e.debuglog=function(A){if(A=A.toUpperCase(),!i[A])if(a.test(A)){var P=process.pid;i[A]=function(){var g=e.format.apply(e,arguments);console.error("%s %d: %s",A,P,g)}}else i[A]=function(){};return i[A]};function h(A,P){var g={seen:[],stylize:s};return arguments.length>=3&&(g.depth=arguments[2]),arguments.length>=4&&(g.colors=arguments[3]),x(P)?g.showHidden=P:P&&e._extend(g,P),U(g.showHidden)&&(g.showHidden=!1),U(g.depth)&&(g.depth=2),U(g.colors)&&(g.colors=!1),U(g.customInspect)&&(g.customInspect=!0),g.colors&&(g.stylize=p),w(g,A,g.depth)}e.inspect=h,h.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},h.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function p(A,P){var g=h.styles[P];return g?"\x1B["+h.colors[g][0]+"m"+A+"\x1B["+h.colors[g][1]+"m":A}function s(A,P){return A}function l(A){var P={};return A.forEach(function(g,K){P[g]=!0}),P}function w(A,P,g){if(A.customInspect&&P&&F(P.inspect)&&P.inspect!==e.inspect&&!(P.constructor&&P.constructor.prototype===P)){var K=P.inspect(g,A);return R(K)||(K=w(A,K,g)),K}var Z=E(A,P);if(Z)return Z;var Y=Object.keys(P),V=l(Y);if(A.showHidden&&(Y=Object.getOwnPropertyNames(P)),q(P)&&(Y.indexOf("message")>=0||Y.indexOf("description")>=0))return T(P);if(Y.length===0){if(F(P)){var J=P.name?": "+P.name:"";return A.stylize("[Function"+J+"]","special")}if(k(P))return A.stylize(RegExp.prototype.toString.call(P),"regexp");if(B(P))return A.stylize(Date.prototype.toString.call(P),"date");if(q(P))return T(P)}var n="",o=!1,c=["{","}"];if(D(P)&&(o=!0,c=["[","]"]),F(P)){var b=P.name?": "+P.name:"";n=" [Function"+b+"]"}if(k(P)&&(n=" "+RegExp.prototype.toString.call(P)),B(P)&&(n=" "+Date.prototype.toUTCString.call(P)),q(P)&&(n=" "+T(P)),Y.length===0&&(!o||P.length==0))return c[0]+n+c[1];if(g<0)return k(P)?A.stylize(RegExp.prototype.toString.call(P),"regexp"):A.stylize("[Object]","special");A.seen.push(P);var y;return o?y=_(A,P,g,V,Y):y=Y.map(function(v){return j(A,P,g,V,v,o)}),A.seen.pop(),I(y,n,c)}function E(A,P){if(U(P))return A.stylize("undefined","undefined");if(R(P)){var g="'"+JSON.stringify(P).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return A.stylize(g,"string")}if(ae(P))return A.stylize(""+P,"number");if(x(P))return A.stylize(""+P,"boolean");if($(P))return A.stylize("null","null")}function T(A){return"["+Error.prototype.toString.call(A)+"]"}function _(A,P,g,K,Z){for(var Y=[],V=0,J=P.length;V<J;++V)ue(P,String(V))?Y.push(j(A,P,g,K,String(V),!0)):Y.push("");return Z.forEach(function(n){n.match(/^\d+$/)||Y.push(j(A,P,g,K,n,!0))}),Y}function j(A,P,g,K,Z,Y){var V,J,n;if(n=Object.getOwnPropertyDescriptor(P,Z)||{value:P[Z]},n.get?n.set?J=A.stylize("[Getter/Setter]","special"):J=A.stylize("[Getter]","special"):n.set&&(J=A.stylize("[Setter]","special")),ue(K,Z)||(V="["+Z+"]"),J||(A.seen.indexOf(n.value)<0?($(g)?J=w(A,n.value,null):J=w(A,n.value,g-1),J.indexOf(`
`)>-1&&(Y?J=J.split(`
`).map(function(o){return"  "+o}).join(`
`).substr(2):J=`
`+J.split(`
`).map(function(o){return"   "+o}).join(`
`))):J=A.stylize("[Circular]","special")),U(V)){if(Y&&Z.match(/^\d+$/))return J;V=JSON.stringify(""+Z),V.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.substr(1,V.length-2),V=A.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=A.stylize(V,"string"))}return V+": "+J}function I(A,P,g){var K=A.reduce(function(Z,Y){return Y.indexOf(`
`)>=0,Z+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);return K>60?g[0]+(P===""?"":P+`
 `)+" "+A.join(`,
  `)+" "+g[1]:g[0]+P+" "+A.join(", ")+" "+g[1]}e.types=ga();function D(A){return Array.isArray(A)}e.isArray=D;function x(A){return typeof A=="boolean"}e.isBoolean=x;function $(A){return A===null}e.isNull=$;function W(A){return A==null}e.isNullOrUndefined=W;function ae(A){return typeof A=="number"}e.isNumber=ae;function R(A){return typeof A=="string"}e.isString=R;function N(A){return typeof A=="symbol"}e.isSymbol=N;function U(A){return A===void 0}e.isUndefined=U;function k(A){return M(A)&&z(A)==="[object RegExp]"}e.isRegExp=k,e.types.isRegExp=k;function M(A){return typeof A=="object"&&A!==null}e.isObject=M;function B(A){return M(A)&&z(A)==="[object Date]"}e.isDate=B,e.types.isDate=B;function q(A){return M(A)&&(z(A)==="[object Error]"||A instanceof Error)}e.isError=q,e.types.isNativeError=q;function F(A){return typeof A=="function"}e.isFunction=F;function L(A){return A===null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||typeof A=="symbol"||typeof A>"u"}e.isPrimitive=L,e.isBuffer=wa();function z(A){return Object.prototype.toString.call(A)}function X(A){return A<10?"0"+A.toString(10):A.toString(10)}var ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ee(){var A=new Date,P=[X(A.getHours()),X(A.getMinutes()),X(A.getSeconds())].join(":");return[A.getDate(),ne[A.getMonth()],P].join(" ")}e.log=function(){console.log("%s - %s",ee(),e.format.apply(e,arguments))},e.inherits=ma(),e._extend=function(A,P){if(!P||!M(P))return A;for(var g=Object.keys(P),K=g.length;K--;)A[g[K]]=P[g[K]];return A};function ue(A,P){return Object.prototype.hasOwnProperty.call(A,P)}var fe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');if(fe&&P[fe]){var g=P[fe];if(typeof g!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(g,fe,{value:g,enumerable:!1,writable:!1,configurable:!0}),g}function g(){for(var K,Z,Y=new Promise(function(n,o){K=n,Z=o}),V=[],J=0;J<arguments.length;J++)V.push(arguments[J]);V.push(function(n,o){n?Z(n):K(o)});try{P.apply(this,V)}catch(n){Z(n)}return Y}return Object.setPrototypeOf(g,Object.getPrototypeOf(P)),fe&&Object.defineProperty(g,fe,{value:g,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(g,t(P))},e.promisify.custom=fe;function ce(A,P){if(!A){var g=new Error("Promise was rejected with a falsy value");g.reason=A,A=g}return P(A)}function ge(A){if(typeof A!="function")throw new TypeError('The "original" argument must be of type Function');function P(){for(var g=[],K=0;K<arguments.length;K++)g.push(arguments[K]);var Z=g.pop();if(typeof Z!="function")throw new TypeError("The last argument must be of type Function");var Y=this,V=function(){return Z.apply(Y,arguments)};A.apply(this,g).then(function(J){process.nextTick(V.bind(null,null,J))},function(J){process.nextTick(ce.bind(null,J,V))})}return Object.setPrototypeOf(P,Object.getPrototypeOf(A)),Object.defineProperties(P,t(A)),P}e.callbackify=ge}(vt)),vt}Object.defineProperty(re,"__esModule",{value:!0});re.b64UrlDecode=re.b64UrlEncode=re.bufferTob64Url=re.bufferTob64=re.b64UrlToBuffer=re.stringToB64Url=re.stringToBuffer=re.bufferToString=re.b64UrlToString=re.concatBuffers=void 0;const Nn=Ye;function va(e){let t=0;for(let a=0;a<e.length;a++)t+=e[a].byteLength;let r=new Uint8Array(t),i=0;r.set(new Uint8Array(e[0]),i),i+=e[0].byteLength;for(let a=1;a<e.length;a++)r.set(new Uint8Array(e[a]),i),i+=e[a].byteLength;return r}re.concatBuffers=va;function Aa(e){let t=jn(e);return In(t)}re.b64UrlToString=Aa;function In(e){if(typeof TextDecoder>"u"){const t=Cn().TextDecoder;return new t("utf-8",{fatal:!0}).decode(e)}return new TextDecoder("utf-8",{fatal:!0}).decode(e)}re.bufferToString=In;function kn(e){if(typeof TextEncoder>"u"){const t=Cn().TextEncoder;return new t().encode(e)}return new TextEncoder().encode(e)}re.stringToBuffer=kn;function ba(e){return Fn(kn(e))}re.stringToB64Url=ba;function jn(e){return new Uint8Array(Nn.toByteArray(qn(e)))}re.b64UrlToBuffer=jn;function Dn(e){return Nn.fromByteArray(new Uint8Array(e))}re.bufferTob64=Dn;function Fn(e){return xn(Dn(e))}re.bufferTob64Url=Fn;function xn(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}re.b64UrlEncode=xn;function qn(e){e=e.replace(/\-/g,"+").replace(/\_/g,"/");let t;return e.length%4==0?t=0:t=4-e.length%4,e.concat("=".repeat(t))}re.b64UrlDecode=qn;Object.defineProperty(Yt,"__esModule",{value:!0});const Te=re;class Sa{constructor(){if(this.keyLength=4096,this.publicExponent=65537,this.hashAlgorithm="sha256",!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let t=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),r=await this.driver.exportKey("jwk",t.privateKey);return{kty:r.kty,e:r.e,n:r.n,d:r.d,p:r.p,q:r.q,dp:r.dp,dq:r.dq,qi:r.qi}}async sign(t,r,{saltLength:i}={}){let a=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(t),r);return new Uint8Array(a)}async hash(t,r="SHA-256"){let i=await this.driver.digest(r,t);return new Uint8Array(i)}async verify(t,r,i){const a={kty:"RSA",e:"AQAB",n:t},f=await this.jwkToPublicCryptoKey(a),h=this.driver.verify({name:"RSA-PSS",saltLength:32},f,i,r),p=this.driver.verify({name:"RSA-PSS",saltLength:0},f,i,r);return h||p}async jwkToCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;const t=crypto==null?void 0:crypto.subtle;return t===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(i=>typeof t[i]=="function")}async encrypt(t,r,i){const a=await this.driver.importKey("raw",typeof r=="string"?Te.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),f=await this.driver.deriveKey({name:"PBKDF2",salt:i?Te.stringToBuffer(i):Te.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},a,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),h=new Uint8Array(16);crypto.getRandomValues(h);const p=await this.driver.encrypt({name:"AES-CBC",iv:h},f,t);return Te.concatBuffers([h,p])}async decrypt(t,r,i){const a=await this.driver.importKey("raw",typeof r=="string"?Te.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),f=await this.driver.deriveKey({name:"PBKDF2",salt:i?Te.stringToBuffer(i):Te.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},a,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),h=t.slice(0,16),p=await this.driver.decrypt({name:"AES-CBC",iv:h},f,t.slice(16));return Te.concatBuffers([p])}}Yt.default=Sa;var rr={};Object.defineProperty(rr,"__esModule",{value:!0});class Ea{constructor(t){this.api=t}getInfo(){return this.api.get("info").then(t=>t.data)}getPeers(){return this.api.get("peers").then(t=>t.data)}}rr.default=Ea;var Me={},_e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.getError=void 0;class Oa extends Error{constructor(t,r={}){r.message?super(r.message):super(),this.type=t,this.response=r.response}getType(){return this.type}}_e.default=Oa;function Ta(e){let t=e.data;if(typeof e.data=="string")try{t=JSON.parse(e.data)}catch{}if(e.data instanceof ArrayBuffer||e.data instanceof Uint8Array)try{t=JSON.parse(t.toString())}catch{}return t?t.error||t:e.statusText||"unknown"}_e.getError=Ta;var Ne={},He={},Zr;function Ra(){if(Zr)return He;Zr=1,Object.defineProperty(He,"__esModule",{value:!0});const e=Ke();async function t(i){if(Array.isArray(i)){const h=e.default.utils.concatBuffers([e.default.utils.stringToBuffer("list"),e.default.utils.stringToBuffer(i.length.toString())]);return await r(i,await e.default.crypto.hash(h,"SHA-384"))}const a=e.default.utils.concatBuffers([e.default.utils.stringToBuffer("blob"),e.default.utils.stringToBuffer(i.byteLength.toString())]),f=e.default.utils.concatBuffers([await e.default.crypto.hash(a,"SHA-384"),await e.default.crypto.hash(i,"SHA-384")]);return await e.default.crypto.hash(f,"SHA-384")}He.default=t;async function r(i,a){if(i.length<1)return a;const f=e.default.utils.concatBuffers([a,await t(i[0])]),h=await e.default.crypto.hash(f,"SHA-384");return await r(i.slice(1),h)}return He}var qt={},Yr;function $n(){return Yr||(Yr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.validatePath=e.arrayCompare=e.bufferToInt=e.intToBuffer=e.arrayFlatten=e.generateProofs=e.buildLayers=e.generateTransactionChunks=e.generateTree=e.computeRootHash=e.generateLeaves=e.chunkData=e.MIN_CHUNK_SIZE=e.MAX_CHUNK_SIZE=void 0;const t=Ke(),r=re;e.MAX_CHUNK_SIZE=256*1024,e.MIN_CHUNK_SIZE=32*1024;const i=32,a=32;async function f(R){let N=[],U=R,k=0;for(;U.byteLength>=e.MAX_CHUNK_SIZE;){let M=e.MAX_CHUNK_SIZE,B=U.byteLength-e.MAX_CHUNK_SIZE;B>0&&B<e.MIN_CHUNK_SIZE&&(M=Math.ceil(U.byteLength/2));const q=U.slice(0,M),F=await t.default.crypto.hash(q);k+=q.byteLength,N.push({dataHash:F,minByteRange:k-q.byteLength,maxByteRange:k}),U=U.slice(M)}return N.push({dataHash:await t.default.crypto.hash(U),minByteRange:k,maxByteRange:k+U.byteLength}),N}e.chunkData=f;async function h(R){return Promise.all(R.map(async({dataHash:N,minByteRange:U,maxByteRange:k})=>({type:"leaf",id:await I(await Promise.all([I(N),I(D(k))])),dataHash:N,minByteRange:U,maxByteRange:k})))}e.generateLeaves=h;async function p(R){return(await s(R)).id}e.computeRootHash=p;async function s(R){return await w(await h(await f(R)))}e.generateTree=s;async function l(R){const N=await f(R),U=await h(N),k=await w(U),M=await E(k),B=N.slice(-1)[0];return B.maxByteRange-B.minByteRange===0&&(N.splice(N.length-1,1),M.splice(M.length-1,1)),{data_root:k.id,chunks:N,proofs:M}}e.generateTransactionChunks=l;async function w(R,N=0){if(R.length<2)return R[0];const U=[];for(let k=0;k<R.length;k+=2)U.push(await j(R[k],R[k+1]));return w(U,N+1)}e.buildLayers=w;function E(R){const N=T(R);return Array.isArray(N)?_(N):[N]}e.generateProofs=E;function T(R,N=new Uint8Array,U=0){if(R.type=="leaf")return{offset:R.maxByteRange-1,proof:(0,r.concatBuffers)([N,R.dataHash,D(R.maxByteRange)])};if(R.type=="branch"){const k=(0,r.concatBuffers)([N,R.leftChild.id,R.rightChild.id,D(R.byteRange)]);return[T(R.leftChild,k,U+1),T(R.rightChild,k,U+1)]}throw new Error("Unexpected node type")}function _(R){const N=[];return R.forEach(U=>{Array.isArray(U)?N.push(..._(U)):N.push(U)}),N}e.arrayFlatten=_;async function j(R,N){return N?{type:"branch",id:await I([await I(R.id),await I(N.id),await I(D(R.maxByteRange))]),byteRange:R.maxByteRange,maxByteRange:N.maxByteRange,leftChild:R,rightChild:N}:R}async function I(R){return Array.isArray(R)&&(R=t.default.utils.concatBuffers(R)),new Uint8Array(await t.default.crypto.hash(R))}function D(R){const N=new Uint8Array(i);for(var U=N.length-1;U>=0;U--){var k=R%256;N[U]=k,R=(R-k)/256}return N}e.intToBuffer=D;function x(R){let N=0;for(var U=0;U<R.length;U++)N*=256,N+=R[U];return N}e.bufferToInt=x;const $=(R,N)=>R.every((U,k)=>N[k]===U);e.arrayCompare=$;async function W(R,N,U,k,M){if(k<=0)return!1;if(N>=k)return W(R,0,k-1,k,M);if(N<0)return W(R,0,0,k,M);if(M.length==a+i){const ne=M.slice(0,a),ee=M.slice(ne.length,ne.length+i),ue=await I([await I(ne),await I(ee)]);return(0,e.arrayCompare)(R,ue)?{offset:k-1,leftBound:U,rightBound:k,chunkSize:k-U}:!1}const B=M.slice(0,a),q=M.slice(B.length,B.length+a),F=M.slice(B.length+q.length,B.length+q.length+i),L=x(F),z=M.slice(B.length+q.length+F.length),X=await I([await I(B),await I(q),await I(F)]);return(0,e.arrayCompare)(R,X)?N<L?await W(B,N,U,Math.min(k,L),z):await W(q,N,Math.max(U,L),k,z):!1}e.validatePath=W;async function ae(R,N=""){if(R.byteLength<1)return N;const U=R.slice(0,a),k=R.slice(U.length,U.length+a),M=R.slice(U.length+k.length,U.length+k.length+i),B=x(M),q=R.slice(U.length+k.length+M.length),F=await I([await I(U),await I(k),await I(M)]),L=`${N}
${JSON.stringify(Buffer.from(U))},${JSON.stringify(Buffer.from(k))},${B} => ${JSON.stringify(F)}`;return ae(q,L)}e.debug=ae}(qt)),qt}var Qr;function nr(){if(Qr)return Ne;Qr=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.Tag=void 0;const e=re,t=Ra(),r=$n();class i{get(p,s){if(!Object.getOwnPropertyNames(this).includes(p))throw new Error(`Field "${p}" is not a property of the Arweave Transaction class.`);return this[p]instanceof Uint8Array?s&&s.decode&&s.string?e.bufferToString(this[p]):s&&s.decode&&!s.string?this[p]:e.bufferTob64Url(this[p]):s&&s.decode==!0?s&&s.string?e.b64UrlToString(this[p]):e.b64UrlToBuffer(this[p]):this[p]}}class a extends i{constructor(p,s,l=!1){super(),this.name=p,this.value=s}}Ne.Tag=a;class f extends i{constructor(p={}){super(),this.format=2,this.id="",this.last_tx="",this.owner="",this.tags=[],this.target="",this.quantity="0",this.data_size="0",this.data=new Uint8Array,this.data_root="",this.reward="0",this.signature="",Object.assign(this,p),typeof this.data=="string"&&(this.data=e.b64UrlToBuffer(this.data)),p.tags&&(this.tags=p.tags.map(s=>new a(s.name,s.value)))}addTag(p,s){this.tags.push(new a(e.stringToB64Url(p),e.stringToB64Url(s)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:e.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(p){this.owner=p}setSignature({id:p,owner:s,reward:l,tags:w,signature:E}){this.id=p,this.owner=s,l&&(this.reward=l),w&&(this.tags=w),this.signature=E}async prepareChunks(p){!this.chunks&&p.byteLength>0&&(this.chunks=await(0,r.generateTransactionChunks)(p),this.data_root=e.bufferTob64Url(this.chunks.data_root)),!this.chunks&&p.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(p,s){if(!this.chunks)throw new Error("Chunks have not been prepared");const l=this.chunks.proofs[p],w=this.chunks.chunks[p];return{data_root:this.data_root,data_size:this.data_size,data_path:e.bufferTob64Url(l.proof),offset:l.offset.toString(),chunk:e.bufferTob64Url(s.slice(w.minByteRange,w.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let p=this.tags.reduce((l,w)=>e.concatBuffers([l,w.get("name",{decode:!0,string:!1}),w.get("value",{decode:!0,string:!1})]),new Uint8Array);return e.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),e.stringToBuffer(this.quantity),e.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),p]);case 2:this.data_root||await this.prepareChunks(this.data);const s=this.tags.map(l=>[l.get("name",{decode:!0,string:!1}),l.get("value",{decode:!0,string:!1})]);return await(0,t.default)([e.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),e.stringToBuffer(this.quantity),e.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),s,e.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}return Ne.default=f,Ne}var Fe={},en;function _a(){if(en)return Fe;en=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.TransactionUploader=void 0;const e=nr(),t=re,r=_e,i=$n(),a=1,f=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],h=1e3*40;class p{constructor(l,w){if(this.api=l,this.chunkIndex=0,this.txPosted=!1,this.lastRequestTimeEnd=0,this.totalErrors=0,this.lastResponseStatus=0,this.lastResponseError="",!w.id)throw new Error("Transaction is not signed");if(!w.chunks)throw new Error("Transaction chunks not prepared");this.data=w.data,this.transaction=new e.default(Object.assign({},w,{data:new Uint8Array(0)}))}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(l){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let w=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+h-Date.now(),h);if(w>0&&(w=w-w*Math.random()*.3,await new Promise(j=>setTimeout(j,w))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}l&&(this.chunkIndex=l);const E=this.transaction.getChunk(l||this.chunkIndex,this.data);if(!await(0,i.validatePath)(this.transaction.chunks.data_root,parseInt(E.offset),0,parseInt(E.data_size),t.b64UrlToBuffer(E.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const _=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(j=>(console.error(j.message),{status:-1,data:{error:j.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=_.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,r.getError)(_),f.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(l,w,E){if(!w||typeof w.chunkIndex!="number"||typeof w.transaction!="object")throw new Error("Serialized object does not match expected format.");var T=new e.default(w.transaction);T.chunks||await T.prepareChunks(E);const _=new p(l,T);if(_.chunkIndex=w.chunkIndex,_.lastRequestTimeEnd=w.lastRequestTimeEnd,_.lastResponseError=w.lastResponseError,_.lastResponseStatus=w.lastResponseStatus,_.txPosted=w.txPosted,_.data=E,_.transaction.data_root!==w.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return _}static async fromTransactionId(l,w){const E=await l.get(`tx/${w}`);if(E.status!==200)throw new Error(`Tx ${w} not found: ${E.status}`);const T=E.data;return T.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:T}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=a){this.transaction.data=this.data;const E=await this.api.post("tx",this.transaction).catch(T=>(console.error(T),{status:-1,data:{error:T.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=E.status,this.transaction.data=new Uint8Array(0),E.status>=200&&E.status<300){this.txPosted=!0,this.chunkIndex=a;return}throw this.lastResponseError=(0,r.getError)(E),new Error(`Unable to upload transaction: ${E.status}, ${this.lastResponseError}`)}const w=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=w.status,!(w.status>=200&&w.status<300))throw this.lastResponseError=(0,r.getError)(w),new Error(`Unable to upload transaction: ${w.status}, ${this.lastResponseError}`);this.txPosted=!0}}return Fe.TransactionUploader=p,Fe}var tn;function Pa(){if(tn)return Me;tn=1;var e=be&&be.__await||function(p){return this instanceof e?(this.v=p,this):new e(p)},t=be&&be.__asyncGenerator||function(p,s,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var w=l.apply(p,s||[]),E,T=[];return E={},_("next"),_("throw"),_("return"),E[Symbol.asyncIterator]=function(){return this},E;function _(W){w[W]&&(E[W]=function(ae){return new Promise(function(R,N){T.push([W,ae,R,N])>1||j(W,ae)})})}function j(W,ae){try{I(w[W](ae))}catch(R){$(T[0][3],R)}}function I(W){W.value instanceof e?Promise.resolve(W.value.v).then(D,x):$(T[0][2],W)}function D(W){j("next",W)}function x(W){j("throw",W)}function $(W,ae){W(ae),T.shift(),T.length&&j(T[0][0],T[0][1])}};Object.defineProperty(Me,"__esModule",{value:!0});const r=_e,i=nr(),a=re,f=_a();class h{constructor(s,l,w){this.api=s,this.crypto=l,this.chunks=w}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(s=>s.data)}getPrice(s,l){let w=l?`price/${s}/${l}`:`price/${s}`;return this.api.get(w,{transformResponse:[function(E){return E}]}).then(E=>E.data)}async get(s){const l=await this.api.get(`tx/${s}`);if(l.status==200){const w=parseInt(l.data.data_size);if(l.data.format>=2&&w>0&&w<=1024*1024*12){const E=await this.getData(s);return new i.default(Object.assign(Object.assign({},l.data),{data:E}))}return new i.default(Object.assign(Object.assign({},l.data),{format:l.data.format||1}))}throw l.status==404?new r.default("TX_NOT_FOUND"):l.status==410?new r.default("TX_FAILED"):new r.default("TX_INVALID")}fromRaw(s){return new i.default(s)}async search(s,l){return this.api.post("arql",{op:"equals",expr1:s,expr2:l}).then(w=>w.data?w.data:[])}getStatus(s){return this.api.get(`tx/${s}/status`).then(l=>l.status==200?{status:200,confirmed:l.data}:{status:l.status,confirmed:null})}async getData(s,l){let w;try{w=await this.chunks.downloadChunkedData(s)}catch(E){console.error(`Error while trying to download chunked data for ${s}`),console.error(E)}if(!w){console.warn(`Falling back to gateway cache for ${s}`);try{w=(await this.api.get(`/${s}`)).data}catch(E){console.error(`Error while trying to download contiguous data from gateway cache for ${s}`),console.error(E)}}if(!w)throw new Error(`${s} was not found!`);return l&&l.decode&&!l.string?w:l&&l.decode&&l.string?a.bufferToString(w):a.bufferTob64Url(w)}async sign(s,l,w){if(!l&&(typeof window>"u"||!window.arweaveWallet))throw new Error("A new Arweave transaction must provide the jwk parameter.");if(!l||l==="use_wallet"){try{(await window.arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await window.arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}const E=await window.arweaveWallet.sign(s,w);s.setSignature({id:E.id,owner:E.owner,reward:E.reward,tags:E.tags,signature:E.signature})}else{s.setOwner(l.n);let E=await s.getSignatureData(),T=await this.crypto.sign(l,E,w),_=await this.crypto.hash(T);s.setSignature({id:a.bufferTob64Url(_),owner:l.n,signature:a.bufferTob64Url(T)})}}async verify(s){const l=await s.getSignatureData(),w=s.get("signature",{decode:!0,string:!1}),E=a.bufferTob64Url(await this.crypto.hash(w));if(s.id!==E)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(s.owner,l,w)}async post(s){if(typeof s=="string"?s=new i.default(JSON.parse(s)):typeof s.readInt32BE=="function"?s=new i.default(JSON.parse(s.toString())):typeof s=="object"&&!(s instanceof i.default)&&(s=new i.default(s)),!(s instanceof i.default))throw new Error("Must be Transaction object");s.chunks||await s.prepareChunks(s.data);const l=await this.getUploader(s,s.data);try{for(;!l.isComplete;)await l.uploadChunk()}catch(w){if(l.lastResponseStatus>0)return{status:l.lastResponseStatus,statusText:l.lastResponseError,data:{error:l.lastResponseError}};throw w}return{status:200,statusText:"OK",data:{}}}async getUploader(s,l){let w;if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),s instanceof i.default){if(l||(l=s.data),!(l instanceof Uint8Array))throw new Error("Data format is invalid");s.chunks||await s.prepareChunks(l),w=new f.TransactionUploader(this.api,s),(!w.data||w.data.length===0)&&(w.data=l)}else{if(typeof s=="string"&&(s=await f.TransactionUploader.fromTransactionId(this.api,s)),!l||!(l instanceof Uint8Array))throw new Error("Must provide data when resuming upload");w=await f.TransactionUploader.fromSerialized(this.api,s,l)}return w}upload(s,l){return t(this,arguments,function*(){const E=yield e(this.getUploader(s,l));for(;!E.isComplete;)yield e(E.uploadChunk()),yield yield e(E);return yield e(E)})}}return Me.default=h,Me}var ir={};Object.defineProperty(ir,"__esModule",{value:!0});const rn=re;class Ba{constructor(t,r){this.api=t,this.crypto=r}getBalance(t){return this.api.get(`wallet/${t}/balance`,{transformResponse:[function(r){return r}]}).then(r=>r.data)}getLastTransactionID(t){return this.api.get(`wallet/${t}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(t){return!t||t==="use_wallet"?this.getAddress():this.getAddress(t)}async getAddress(t){if(!t||t==="use_wallet"){try{await window.arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return window.arweaveWallet.getActiveAddress()}else return this.ownerToAddress(t.n)}async ownerToAddress(t){return rn.bufferTob64Url(await this.crypto.hash(rn.b64UrlToBuffer(t)))}}ir.default=Ba;var xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.SiloResource=void 0;const nn=re;class Ua{constructor(t,r,i){this.api=t,this.crypto=r,this.transactions=i}async get(t){if(!t)throw new Error("No Silo URI specified");const r=await this.parseUri(t),i=await this.transactions.search("Silo-Name",r.getAccessKey());if(i.length==0)throw new Error(`No data could be found for the Silo URI: ${t}`);const a=await this.transactions.get(i[0]);if(!a)throw new Error(`No data could be found for the Silo URI: ${t}`);const f=a.get("data",{decode:!0,string:!1});return this.crypto.decrypt(f,r.getEncryptionKey())}async readTransactionData(t,r){if(!r)throw new Error("No Silo URI specified");const i=await this.parseUri(r),a=t.get("data",{decode:!0,string:!1});return this.crypto.decrypt(a,i.getEncryptionKey())}async parseUri(t){const r=t.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!r)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");const i=r[1],a=Math.pow(2,parseInt(r[2])),f=await this.hash(nn.stringToBuffer(i),a),h=nn.bufferTob64(f.slice(0,15)),p=await this.hash(f.slice(16,31),1);return new Ln(t,h,p)}async hash(t,r){let i=await this.crypto.hash(t);for(let a=0;a<r-1;a++)i=await this.crypto.hash(i);return i}}xe.default=Ua;class Ln{constructor(t,r,i){this.uri=t,this.accessKey=r,this.encryptionKey=i}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}}xe.SiloResource=Ln;var ar={};Object.defineProperty(ar,"__esModule",{value:!0});const an=_e,Ca=re;class Na{constructor(t){this.api=t}async getTransactionOffset(t){const r=await this.api.get(`tx/${t}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${(0,an.getError)(r)}`)}async getChunk(t){const r=await this.api.get(`chunk/${t}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${(0,an.getError)(r)}`)}async getChunkData(t){const r=await this.getChunk(t);return Ca.b64UrlToBuffer(r.chunk)}firstChunkOffset(t){return parseInt(t.offset)-parseInt(t.size)+1}async downloadChunkedData(t){const r=await this.getTransactionOffset(t),i=parseInt(r.size),f=parseInt(r.offset)-i+1,h=new Uint8Array(i);let p=0;for(;p<i;){this.api.config.logging&&console.log(`[chunk] ${p}/${i}`);let s;try{s=await this.getChunkData(f+p)}catch{console.error(`[chunk] Failed to fetch chunk at offset ${f+p}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node")}if(s)h.set(s,p),p+=s.length;else throw new Error(`Couldn't complete data download at ${p}/${i}`)}return h}}ar.default=Na;var or={};Object.defineProperty(or,"__esModule",{value:!0});const Ia=_e;class et{constructor(t,r){this.api=t,this.network=r}async get(t){const r=await this.api.get(`${et.ENDPOINT}${t}`);if(r.status===200)return r.data;throw r.status===404?new Ia.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){const{current:t}=await this.network.getInfo();return await this.get(t)}}or.default=et;et.ENDPOINT="block/hash/";var on;function Ke(){if(on)return $e;on=1,Object.defineProperty($e,"__esModule",{value:!0});const e=Mt,t=Ht,r=Yt,i=rr,a=Pa(),f=ir,h=nr(),p=re,s=xe,l=ar,w=or;class E{constructor(_){this.api=new t.default(_),this.wallets=new f.default(this.api,E.crypto),this.chunks=new l.default(this.api),this.transactions=new a.default(this.api,E.crypto,this.chunks),this.silo=new s.default(this.api,this.crypto,this.transactions),this.network=new i.default(this.api),this.blocks=new w.default(this.api,this.network),this.ar=new e.default}get crypto(){return E.crypto}get utils(){return E.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(_,j){const I={};if(Object.assign(I,_),!_.data&&!(_.target&&_.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(_.owner==null&&j&&j!=="use_wallet"&&(I.owner=j.n),_.last_tx==null&&(I.last_tx=await this.transactions.getTransactionAnchor()),typeof _.data=="string"&&(_.data=p.stringToBuffer(_.data)),_.data instanceof ArrayBuffer&&(_.data=new Uint8Array(_.data)),_.data&&!(_.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(_.reward==null){const x=_.data?_.data.byteLength:0;I.reward=await this.transactions.getPrice(x,I.target)}I.data_root="",I.data_size=_.data?_.data.byteLength.toString():"0",I.data=_.data||new Uint8Array(0);const D=new h.default(I);return await D.getSignatureData(),D}async createSiloTransaction(_,j,I){const D={};if(Object.assign(D,_),!_.data)throw new Error("Silo transactions must have a 'data' value");if(!I)throw new Error("No Silo URI specified.");if(_.target||_.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(_.owner==null){if(!j||!j.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");D.owner=j.n}_.last_tx==null&&(D.last_tx=await this.transactions.getTransactionAnchor());const x=await this.silo.parseUri(I);if(typeof _.data=="string"){const W=await this.crypto.encrypt(p.stringToBuffer(_.data),x.getEncryptionKey());D.reward=await this.transactions.getPrice(W.byteLength),D.data=p.bufferTob64Url(W)}if(_.data instanceof Uint8Array){const W=await this.crypto.encrypt(_.data,x.getEncryptionKey());D.reward=await this.transactions.getPrice(W.byteLength),D.data=p.bufferTob64Url(W)}const $=new h.default(D);return $.addTag("Silo-Name",x.getAccessKey()),$.addTag("Silo-Version","0.1.0"),$}arql(_){return this.api.post("/arql",_).then(j=>j.data||[])}}return $e.default=E,E.crypto=new r.default,E.utils=p,$e}(function(e){var t=be&&be.__createBinding||(Object.create?function(a,f,h,p){p===void 0&&(p=h);var s=Object.getOwnPropertyDescriptor(f,h);(!s||("get"in s?!f.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(a,p,s)}:function(a,f,h,p){p===void 0&&(p=h),a[p]=f[h]}),r=be&&be.__exportStar||function(a,f){for(var h in a)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&t(f,a,h)};Object.defineProperty(e,"__esModule",{value:!0});const i=Ke();i.default.init=function(a={}){function f(){const w={host:"arweave.net",port:443,protocol:"https"};if(!window||!window.location||!window.location.protocol||!window.location.hostname)return w;const E=window.location.protocol.replace(":",""),T=window.location.hostname,_=window.location.port?parseInt(window.location.port):E=="https"?443:80;return["localhost","127.0.0.1"].includes(T)||E=="file"?w:{host:T,port:_,protocol:E}}const h=f(),p=a.protocol||h.protocol,s=a.host||h.host,l=a.port||h.port;return new i.default(Object.assign(Object.assign({},a),{host:s,protocol:p,port:l}))},window.Arweave=i.default,r(Ke(),e),e.default=i.default})(Lt);const ka=Mn(Lt),Da=Hn({__proto__:null,default:ka},[Lt]);export{ka as A,Da as i};
