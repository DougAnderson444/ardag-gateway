import{S as P,i as D,s as I,k as d,l as w,m as p,h as u,n as v,b as T,F as k,f as c,g as N,t as g,d as O,o as j,v as R,w as U,x as L,y as S,T as G,A as C}from"../../../../chunks/index-dee658ab.js";import{_ as y}from"../../../../chunks/preload-helper-aa6bc0ce.js";import{A as F}from"../../../../chunks/PlugNPlayGateway.svelte_svelte_type_style_lang-40242407.js";function E(n){let a,l;return a=new F({props:{ardag:n[2],dag:n[3],owner:n[0],tag:n[1]}}),a.$on("change",n[5]),{c(){R(a.$$.fragment)},l(t){U(a.$$.fragment,t)},m(t,e){L(a,t,e),l=!0},p(t,e){const r={};e&4&&(r.ardag=t[2]),e&8&&(r.dag=t[3]),e&1&&(r.owner=t[0]),e&2&&(r.tag=t[1]),a.$set(r)},i(t){l||(c(a.$$.fragment,t),l=!0)},o(t){g(a.$$.fragment,t),l=!1},d(t){S(a,t)}}}function B(n){let a,l,t,e=n[0]&&n[1]&&n[2]&&n[3]&&E(n);return{c(){a=d("main"),l=d("div"),e&&e.c(),this.h()},l(r){a=w(r,"MAIN",{class:!0});var o=p(a);l=w(o,"DIV",{class:!0});var i=p(l);e&&e.l(i),i.forEach(u),o.forEach(u),this.h()},h(){v(l,"class","flex flex-col p-2 h-full svelte-18psq5z"),v(a,"class","flex flex-col w-full h-screen my-0 mx-auto box-border justify-start svelte-18psq5z")},m(r,o){T(r,a,o),k(a,l),e&&e.m(l,null),t=!0},p(r,[o]){r[0]&&r[1]&&r[2]&&r[3]?e?(e.p(r,o),o&15&&c(e,1)):(e=E(r),e.c(),c(e,1),e.m(l,null)):e&&(N(),g(e,1,1,()=>{e=null}),O())},i(r){t||(c(e),t=!0)},o(r){g(e),t=!1},d(r){r&&u(a),e&&e.d()}}}function H(n,a,l){let{owner:t}=a,{tag:e}=a,{serverUrl:r="https://arweave.net"}=a,o,i,m;j(async()=>{if(!m&&!globalThis.dag){const{createDagRepo:M}=await y(()=>import("../../../../chunks/index-4fc52c31.js"),[],import.meta.url);l(3,m=await M()),globalThis.dag=m}else l(3,m=globalThis.dag);l(4,r=location.hostname=="localhost"?"http://localhost:1984":r);const A=new URLSearchParams(location.search).get("arweaveServer");A&&l(4,r=A);let{host:b,hostname:q,port:_,protocol:h}=new URL(r);b=q||"localhost",_=_||443,h=h.replace(":","");let f=await y(()=>import("../../../../chunks/arweave-72f544d0.js"),[],import.meta.url);f.default&&(f=f.default),f.default&&(f=f.default),o=f.init({host:b,port:_,protocol:h,timeout:2e4,logging:!1}),console.log({host:b,port:_,protocol:h,Arweave:f});const{initializeArDag:z}=await y(()=>import("../../../../chunks/ardag-6cdad32f.js"),[],import.meta.url);l(2,i=z({arweave:o}))});function V(s){G.call(this,n,s)}return n.$$set=s=>{"owner"in s&&l(0,t=s.owner),"tag"in s&&l(1,e=s.tag),"serverUrl"in s&&l(4,r=s.serverUrl)},[t,e,i,m,r,V]}class J extends P{constructor(a){super(),D(this,a,H,B,I,{owner:0,tag:1,serverUrl:4})}}function K(n){let a,l;return a=new J({props:{owner:n[0],tag:n[1]}}),{c(){R(a.$$.fragment)},l(t){U(a.$$.fragment,t)},m(t,e){L(a,t,e),l=!0},p:C,i(t){l||(c(a.$$.fragment,t),l=!0)},o(t){g(a.$$.fragment,t),l=!1},d(t){S(a,t)}}}function Q(n){let a,l,t,e=n[0]&&n[1]&&K(n);return{c(){a=d("main"),l=d("div"),e&&e.c(),this.h()},l(r){a=w(r,"MAIN",{class:!0});var o=p(a);l=w(o,"DIV",{class:!0});var i=p(l);e&&e.l(i),i.forEach(u),o.forEach(u),this.h()},h(){v(l,"class","flex flex-col p-2 h-full"),v(a,"class","flex flex-col w-full h-screen my-0 mx-auto box-border justify-start")},m(r,o){T(r,a,o),k(a,l),e&&e.m(l,null),t=!0},p(r,[o]){r[0]&&r[1]&&e.p(r,o)},i(r){t||(c(e),t=!0)},o(r){g(e),t=!1},d(r){r&&u(a),e&&e.d()}}}function W(n,a,l){let{data:t}=a,e=t.params.owner,r=t.params.tag;return n.$$set=o=>{"data"in o&&l(2,t=o.data)},[e,r,t]}class x extends P{constructor(a){super(),D(this,a,W,Q,I,{data:2})}}export{x as default};
